import{$ as v,A as l,B as k,C as h,Ca as bt,D as De,Da as wt,E as d,Ea as ze,F as we,Fa as B,G as i,Ga as ye,H as n,Ha as R,I as p,Ia as z,J as me,K as pe,L as S,La as j,M as b,N as u,Na as Ct,O as He,Oa as Z,P as $e,Pa as K,Q as Se,Qa as Q,R as Ge,Ra as Et,S as ne,Sa as yt,T as Oe,U as r,V as C,W as w,X as Fe,Y as ct,Z as f,_ as x,a as re,aa as ge,b as le,ba as Y,c as Te,ca as Ce,d as st,da as D,e as ut,ea as gt,f as be,fa as P,g as ke,ga as _t,h as dt,ha as ae,i as mt,ia as Ee,j as ie,k as pt,l as Ne,la as G,m as V,ma as O,n as Be,na as W,o as A,oa as ht,p as T,pa as ft,q as Ie,qa as xt,r as fe,ra as J,s as je,sa as vt,t as g,ta as qe,u as _,ua as Ye,v as E,va as U,w as M,x as ue,y as Re,z as L,za as Xe}from"./chunk-BJ4IIDOB.js";var ki=(a,m)=>({"text-white bg-indigo-600":a,"text-gray-500 bg-white":m}),xe=()=>({exact:!0}),te=(()=>{class a{isSidebarOpen=!1;currentSidebarTab=null;closeTimeout=null;openSidebar(e){this.isSidebarOpen=!0,this.currentSidebarTab=e,this.clearCloseTimeout()}startCloseTimeout(){this.clearCloseTimeout(),this.closeTimeout=setTimeout(()=>{this.isSidebarOpen=!1,this.currentSidebarTab=null},1e3)}clearCloseTimeout(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=T({type:a,selectors:[["app-sidebar"]],decls:123,vars:26,consts:[[1,"flex","flex-shrink-0","transition-all","h-full","fixed","inset-y-0","z-10","sidebar"],[1,"sidebar-button","inset-y-0","z-100","w-16","bg-white","border-r-2","relative"],["data-tip","Open Sidenav",1,"tooltip","tooltip-right","tooltip-primary","menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-primary","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2",3,"mouseenter","ngClass"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h7"],["data-tip","Edit TG Bot",1,"tooltip","tooltip-right","tooltip-primary"],["routerLink","/admin","routerLinkActive","bg-indigo-600 text-white",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-primary","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2",3,"routerLinkActiveOptions"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24",1,"w-6","h-6"],["fill","currentColor","d","M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13l.71-.71a.996.996 0 0 1 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71l-5.3 5.3V21h2.12l5.3-5.3z"],["data-tip","Send TG notification",1,"tooltip","tooltip-right","tooltip-primary"],["routerLink","/admin/push","routerLinkActive","bg-indigo-600 text-white",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-primary","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2"],["_ngcontent-ng-c869363523","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"w-6","h-6"],["_ngcontent-ng-c869363523","","fill","currentColor","d","M11 14h2v-3h3V9h-3V6h-2v3H8v2h3zm-9 8V4q0-.825.588-1.412T4 2h16q.825 0 1.413.588T22 4v12q0 .825-.587 1.413T20 18H6z"],["data-tip","Send Email",1,"tooltip","tooltip-right","tooltip-primary"],["routerLink","/admin/email-sent","routerLinkActive","bg-indigo-600 text-white",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-primary","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"w-6","h-6"],["fill","currentColor","d","M12 19a6.995 6.995 0 0 1 10-6.32V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h8.08c-.05-.33-.08-.66-.08-1M4 6l8 5l8-5v2l-8 5l-8-5zm13.34 16l-3.54-3.54l1.41-1.41l2.12 2.12l4.24-4.24L23 16.34z"],["data-tip","TG Users",1,"tooltip","tooltip-right","tooltip-primary"],["routerLink","/admin/users","routerLinkActive","bg-indigo-600 text-white",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-primary","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2"],["fill","currentColor","d","M12 6c1.1 0 2 .9 2 2s-.9 2-2 2s-2-.9-2-2s.9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4s4-1.79 4-4s-1.79-4-4-4m0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"],["data-tip","Site Users",1,"tooltip","tooltip-right","tooltip-primary"],["routerLink","/admin/site-users","routerLinkActive","bg-indigo-600 text-white",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-primary","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2"],["fill","currentColor","d","M0 18v-1.575q0-1.075 1.1-1.75T4 14q.325 0 .625.013t.575.062q-.35.525-.525 1.1t-.175 1.2V18zm6 0v-1.625q0-.8.438-1.463t1.237-1.162T9.588 13T12 12.75q1.325 0 2.438.25t1.912.75t1.225 1.163t.425 1.462V18zm13.5 0v-1.625q0-.65-.162-1.225t-.488-1.075q.275-.05.563-.062T20 14q1.8 0 2.9.663t1.1 1.762V18zM4 13q-.825 0-1.412-.587T2 11q0-.85.588-1.425T4 9q.85 0 1.425.575T6 11q0 .825-.575 1.413T4 13m16 0q-.825 0-1.412-.587T18 11q0-.85.588-1.425T20 9q.85 0 1.425.575T22 11q0 .825-.575 1.413T20 13m-8-1q-1.25 0-2.125-.875T9 9q0-1.275.875-2.137T12 6q1.275 0 2.138.863T15 9q0 1.25-.862 2.125T12 12"],["data-tip","Images",1,"tooltip","tooltip-right","tooltip-primary"],["routerLink","/admin/images","routerLinkActive","bg-indigo-600 text-white",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-primary","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","72","stroke-dashoffset","72","d","M3 14v-9h18v14h-18v-5"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.6s","values","72;0"],["stroke-dasharray","24","stroke-dashoffset","24","stroke-width","1","d","M3 16l4 -3l3 2l6 -5l5 4"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.6s","dur","0.4s","values","24;0"],["fill","currentColor","fill-opacity","0"],["cx","7.5","cy","9.5","r","1.5"],["fill","freeze","attributeName","fill-opacity","begin","1s","dur","0.2s","values","0;1"],["d","M3 16l4 -3l3 2l6 -5l5 4V19H3Z"],["fill","freeze","attributeName","fill-opacity","begin","1.3s","dur","0.15s","values","0;0.3"],["data-tip","Event Sites",1,"tooltip","tooltip-right","tooltip-primary"],["routerLink","/admin/events","routerLinkActive","bg-indigo-600 text-white",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-primary","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 2048 2048",1,"w-6","h-6"],["fill","currentColor","d","M1024 0q141 0 272 36t245 103t207 160t160 208t103 245t37 272q0 141-36 272t-103 245t-160 207t-208 160t-245 103t-272 37q-141 0-272-36t-245-103t-207-160t-160-208t-103-244t-37-273q0-141 36-272t103-245t160-207t208-160T751 37t273-37m0 1920q123 0 237-32t214-90t182-141t140-181t91-214t32-238q0-123-32-237t-90-214t-141-182t-181-140t-214-91t-238-32q-123 0-237 32t-214 90t-182 141t-140 181t-91 214t-32 238q0 123 32 237t90 214t141 182t181 140t214 91t238 32m597-880l48-144h75l-85 256h-75l-48-144l-48 144h-75l-85-256h75l48 144l48-144h74zm-464-144h75l-85 256h-75l-48-144l-48 144h-75l-85-256h75l48 144l48-144h74l48 144zm-512 0h75l-85 256h-75l-48-144l-48 144h-75l-85-256h75l48 144l48-144h74l48 144z"],["data-tip","Tutorials",1,"tooltip","tooltip-right","tooltip-primary"],["routerLink","/admin/tutorials","routerLinkActive","bg-indigo-600 text-white",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-primary","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2"],["fill","currentColor","d","M7.92 7.54c-.8-.34-1.14-1.33-.66-2.05C8.23 4.05 9.85 3 11.99 3c2.35 0 3.96 1.07 4.78 2.41c.7 1.15 1.11 3.3.03 4.9c-1.2 1.77-2.35 2.31-2.97 3.45c-.15.27-.24.49-.3.94c-.09.73-.69 1.3-1.43 1.3c-.87 0-1.58-.75-1.48-1.62c.06-.51.18-1.04.46-1.54c.77-1.39 2.25-2.21 3.11-3.44c.91-1.29.4-3.7-2.18-3.7c-1.17 0-1.93.61-2.4 1.34c-.35.57-1.08.75-1.69.5M14 20c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2"],["data-tip","Add",1,"tooltip","tooltip-right","tooltip-primary"],["routerLink","/admin/add-button","routerLinkActive","bg-indigo-600 text-white",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-primary","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2"],["fill","currentColor","d","M19 12.998h-6v6h-2v-6H5v-2h6v-6h2v6h6z"],["routerLink","","data-tip","Exit",1,"menu-button","p-2","transition-colors","rounded-lg","shadow-md","hover:bg-primary","hover:text-white","focus:outline-none","focus:ring","focus:ring-indigo-600","focus:ring-offset-white","focus:ring-offset-2","absolute","bottom-4","left-0","tooltip","tooltip-right","tooltip-primary"],["fill","currentColor","d","M10.09 15.59L11.5 17l5-5l-5-5l-1.41 1.41L12.67 11H3v2h9.67zM19 3H5a2 2 0 0 0-2 2v4h2V5h14v14H5v-4H3v4a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"],[1,"sidebar-menu","fixed","inset-y-0","z-10","flex-shrink-0","w-64","bg-white","border-r-2","border-indigo-100","shadow-lg","left-16","sm:w-72",3,"mouseenter","mouseleave"],["aria-label","Main",1,"flex","flex-col","h-full"],[1,"relative","flex-1","px-4","space-y-2","overflow-hidden","hover:overflow-auto","pt-[62px]","flex","flex-col","gap-[11px]","cursor-pointer"],[1,"text-3xl","font-bold","text-indigo-600","absolute","top-[20px]","left-[50%]","translate-x-[-50%]"],["routerLink","/admin","routerLinkActive","bg-indigo-600 text-white",1,"nav-item","mt-0","flex","items-center","w-full","space-x-2","text-indigo-600","transition-colors","rounded-lg","group","hover:bg-primary","hover:text-white","cursor-pointer",3,"routerLinkActiveOptions"],["aria-hidden","true",1,"p-2","transition-colors","rounded-lg","group-hover:bg-primary","group-hover:text-white"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"],["routerLink","/admin/push","routerLinkActive","bg-indigo-600 text-white",1,"nav-item","mt-0","flex","items-center","space-x-2","text-indigo-600","transition-colors","rounded-lg","group","hover:bg-primary","hover:text-white",3,"routerLinkActiveOptions"],["_ngcontent-ng-c869363523","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["routerLink","/admin/email-sent","routerLinkActive","bg-indigo-600 text-white",1,"nav-item","mt-0","flex","items-center","space-x-2","text-indigo-600","transition-colors","rounded-lg","group","hover:bg-primary","hover:text-white",3,"routerLinkActiveOptions"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["routerLink","/admin/users","routerLinkActive","bg-indigo-600 text-white",1,"nav-item","mt-0","flex","items-center","space-x-2","text-indigo-600","transition-colors","rounded-lg","group","hover:bg-primary","hover:text-white",3,"routerLinkActiveOptions"],["routerLink","/admin/site-users","routerLinkActive","bg-indigo-600 text-white",1,"nav-item","mt-0","flex","items-center","space-x-2","text-indigo-600","transition-colors","rounded-lg","group","hover:bg-primary","hover:text-white",3,"routerLinkActiveOptions"],["routerLink","/admin/images","routerLinkActive","bg-indigo-600 text-white",1,"nav-item","mt-0","flex","items-center","space-x-2","text-indigo-600","transition-colors","rounded-lg","group","hover:bg-primary","hover:text-white",3,"routerLinkActiveOptions"],["routerLink","/admin/events","routerLinkActive","bg-indigo-600 text-white",1,"nav-item","mt-0","flex","items-center","space-x-2","text-indigo-600","transition-colors","rounded-lg","group","hover:bg-primary","hover:text-white",3,"routerLinkActiveOptions"],["routerLink","/admin/tutorials","routerLinkActive","bg-indigo-600 text-white",1,"nav-item","mt-0","flex","items-center","space-x-2","text-indigo-600","transition-colors","rounded-lg","group","hover:bg-primary","hover:text-white",3,"routerLinkActiveOptions"],["routerLink","/admin/add-button","routerLinkActive","bg-indigo-600 text-white",1,"nav-item","mt-0","flex","items-center","space-x-2","text-indigo-600","transition-colors","rounded-lg","group","hover:bg-primary","hover:text-white",3,"routerLinkActiveOptions"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),b("mouseenter",function(){return t.openSidebar("linksTab")}),i(3,"span",3),r(4,"Toggle sidebar"),n(),E(),i(5,"svg",4),p(6,"path",5),n()(),M(),i(7,"div",6)(8,"button",7),E(),i(9,"svg",8),p(10,"path",9),n()()(),M(),i(11,"div",10)(12,"button",11),E(),i(13,"svg",12),p(14,"path",13),n()()(),M(),i(15,"div",14)(16,"button",15),E(),i(17,"svg",16),p(18,"path",17),n()()(),M(),i(19,"div",18)(20,"button",19),E(),i(21,"svg",16),p(22,"path",20),n()()(),M(),i(23,"div",21)(24,"button",22),E(),i(25,"svg",16),p(26,"path",23),n()()(),M(),i(27,"div",24)(28,"button",25),E(),i(29,"svg",16)(30,"g",26)(31,"path",27),p(32,"animate",28),n(),i(33,"path",29),p(34,"animate",30),n()(),i(35,"g",31)(36,"circle",32),p(37,"animate",33),n(),i(38,"path",34),p(39,"animate",35),n()()()()(),M(),i(40,"div",36)(41,"button",37),E(),i(42,"svg",38),p(43,"path",39),n()()(),M(),i(44,"div",40)(45,"button",41),E(),i(46,"svg",8),p(47,"path",42),n()()(),M(),i(48,"div",43)(49,"button",44),E(),i(50,"svg",8),p(51,"path",45),n()()(),M(),i(52,"button",46),E(),i(53,"svg",8),p(54,"path",47),n()()(),M(),i(55,"div",48),b("mouseenter",function(){return t.clearCloseTimeout()})("mouseleave",function(){return t.startCloseTimeout()}),i(56,"nav",49)(57,"div",50)(58,"span",51),r(59,"Admin"),n(),i(60,"div",52)(61,"span",53),E(),i(62,"svg",54),p(63,"path",55),n()(),M(),i(64,"span"),r(65,"Edit"),n()(),i(66,"div",56)(67,"span",53),E(),i(68,"svg",57),p(69,"path",13),n()(),M(),i(70,"span"),r(71,"TG send notification"),n()(),i(72,"div",58)(73,"span",53),E(),i(74,"svg",59),p(75,"path",17),n()(),M(),i(76,"span"),r(77,"Send e-mail"),n()(),i(78,"div",60)(79,"span",53),E(),i(80,"svg",59),p(81,"path",20),n()(),M(),i(82,"span"),r(83,"TG Users"),n()(),i(84,"div",61)(85,"span",53),E(),i(86,"svg",59),p(87,"path",23),n()(),M(),i(88,"span"),r(89,"Site Users"),n()(),i(90,"div",62)(91,"span",53),E(),i(92,"svg",59)(93,"g",26)(94,"path",27),p(95,"animate",28),n(),i(96,"path",29),p(97,"animate",30),n()(),i(98,"g",31)(99,"circle",32),p(100,"animate",33),n(),i(101,"path",34),p(102,"animate",35),n()()()(),M(),i(103,"span"),r(104,"Images"),n()(),i(105,"div",63)(106,"span",53),E(),i(107,"svg",38),p(108,"path",39),n()(),M(),i(109,"span"),r(110,"Sites events"),n()(),i(111,"div",64)(112,"span",53),E(),i(113,"svg",54),p(114,"path",42),n()(),M(),i(115,"span"),r(116,"Tutorials"),n()(),i(117,"div",65)(118,"span",53),E(),i(119,"svg",54),p(120,"path",66),n()(),M(),i(121,"span"),r(122,"Create"),n()()()()()()),o&2&&(l(2),d("ngClass",Ce(13,ki,t.isSidebarOpen&&t.currentSidebarTab==="linksTab",!(t.isSidebarOpen&&t.currentSidebarTab==="linksTab"))),l(6),d("routerLinkActiveOptions",ge(16,xe)),l(47),we("hidden",!t.isSidebarOpen),l(5),d("routerLinkActiveOptions",ge(17,xe)),l(6),d("routerLinkActiveOptions",ge(18,xe)),l(6),d("routerLinkActiveOptions",ge(19,xe)),l(6),d("routerLinkActiveOptions",ge(20,xe)),l(6),d("routerLinkActiveOptions",ge(21,xe)),l(6),d("routerLinkActiveOptions",ge(22,xe)),l(15),d("routerLinkActiveOptions",ge(23,xe)),l(6),d("routerLinkActiveOptions",ge(24,xe)),l(6),d("routerLinkActiveOptions",ge(25,xe)))},dependencies:[G,bt,wt],styles:[".sidebar[_ngcontent-%COMP%]   .sidebar-button[_ngcontent-%COMP%]{border-radius:0 20px 20px 0;box-shadow:0 0 15px #4e46e533}.sidebar[_ngcontent-%COMP%]   .sidebar-button[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #4e46e580;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease-in-out}.sidebar[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{margin:10px 0 10px 10px}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]{border-radius:20px}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #4e46e580;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease-in-out}.sidebar[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before, .sidebar[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:transparent!important}"]})}return a})();var _e=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275cmp=T({type:a,selectors:[["app-edit-icon"]],decls:9,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","20","stroke-dashoffset","20","d","M3 21h18"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.2s","values","20;0"],["fill","currentColor","fill-opacity","0","stroke-dasharray","48","stroke-dashoffset","48","d","M7 17v-4l10 -10l4 4l-10 10h-4"],["fill","freeze","attributeName","fill-opacity","begin","1.1s","dur","0.5s","values","0;1"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.2s","dur","0.6s","values","48;0"],["stroke-dasharray","8","stroke-dashoffset","8","d","M14 6l4 4"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.8s","dur","0.2s","values","8;0"]],template:function(o,t){o&1&&(E(),i(0,"svg",0)(1,"g",1)(2,"path",2),p(3,"animate",3),n(),i(4,"path",4),p(5,"animate",5)(6,"animate",6),n(),i(7,"path",7),p(8,"animate",8),n()()())}})}return a})();var St=(()=>{class a{transform(e,o){return e?o===null?e:o===3?e.filter(t=>t.parent_menu&&(t.parent_menu.id===4||t.parent_menu.id===5)):e.filter(t=>t.parent_menu&&t.parent_menu.id===o):[]}static \u0275fac=function(o){return new(o||a)};static \u0275pipe=fe({name:"filterByParentMenuId",type:a,pure:!0})}return a})();var Mt=(()=>{class a{transform(e){if(!e||typeof e=="string"&&!e.trim())return"";let o=new Date(e);if(isNaN(o.getTime()))return"";let t=this.padZero(o.getHours()),s=this.padZero(o.getMinutes()),c=this.padZero(o.getSeconds()),y=this.padZero(o.getDate()),F=this.padZero(o.getMonth()+1),N=o.getFullYear();return`${t}:${s}:${c} ${y}.${F}.${N}`}padZero(e){return e<10?`0${e}`:e.toString()}static \u0275fac=function(o){return new(o||a)};static \u0275pipe=fe({name:"dateFormat",type:a,pure:!0})}return a})();var Tt=(()=>{class a{transform(e,o,t=!0){return!e||!o?e:[...e].sort((s,c)=>{let y=s[o],F=c[o];if(y==null&&(y=""),F==null&&(F=""),o==="sentAt"){let N=y?new Date(y).getTime():0,$=F?new Date(F).getTime():0;return t?N-$:$-N}return typeof y=="string"&&typeof F=="string"?t?y.localeCompare(F):F.localeCompare(y):0})}static \u0275fac=function(o){return new(o||a)};static \u0275pipe=fe({name:"sort",type:a,pure:!1})}return a})();var kt=(()=>{class a{transform(e,o){return e?o===null?e:e.filter(t=>t.site_name===o):[]}static \u0275fac=function(o){return new(o||a)};static \u0275pipe=fe({name:"filterBySiteName",type:a,pure:!0})}return a})();var Bt=(()=>{class a{transform(e,o=!0){return!e||!e.length?e:[...e].sort((t,s)=>{let c=t.created_at?new Date(t.created_at).getTime():0,y=s.created_at?new Date(s.created_at).getTime():0;return o?c-y:y-c})}static \u0275fac=function(o){return new(o||a)};static \u0275pipe=fe({name:"sortNews",type:a,pure:!1})}return a})();var Me=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275cmp=T({type:a,selectors:[["app-loading"]],decls:21,vars:0,consts:[[1,"isLoading","w-[300px]","h-[300px]","fixed","z-10"],["xmlns","http://www.w3.org/2000/svg","width","300","height","300","viewBox","0 0 24 24",1,""],["id","gradient1","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(51.01% 0.274 263.83)"],["offset","100%","stop-color","#4f45e5"],["id","gradient2","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(47.66% 0.246 305.88)"],["offset","100%","stop-color","#818cf8"],["id","gradient3","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","#4f45e5"],["offset","100%","stop-color","#8845e5"],["cx","12","cy","12","r","0","fill","url(#gradient1)"],["id","svgSpinnersPulseMultiple0","fill","freeze","attributeName","r","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient2)"],["id","svgSpinnersPulseMultiple1","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient3)"],["id","svgSpinnersPulseMultiple2","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"]],template:function(o,t){o&1&&(i(0,"div",0),E(),i(1,"svg",1)(2,"defs")(3,"radialGradient",2),p(4,"stop",3)(5,"stop",4),n(),i(6,"radialGradient",5),p(7,"stop",6)(8,"stop",7),n(),i(9,"radialGradient",8),p(10,"stop",9)(11,"stop",10),n()(),i(12,"circle",11),p(13,"animate",12)(14,"animate",13),n(),i(15,"circle",14),p(16,"animate",15)(17,"animate",16),n(),i(18,"circle",17),p(19,"animate",18)(20,"animate",19),n()()())}})}return a})();var It=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=Ie({type:a});static \u0275inj=Be({imports:[qe,ze]})}return a})();var Dt=(()=>{class a{http;apiUrl=B.auth.apiUrl;constructor(e){this.http=e}getGreetings(){return this.http.get(`${this.apiUrl}greetings`)}updateGreeting(e,o){return this.http.put(`${this.apiUrl}greetings/${e}`,o)}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Ai(a,m){if(a&1){let e=S();i(0,"div",11)(1,"b"),r(2),n(),i(3,"span",12),b("click",function(){g(e);let t=u(2);return _(t.closeSuccessMessage())}),E(),i(4,"svg",13),p(5,"path",14),n()()()}if(a&2){let e=u(2);l(2),w(" ",e.successMessage," ")}}function Wi(a,m){if(a&1){let e=S();i(0,"div",15),r(1),i(2,"span",12),b("click",function(){g(e);let t=u(2);return _(t.closeErrorMessage())}),E(),i(3,"svg",13),p(4,"path",14),n()()()}if(a&2){let e=u(2);l(),w(" ",e.errorMessage," ")}}function Li(a,m){if(a&1&&(i(0,"figure"),p(1,"img",40),n()),a&2){let e=u(2).$implicit;l(),d("src",e.image_url,L)}}function Ui(a,m){if(a&1){let e=S();i(0,"div"),h(1,Li,2,1,"figure",24),i(2,"div",25)(3,"p",26),r(4),n(),i(5,"p",27),r(6,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435:"),n(),i(7,"p"),r(8),n(),i(9,"div",28)(10,"button",29),b("click",function(){g(e);let t=u().$implicit,s=u(2);return _(s.toggleEdit(t))}),r(11," Edit "),i(12,"span",30),E(),i(13,"svg",31)(14,"g",32)(15,"path",33),p(16,"animate",34),n(),i(17,"path",35),p(18,"animate",36)(19,"animate",37),n(),i(20,"path",38),p(21,"animate",39),n()()()()()()()()}if(a&2){let e=u().$implicit;l(),d("ngIf",e.image_url),l(3),w("ID: ",e.id,""),l(4),C(e.greeting_text)}}function Ni(a,m){if(a&1&&(i(0,"figure"),p(1,"img",40),n()),a&2){let e=u(2).$implicit;l(),d("src",e.image_url,L)}}function Oi(a,m){a&1&&(i(0,"span",54),r(1," \u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0434\u043E\u043C\u0435\u043D, \u0432\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u0438\u043C \u0434\u043E\u043C\u0435\u043D\u043E\u043C https://1xjet.jp/tgadmin/image/example.png \u0438\u043B\u0438 https://1xjet.netlify.app/example.png "),n())}function zi(a,m){if(a&1){let e=S();i(0,"div"),h(1,Ni,2,1,"figure",24),i(2,"div",41)(3,"label",42),r(4," \u0412\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0441\u0441\u044B\u043B\u043A\u0443 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043F\u0440\u0438\u043C\u0435\u0440: "),i(5,"b"),r(6,"https://image.com"),n(),h(7,Oi,2,0,"span",43),n(),i(8,"div",44)(9,"p",45),r(10," \u041F\u0443\u0442\u044C "),n(),i(11,"input",46),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.image_url,t)||(s.image_url=t),_(t)}),b("blur",function(){g(e);let t=u().$implicit,s=u(2);return _(s.refreshImage(t))}),n()()(),i(12,"div",25)(13,"label",47),r(14,"\u041A\u043E\u043D\u0442\u0435\u043D\u0442 \u043A\u043D\u043E\u043F\u043A\u0438"),n(),i(15,"textarea",48),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.greeting_text,t)||(s.greeting_text=t),_(t)}),n(),i(16,"div",28)(17,"button",49),b("click",function(){g(e);let t=u().$implicit,s=u(2);return _(s.saveChanges(t))}),r(18," > \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),i(19,"span",50),E(),i(20,"svg",51)(21,"path",52),p(22,"animate",53),n()()()()()()()}if(a&2){let e=u().$implicit,o=u(2);l(),d("ngIf",e.image_url),l(6),d("ngIf",e.image_url&&!o.isValidImageUrl(e.image_url)),l(4),f("ngModel",e.image_url),l(4),f("ngModel",e.greeting_text),l(2),d("disabled",!o.isValidImageUrl(e.image_url||""))}}function ji(a,m){if(a&1&&(i(0,"div",16)(1,"div",17)(2,"div",18)(3,"p",19),r(4," \u{1F44B} "),i(5,"span",20),r(6),n()()(),i(7,"div",21)(8,"p",22),r(9),D(10,"date"),n()()(),i(11,"div",23),h(12,Ui,22,3,"div",3)(13,zi,23,5,"ng-template",null,1,ae),n()()),a&2){let e=m.$implicit,o=m.index,t=ne(14);l(6),w("\u041F\u0440\u0438\u0432\u0435\u0441\u0442\u0432\u0438\u0435 \u2116",o+1,""),l(3),w(" \u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F: ",P(10,4,e.created_at,"medium")," "),l(3),d("ngIf",!e.isEditing)("ngIfElse",t)}}function Ri(a,m){if(a&1&&(i(0,"div")(1,"div",4)(2,"h2",5),r(3," \u041F\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0431\u043E\u0442\u0430 "),i(4,"span"),r(5,"/start"),n()(),i(6,"p",6),r(7," \u0412\u0441\u0435\u0433\u043E \u043F\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0439: "),i(8,"span",7),r(9),n()()(),h(10,Ai,6,1,"div",8)(11,Wi,5,1,"div",9)(12,ji,15,7,"div",10),n()),a&2){let e=u();l(9),C(e.greetings.length),l(),d("ngIf",e.successMessage),l(),d("ngIf",e.errorMessage),l(),d("ngForOf",e.greetings)}}function Hi(a,m){a&1&&p(0,"app-loading")}var Ft=(()=>{class a{greetingBotService;greetings=[];loading=!0;successMessage=null;errorMessage=null;baseUrl=B.auth.baseUrl;constructor(e){this.greetingBotService=e}ngOnInit(){this.loadGreetings()}loadGreetings(){this.greetingBotService.getGreetings().subscribe({next:e=>{this.greetings=e.map(o=>le(re({},o),{isEditing:!1})),this.loading=!1,console.log("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E \u0443\u0441\u043F\u0435\u0448\u043D\u043E",this.greetings)},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445:",e),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445",this.loading=!1}})}toggleEdit(e){e.isEditing=!e.isEditing,this.clearMessages()}saveChanges(e){this.greetingBotService.updateGreeting(e.id,{greeting_text:e.greeting_text,image_url:e.image_url}).subscribe({next:o=>{e.isEditing=!1,this.successMessage="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E!",setTimeout(()=>{this.closeSuccessMessage()},3e3)},error:o=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438:",o),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439",setTimeout(()=>{this.closeErrorMessage()},3e3)}})}refreshImage(e){console.log("URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u043E:",e.image_url),this.clearMessages()}closeSuccessMessage(){this.successMessage=null}closeErrorMessage(){this.errorMessage=null}clearMessages(){this.successMessage=null,this.errorMessage=null}isValidImageUrl(e){return!e||e.trim()===""?!0:e.startsWith(this.baseUrl)}static \u0275fac=function(o){return new(o||a)(k(Dt))};static \u0275cmp=T({type:a,selectors:[["app-greeting-bot"]],decls:4,vars:2,consts:[["loading",""],["editMode",""],[1,"tab-item","w-full"],[4,"ngIf","ngIfElse"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","px-[20px]","py-[10px]","my-[30px]","rounded-[20px]","w-[70%]","mx-auto"],[1,"title-tab","text-xl","font-bold","text-main-trans"],[1,"text-right","text-indigo-600","flex","gap-2","items-center","rounded-[20px]","bg-main","px-[15px]","py-[5px]"],[1,"font-bold","text-2xl"],["class","alert alert-success mb-4 relative flex justify-between",4,"ngIf"],["class","alert alert-error relative",4,"ngIf"],["class","card-wrapper bg-main-trans-gradient-0 rounded-[20px] p-[20px] pb-[30px]",4,"ngFor","ngForOf"],[1,"alert","alert-success","mb-4","relative","flex","justify-between"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"],[1,"alert","alert-error","relative"],[1,"card-wrapper","bg-main-trans-gradient-0","rounded-[20px]","p-[20px]","pb-[30px]"],[1,"card-wrapper-title","flex","items-start","justify-between","mb-[20px]"],[1,"card-title-group","flex","justify-between","items-center"],[1,"number","text-lg"],[1,"font-bold","text-indigo-600"],[1,"card-date","flex","items-center","gap-2"],[1,"text-xs","text-gray-500"],[1,"card","bg-base-100","mx-auto","w-[80%]","hover-shadow-white"],[4,"ngIf"],[1,"card-body"],[1,"text-indigo-600"],[1,"text-indigo-400","text-lg"],[1,"card-actions","justify-center","pt-[20px]"],[1,"btn","btn-ghost","pr-0",3,"click"],[1,"btn","btn-primary"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","20","stroke-dashoffset","20","d","M3 21h18"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.2s","values","20;0"],["fill","currentColor","fill-opacity","0","stroke-dasharray","48","stroke-dashoffset","48","d","M7 17v-4l10 -10l4 4l-10 10h-4"],["fill","freeze","attributeName","fill-opacity","begin","1.1s","dur","0.5s","values","0;1"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.2s","dur","0.6s","values","48;0"],["stroke-dasharray","8","stroke-dashoffset","8","d","M14 6l4 4"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.8s","dur","0.2s","values","8;0"],["alt","Greeting image",3,"src"],[1,"mt-4","px-[32px]"],["for","domain name",1,"block","text-sm","text-indigo-400"],["class","text-red-500 text-sm mt-2 block pt-2",4,"ngIf"],[1,"flex","items-center","mt-2"],[1,"py-2.5","px-3","text-gray-700","bg-gray-200","border","border-r-0","rounded-l-lg","input-title"],["type","text","placeholder","https://image.com",1,"input","block","w-full","rounded-l-none","placeholder-gray-500","border","border-gray-300","bg-white","px-5","py-2.5","text-gray-800","focus:border-blue-500","focus:outline-none","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","blur","ngModel"],["for","Description",1,"block","text-sm","text-indigo-400","font-bold"],["placeholder","\u0421\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u0435 \u043F\u0440\u0438\u0432\u0435\u0442\u0441\u0432\u0435\u043D\u043D\u043E\u0433\u043E \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F",1,"block","mt-2","w-full","h-[320px]","placeholder-gray-500","rounded-lg","border","border-gray-300","bg-white","px-4","py-2.5","text-gray-800","focus:border-blue-500","focus:outline-none","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"btn","btn-ghost","pr-0","text-success",3,"click","disabled"],[1,"btn","btn-accent"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","none","stroke","#fff","stroke-dasharray","24","stroke-dashoffset","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.7","d","M5 11l6 6l10 -10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.96s","values","24;0"],[1,"text-red-500","text-sm","mt-2","block","pt-2"]],template:function(o,t){if(o&1&&(i(0,"section",2),h(1,Ri,13,4,"div",3)(2,Hi,1,0,"ng-template",null,0,ae),n()),o&2){let s=ne(3);l(),d("ngIf",t.greetings.length>0)("ngIfElse",s)}},dependencies:[O,W,Me,R,z,j,J]})}return a})();var Ze=(()=>{class a{http;apiUrl=B.auth.apiUrl;constructor(e){this.http=e}getPosts(){return this.http.get(`${this.apiUrl}menu/posts`)}updatePost(e,o){return this.http.put(`${this.apiUrl}posts/${e}`,o)}updatePostButton(e,o){return this.http.put(`${this.apiUrl}post-buttons/${e}`,o)}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Ke=(()=>{class a{http;apiUrl=`${B.auth.apiUrl}menu-buttons-inline`;constructor(e){this.http=e}getButtons(){return this.http.get(this.apiUrl)}getButtonById(e){return this.http.get(`${this.apiUrl}/${e}`)}createButton(e){return this.http.post(this.apiUrl,e)}updateButton(e,o){return this.http.put(`${this.apiUrl}/${e}`,o)}deleteButton(e){return this.http.delete(`${this.apiUrl}/${e}`)}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var ee={production:!0,auth:{email:"admin-bot-1x",password:"tJfB59iWxAXL",apiUrl:"https://vi.devsmm.pro/api/",baseUrl:"https://vi.devsmm.pro",apiUrlEventLandings:"https://forecast-server.najib-saab.workers.dev/vietget-admin/landings",apiUrlEvents:"https://forecast-server.najib-saab.workers.dev/vietget-admin/events",apiUrlEventsStatistics:"https://forecast-server.najib-saab.workers.dev/statistics",imageUrl:"https://vi.devsmm.pro",secret:"vietget-admin",domenUrl:"https://vietget.online/"}};var ce=(()=>{class a{isValidImageUrl(e){return!e||e.trim()===""?!0:e.startsWith(ee.auth.baseUrl)}static \u0275fac=function(o){return new(o||a)};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Gi(a,m){if(a&1){let e=S();i(0,"div",13)(1,"b"),r(2),n(),i(3,"span",14),b("click",function(){g(e);let t=u();return _(t.closeMessages())}),E(),i(4,"svg",15),p(5,"path",16),n()()()}if(a&2){let e=u();l(2),w(" ",e.successMessage," ")}}function qi(a,m){if(a&1){let e=S();i(0,"div",17),r(1),i(2,"span",14),b("click",function(){g(e);let t=u();return _(t.closeMessages())}),E(),i(3,"svg",15),p(4,"path",16),n()()()}if(a&2){let e=u();l(),w(" ",e.errorMessage," ")}}function Yi(a,m){if(a&1&&(i(0,"figure"),p(1,"img",37),n()),a&2){let e=u(3).$implicit;l(),d("src",e.post_image_url,L)}}function Xi(a,m){if(a&1&&(i(0,"div",35),h(1,Yi,2,1,"figure",36),n()),a&2){let e=u(2).$implicit;l(),d("ngIf",e.post_image_url)}}function Ji(a,m){if(a&1&&(i(0,"span",38),r(1),n()),a&2){let e=u(2).$implicit;l(),C(e.title_for_client)}}function Zi(a,m){if(a&1){let e=S();i(0,"div"),h(1,Xi,2,1,"div",27),i(2,"div",28)(3,"p",29),r(4),h(5,Ji,2,1,"span",30),n(),i(6,"h3",31),r(7),n(),i(8,"p"),r(9),n(),i(10,"div",32)(11,"button",33),b("click",function(){g(e);let t=u().$implicit,s=u(2);return _(s.toggleEdit(t))}),r(12," \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),i(13,"span",34),p(14,"app-edit-icon"),n()()()()()}if(a&2){let e=u().$implicit;l(),d("ngIf",e.post_image_url),l(3),w(" # ",e.id," : "),l(),d("ngIf",e.title_for_client),l(2),w(" ",e.post_title," "),l(2),C(e.post_content)}}function Ki(a,m){if(a&1&&(i(0,"figure"),p(1,"img",37),n()),a&2){let e=u(2).$implicit;l(),d("src",e.post_image_url,L)}}function Qi(a,m){a&1&&(i(0,"span",52),r(1," \u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0434\u043E\u043C\u0435\u043D, \u0432\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u0438\u043C \u0434\u043E\u043C\u0435\u043D\u043E\u043C "),p(2,"br"),r(3," https://1xjet.jp/tgadmin/image/example.png \u0438\u043B\u0438 https://1xjet.netlify.app/example.png "),n())}function en(a,m){if(a&1){let e=S();h(0,Ki,2,1,"figure",36),i(1,"div",39)(2,"label",40),r(3,"URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F: "),h(4,Qi,4,0,"span",41),n(),i(5,"input",42),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.post_image_url,t)||(s.post_image_url=t),_(t)}),b("blur",function(){g(e);let t=u().$implicit,s=u(2);return _(s.refreshImage(t))}),n(),i(6,"label",43),r(7,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430:"),n(),i(8,"input",44),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.post_title,t)||(s.post_title=t),_(t)}),n(),i(9,"label",43),r(10,"\u041A\u043E\u043D\u0442\u0435\u043D\u0442 \u043F\u043E\u0441\u0442\u0430:"),n(),i(11,"textarea",45),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.post_content,t)||(s.post_content=t),_(t)}),n(),i(12,"div",46)(13,"button",47),b("click",function(){g(e);let t=u().$implicit,s=u(2);return _(s.saveChanges(t))}),r(14," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),i(15,"span",48),E(),i(16,"svg",49)(17,"path",50),p(18,"animate",51),n()()()()()()}if(a&2){let e=u().$implicit,o=u(2);d("ngIf",e.post_image_url),l(4),d("ngIf",e.post_image_url&&!o.urlValidationService.isValidImageUrl(e.post_image_url)),l(),f("ngModel",e.post_image_url),l(3),f("ngModel",e.post_title),l(3),f("ngModel",e.post_content),l(2),d("disabled",!o.urlValidationService.isValidImageUrl(e.post_image_url))}}function tn(a,m){if(a&1&&(i(0,"div",64)(1,"span"),r(2),D(3,"date"),n(),i(4,"span"),r(5),D(6,"date"),n()()),a&2){let e=u().$implicit;l(2),w("\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F ",P(3,2,e.button.created_at,"medium"),""),l(3),w("\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430 ",P(6,5,e.button.updated_at,"medium"),"")}}function nn(a,m){if(a&1&&(i(0,"span",74),r(1),n()),a&2){let e=u(2).$implicit;l(),C(e.button.title_for_client)}}function an(a,m){if(a&1&&(i(0,"div",75)(1,"span",38),r(2,"\u{1F517} \u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0440\u0435\u0441\u0443\u0440\u0441 \u043A\u0443\u0434\u0430 \u0432\u0432\u0435\u0434\u0435\u0442 \u043A\u043D\u043E\u043F\u043A\u0430 - "),n(),i(3,"b"),r(4),n()()),a&2){let e=u(2).$implicit;l(4),w(" ",e.button.url," ")}}function on(a,m){if(a&1){let e=S();i(0,"div",65)(1,"div",66)(2,"div",67),h(3,nn,2,1,"span",68),i(4,"span"),r(5),n()(),i(6,"div",69)(7,"div",70),r(8," Order: "),i(9,"span",71),r(10),n()(),i(11,"span",72),b("click",function(){g(e);let t=u().$implicit,s=u(4);return _(s.toggleButtonEdit(t))}),p(12,"app-edit-icon"),n()()(),h(13,an,5,1,"div",73),n()}if(a&2){let e=u().$implicit,o=u(2).$implicit;l(3),d("ngIf",o.title_for_client),l(2),C(e.button.name),l(5),C(e.button.order),l(3),d("ngIf",e.button.url)}}function rn(a,m){if(a&1){let e=S();i(0,"div",76)(1,"div",77)(2,"div",78)(3,"label",43),r(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430:"),n(),i(5,"input",79),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.button.name,t)||(s.button.name=t),_(t)}),n()(),i(6,"div",80)(7,"label",43),r(8,"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0440\u0435\u0441\u0443\u0440\u0441(\u043D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E): "),n(),i(9,"input",81),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.button.url,t)||(s.button.url=t),_(t)}),b("blur",function(){g(e);let t=u(3).$implicit,s=u(2);return _(s.refreshImage(t))}),n()(),i(10,"div",82)(11,"label",43),r(12,"\u041E\u0447\u0435\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u044C:"),n(),i(13,"input",83),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.button.order,t)||(s.button.order=t),_(t)}),n()()(),i(14,"div",84)(15,"span",85),b("click",function(){g(e);let t=u().$implicit,s=u(2).$implicit,c=u(2);return _(c.saveButtonChanges(s,t))}),E(),i(16,"svg",86)(17,"path",50),p(18,"animate",51),n()()(),M(),i(19,"span",87),b("click",function(){g(e);let t=u().$implicit,s=u(4);return _(s.toggleButtonEdit(t))}),E(),i(20,"svg",88)(21,"g",89)(22,"path",90),p(23,"animate",91),n(),i(24,"path",92),p(25,"animate",93),n()()()()()()}if(a&2){let e=u().$implicit;l(5),f("ngModel",e.button.name),l(4),f("ngModel",e.button.url),l(4),f("ngModel",e.button.order)}}function ln(a,m){if(a&1&&(i(0,"div",56),p(1,"input",57),i(2,"div",58),r(3),n(),i(4,"div",59),h(5,tn,7,8,"div",60),i(6,"div",61),h(7,on,14,4,"div",62)(8,rn,26,3,"div",63),n()()()),a&2){let e=m.$implicit,o=u(4);l(3),w(" ",e.button.name," "),l(2),d("ngIf",!o.isEditing),l(2),d("ngIf",!o.isEditing),l(),d("ngIf",o.isEditing)}}function sn(a,m){if(a&1&&(i(0,"div",53)(1,"h4",54),r(2,"\u041A\u043D\u043E\u043F\u043A\u0430(\u0438) \u043F\u043E\u0441\u0442\u0430:"),n(),h(3,ln,9,4,"div",55),n()),a&2){let e=u().$implicit;l(3),d("ngForOf",e.buttons)}}function un(a,m){if(a&1&&(i(0,"div",19)(1,"div",20)(2,"p",21),r(3),n(),i(4,"div",22)(5,"p",23),r(6),D(7,"date"),n()()(),i(8,"div",24)(9,"div",25),h(10,Zi,15,5,"div",12)(11,en,19,6,"ng-template",null,1,ae),n(),h(13,sn,4,1,"div",26),n()()),a&2){let e=m.$implicit,o=m.index,t=ne(12);l(3),w(" \u{1F4DD} \u041F\u043E\u0441\u0442 \u2116",o+1," "),l(3),w(" \u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F: ",P(7,5,e.created_at,"medium")," "),l(4),d("ngIf",!e.isEditing)("ngIfElse",t),l(3),d("ngIf",e.buttons==null?null:e.buttons.length)}}function dn(a,m){if(a&1&&(i(0,"div"),h(1,un,14,8,"div",18),D(2,"filterByParentMenuId"),n()),a&2){let e=u();l(),d("ngForOf",P(2,1,e.posts,e.selectedParentMenuId))}}function mn(a,m){a&1&&(i(0,"div",94),E(),i(1,"svg",95)(2,"defs")(3,"radialGradient",96),p(4,"stop",97)(5,"stop",98),n(),i(6,"radialGradient",99),p(7,"stop",100)(8,"stop",101),n(),i(9,"radialGradient",102),p(10,"stop",103)(11,"stop",104),n()(),i(12,"circle",105),p(13,"animate",106)(14,"animate",107),n(),i(15,"circle",108),p(16,"animate",109)(17,"animate",110),n(),i(18,"circle",111),p(19,"animate",112)(20,"animate",113),n()()())}var At=(()=>{class a{postService;menuButtonService;urlValidationService;selectedParentMenuId=null;posts=[];successMessage=null;errorMessage=null;loading=!0;isEditing=!1;isActive=!1;constructor(e,o,t){this.postService=e,this.menuButtonService=o,this.urlValidationService=t}ngOnInit(){this.loadPosts()}loadPosts(){this.postService.getPosts().subscribe({next:e=>{this.posts=e.map(o=>le(re({},o),{isEditing:!1})),this.loading=!1,console.log("\u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043F\u043E\u0441\u0442\u043E\u0432 \u0432 \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0435 \u041F\u041E\u0421\u0422:",this.posts)},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043F\u043E\u0441\u0442\u043E\u0432",this.loading=!1}})}toggleEdit(e){e.isEditing=!e.isEditing,this.clearMessages()}saveChanges(e){this.postService.updatePost(e.id,{post_title:e.post_title,post_content:e.post_content,post_image_url:e.post_image_url}).subscribe({next:()=>{this.successMessage="\u041F\u043E\u0441\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D!",e.isEditing=!1,setTimeout(()=>{this.closeMessages()},3e3)},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u043F\u043E\u0441\u0442\u0430"}})}toggleButtonEdit(e){console.log(e),this.isEditing=!this.isEditing,this.clearMessages()}isClickActive(){this.isActive=!this.isActive}saveButtonChanges(e,o){o.button&&o.button.name&&this.menuButtonService.updateButton(o.button.id,{name:o.button.name,url:o.button.url,order:o.button.order}).subscribe({next:()=>{this.successMessage="\u041A\u043D\u043E\u043F\u043A\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430!",o.isEditing=!1,setTimeout(()=>{this.closeMessages()},3e3)},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u043A\u043D\u043E\u043F\u043A\u0438"}})}refreshImage(e){console.log("URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u043E:",e.post_image_url),this.clearMessages()}closeMessages(){this.successMessage=null,this.errorMessage=null}clearMessages(){this.successMessage=null,this.errorMessage=null}static \u0275fac=function(o){return new(o||a)(k(Ze),k(Ke),k(ce))};static \u0275cmp=T({type:a,selectors:[["app-posts-bot"]],decls:26,vars:12,consts:[["loading",""],["editMode",""],[1,"posts-bot","w-full"],[1,"title-main","mt-[30px]","mx-auto"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","px-[20px]","py-[10px]","rounded-[25px]","w-main","mx-auto"],[1,"title-tab","text-main-trans","font-bold"],[1,"select","select-primary","text-xl","w-fit","block","mx-auto","rounded-[25px]",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"text-right","flex","gap-2","items-center","rounded-[25px]","bg-main","px-[15px]","py-[5px]"],[1,"font-bold","text-2xl"],["class","alert alert-success mb-4 relative flex justify-between",4,"ngIf"],["class","alert alert-error relative",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"alert","alert-success","mb-4","relative","flex","justify-between"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"],[1,"alert","alert-error","relative"],["class","card-wrapper bg-main-trans-gradient-0 rounded-[20px] px-[20px] pt-[35px] pb-[80px]",4,"ngFor","ngForOf"],[1,"card-wrapper","bg-main-trans-gradient-0","rounded-[20px]","px-[20px]","pt-[35px]","pb-[80px]"],[1,"w-main","flex","items-center","justify-between","w-[90%]","mx-auto","pt-[20px]","pb-[20px]"],[1,"text-lg","font-bold","text-indigo-600","nj-toast-gradient"],[1,"card-date","flex","items-center","gap-2"],[1,"text-xs","text-gray-500"],[1,"post-item-wrapper","w-main","mx-auto","flex","flex-col","gap-1"],[1,"card","bg-base-100","mx-auto","hover-shadow-white","cursor-pointer","w-full"],["class","flex flex-col gap-2",4,"ngIf"],["class","img-wrapper w-full h-[350px] relative",4,"ngIf"],[1,"card-body"],[1,"text-indigo-600","flex","justify-start","gap-2","items-center","pb-2"],["class","text-gray-500 text-sm",4,"ngIf"],[1,"text-xl","text-indigo-400","font-bold"],[1,"card-actions","justify-center","pt-[20px]"],[1,"btn","btn-ghost","pr-0",3,"click"],[1,"btn","btn-primary"],[1,"img-wrapper","w-full","h-[350px]","relative"],[4,"ngIf"],["alt","Post Image",3,"src"],[1,"text-gray-500","text-sm"],[1,"p-4"],[1,"block","text-sm","text-indigo-400","font-bold","mt-4"],["class","text-red-500 text-sm mt-2 block pt-0 w-full",4,"ngIf"],["placeholder","https://example.com/image.jpg",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","blur","ngModel"],[1,"block","text-sm","text-indigo-400","font-bold"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u043D\u0442\u0435\u043D\u0442 \u043F\u043E\u0441\u0442\u0430",1,"w-full","h-40","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"card-actions","justify-center","pt-4"],[1,"btn","pr-0","text-success",3,"click","disabled"],[1,"btn","btn-accent"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","none","stroke","#fff","stroke-dasharray","24","stroke-dashoffset","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.7","d","M5 11l6 6l10 -10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.96s","values","24;0"],[1,"text-red-500","text-sm","mt-2","block","pt-0","w-full"],[1,"flex","flex-col","gap-2"],[1,"text-lg","font-bold","text-white"],["class","bg-reg collapse collapse-arrow hover-shadow-white",4,"ngFor","ngForOf"],[1,"bg-reg","collapse","collapse-arrow","hover-shadow-white"],["type","checkbox",1,"peer"],[1,"collapse-title","text-indigo-400","bg-reg","peer-checked:bg-primary","peer-checked:text-white","font-bold","text-lg"],[1,"collapse-content","bg-reg"],["class","sub-btn-date flex justify-between text-gray-400 text-xs pt-4 pb-4 px-4",4,"ngIf"],[1,"sub-btn-body-wrapper"],["class","sub-btn-body flex flex-col",4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"sub-btn-date","flex","justify-between","text-gray-400","text-xs","pt-4","pb-4","px-4"],[1,"sub-btn-body","flex","flex-col"],[1,"flex","justify-between","items-center"],[1,"sub-btn-body-title","text-lg","font-bold","text-indigo-400","flex","flex-col","gap-2"],["class","text-gray-500 text-xs",4,"ngIf"],[1,"sub-btn-body-order","font-bold","flex","gap-4","items-center"],[1,"order"],[1,"nj-toast-trans"],[1,"btn","btn-primary",3,"click"],["class","sub-btn-url",4,"ngIf"],[1,"text-gray-500","text-xs"],[1,"sub-btn-url"],[1,"flex","items-center"],[1,"form-group-wrapper","flex","flex-1","items-center","gap-4","pt-4"],[1,"form-group","w-[30%]"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"form-group","w-[50%]"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C URL \u043A\u043D\u043E\u043F\u043A\u0438",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","blur","ngModel"],[1,"form-group","w-[12.5%]"],["disabled","","placeholder","",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"btn-group","flex","items-center","gap-2","pt-5"],[1,"btn","btn-accent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","viewBox","0 0 24 24"],[1,"btn","btn-error",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24","cl",""],["fill","none","stroke","#fffFFF","stroke-dasharray","16","stroke-dashoffset","16","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["d","M7 7l10 10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.4s","values","16;0"],["d","M17 7l-10 10"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.4s","dur","0.4s","values","16;0"],[1,"isLoading","fixed","z-10"],["xmlns","http://www.w3.org/2000/svg","width","300","height","300","viewBox","0 0 24 24",1,""],["id","gradient1","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(51.01% 0.274 263.83)"],["offset","100%","stop-color","#4f45e5"],["id","gradient2","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(47.66% 0.246 305.88)"],["offset","100%","stop-color","#818cf8"],["id","gradient3","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","#4f45e5"],["offset","100%","stop-color","#8845e5"],["cx","12","cy","12","r","0","fill","url(#gradient1)"],["id","svgSpinnersPulseMultiple0","fill","freeze","attributeName","r","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient2)"],["id","svgSpinnersPulseMultiple1","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient3)"],["id","svgSpinnersPulseMultiple2","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"]],template:function(o,t){if(o&1){let s=S();i(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"select",6),v("ngModelChange",function(y){return g(s),x(t.selectedParentMenuId,y)||(t.selectedParentMenuId=y),_(y)}),i(5,"option",7),r(6,"\u0412\u0441\u0435 \u043F\u043E\u0441\u0442\u044B"),n(),i(7,"option",7),r(8,"1 - Social button"),n(),i(9,"option",7),r(10,"2 - Top slots"),n(),i(11,"option",7),r(12,"3 - News"),n(),i(13,"option",7),r(14,"4 - Sport"),n(),i(15,"option",7),r(16,"5 - Casino"),n()()(),i(17,"p",8),r(18," \u0412\u0441\u0435\u0433\u043E \u043F\u043E\u0441\u0442\u043E\u0432: "),i(19,"span",9),r(20),n()()()(),h(21,Gi,6,1,"div",10)(22,qi,5,1,"div",11)(23,dn,3,4,"div",12)(24,mn,21,0,"ng-template",null,0,ae),n()}if(o&2){let s=ne(25);l(4),f("ngModel",t.selectedParentMenuId),l(),d("ngValue",null),l(2),d("ngValue",1),l(2),d("ngValue",2),l(2),d("ngValue",3),l(2),d("ngValue",4),l(2),d("ngValue",5),l(5),C(t.selectedParentMenuId?t.selectedParentMenuId:t.posts.length),l(),d("ngIf",t.successMessage),l(),d("ngIf",t.errorMessage),l(),d("ngIf",t.posts.length>0)("ngIfElse",s)}},dependencies:[O,W,_e,K,Q,R,Z,z,j,J,St],styles:[".tabs-title-input[_ngcontent-%COMP%]{transition:.3s ease-in;border-radius:20px}.tabs-title-input[_ngcontent-%COMP%]:hover:after{-webkit-backdrop-filter:brightness(2);backdrop-filter:brightness(2);transition:.3s ease-in}"]})}return a})();var Wt=(()=>{class a{http;apiUrl=B.auth.apiUrl;constructor(e){this.http=e}getMenuTables(){return this.http.get(`${this.apiUrl}menu/tables`)}updateMenuTable(e,o){return this.http.put(`${this.apiUrl}menu/tables/${e}`,o)}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Lt=(()=>{class a{http;apiUrl=`${B.auth.apiUrl}post-buttons/`;constructor(e){this.http=e}getPostButtons(){return this.http.get(this.apiUrl)}getPostButtonById(e){return this.http.get(`${this.apiUrl}${e}`)}updatePostButton(e,o){return this.http.put(`${this.apiUrl}${e}`,o)}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Ut=a=>({"bg-gradient":a});function _n(a,m){if(a&1){let e=S();i(0,"div",8)(1,"b"),r(2),n(),i(3,"span",9),b("click",function(){g(e);let t=u();return _(t.closeMessages())}),E(),i(4,"svg",10),p(5,"path",11),n()()()}if(a&2){let e=u();l(2),w(" ",e.successMessage," ")}}function hn(a,m){if(a&1){let e=S();i(0,"div",12),r(1),i(2,"span",9),b("click",function(){g(e);let t=u();return _(t.closeMessages())}),E(),i(3,"svg",10),p(4,"path",11),n()()()}if(a&2){let e=u();l(),w(" ",e.errorMessage," ")}}function fn(a,m){if(a&1&&(i(0,"span",43),r(1),n()),a&2){let e=u(3).$implicit;l(),C(e.title_for_client)}}function xn(a,m){if(a&1){let e=S();i(0,"span",44),b("click",function(){g(e);let t=u(3),s=t.$implicit,c=t.index,y=u();return _(y.togleEdit(s,c))}),p(1,"app-edit-icon"),n()}}function vn(a,m){if(a&1&&(i(0,"span",45),r(1),n()),a&2){let e=u(3).$implicit;l(),C(e.title_for_client)}}function bn(a,m){if(a&1&&(i(0,"figure"),p(1,"img",46),n()),a&2){let e=u(3).$implicit;l(),d("src",e.linked_post==null?null:e.linked_post.post_image_url,L)}}function wn(a,m){if(a&1&&(i(0,"div",47)(1,"p",20),r(2),n(),i(3,"h3",48),r(4),n(),i(5,"p"),r(6),n(),p(7,"div",49),n()),a&2){let e=u(3).$implicit;l(2),w("ID: ",e==null||e.linked_post==null?null:e.linked_post.id,""),l(2),w(" ",e==null||e.linked_post==null?null:e.linked_post.post_title," "),l(2),C(e==null||e.linked_post==null?null:e.linked_post.post_content)}}function Cn(a,m){a&1&&(i(0,"p",50)(1,"span",51),r(2," \u0423 \u043A\u043D\u043E\u043F\u043A\u0438 \u043D\u0435\u0442 \u043F\u043E\u0441\u0442\u0430,\u043D\u043E \u0435\u0441\u0442\u044C \u0434\u043E\u0447\u0435\u0440\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438 "),n(),r(3," 4. Sport "),p(4,"br"),r(5," 5. Casino "),n())}function En(a,m){if(a&1&&(i(0,"span",43),r(1),n()),a&2){let e=u().$implicit;l(),C(e.title_for_client)}}function yn(a,m){if(a&1&&(i(0,"div",63)(1,"span"),r(2),D(3,"date"),n(),i(4,"span"),r(5),D(6,"date"),n()()),a&2){let e=u().$implicit;l(2),w("\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F ",P(3,2,e.created_at,"medium"),""),l(3),w("\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430 ",P(6,5,e.updated_at,"medium"),"")}}function Sn(a,m){if(a&1&&(i(0,"span",43),r(1),n()),a&2){let e=u(2).$implicit;l(),C(e.title_for_client)}}function Mn(a,m){if(a&1&&(i(0,"div",70),r(1),n()),a&2){let e=u(2).$implicit;l(),w(" Url: ",e.url," ")}}function Tn(a,m){if(a&1&&(i(0,"div",64)(1,"div",65)(2,"span"),r(3),n(),h(4,Sn,2,1,"span",22),n(),i(5,"div",66)(6,"div",67),r(7," Order: "),i(8,"span",68),r(9),n()()(),h(10,Mn,2,1,"div",69),n()),a&2){let e=u().$implicit,o=u(4).$implicit;l(3),C(e.name),l(),d("ngIf",o.title_for_client),l(5),C(e.order),l(),d("ngIf",e.url)}}function kn(a,m){if(a&1){let e=S();i(0,"div",71)(1,"div",72)(2,"div",73)(3,"label",74),r(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430:"),n(),i(5,"input",75),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.name,t)||(s.name=t),_(t)}),n()(),i(6,"div",76)(7,"label",74),r(8,"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0440\u0435\u0441\u0443\u0440\u0441(\u043D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440):"),n(),i(9,"input",77),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.url,t)||(s.url=t),_(t)}),n()(),i(10,"div",78)(11,"label",74),r(12,"\u041E\u0447\u0435\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u044C:"),n(),i(13,"input",79),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.order,t)||(s.order=t),_(t)}),n()()(),i(14,"div",80)(15,"span",81),E(),i(16,"svg",82)(17,"path",83),p(18,"animate",84),n()()(),M(),i(19,"span",85),E(),i(20,"svg",86)(21,"g",87)(22,"path",88),p(23,"animate",89),n(),i(24,"path",90),p(25,"animate",91),n()()()()()()}if(a&2){let e=u().$implicit;l(5),f("ngModel",e.name),l(4),f("ngModel",e.url),l(4),f("ngModel",e.order)}}function Bn(a,m){if(a&1&&(i(0,"div",55),p(1,"input",56),i(2,"div",57),r(3),h(4,En,2,1,"span",22),n(),i(5,"div",58),h(6,yn,7,8,"div",59),i(7,"div",60),h(8,Tn,11,4,"div",61)(9,kn,26,3,"div",62),n()()()),a&2){let e=m.$implicit,o=u(4).$implicit,t=u();l(3),w(" ",e.name," "),l(),d("ngIf",o.title_for_client),l(2),d("ngIf",!t.isEditing),l(2),d("ngIf",!t.isEditing),l(),d("ngIf",t.isEditing)}}function In(a,m){if(a&1&&(i(0,"div",52)(1,"h4",53),r(2," \u041A\u043D\u043E\u043F\u043A\u0430(\u0438) \u043F\u043E\u0441\u0442\u0430: "),n(),h(3,Bn,10,5,"div",54),n()),a&2){let e=u(3).$implicit;l(3),d("ngForOf",e.buttons)}}function Dn(a,m){if(a&1){let e=S();i(0,"div",17)(1,"input",18),b("click",function(){g(e);let t=u(2).index,s=u();return _(s.toggleClick(t))}),n(),i(2,"div",19)(3,"h3",20)(4,"span",21),r(5),n(),r(6),h(7,fn,2,1,"span",22),n(),h(8,xn,2,0,"span",23),n(),i(9,"div",24),h(10,vn,2,1,"span",25),i(11,"div",26)(12,"span",27),r(13," Level menu: "),i(14,"span",28),r(15),n()(),i(16,"p",29),r(17),D(18,"date"),n()(),i(19,"div",30)(20,"h3",31)(21,"span",32),r(22,"After button click"),n(),E(),i(23,"svg",33)(24,"g",34)(25,"path",35),p(26,"animate",36),n(),i(27,"path",37),p(28,"animate",38),n()()()(),M(),i(29,"div",39),h(30,bn,2,1,"figure",14)(31,wn,8,3,"div",40)(32,Cn,6,0,"p",41),n(),h(33,In,4,1,"div",42),n()()()}if(a&2){let e=u(2),o=e.$implicit,t=e.index,s=u();l(2),d("ngClass",Y(15,Ut,s.activeIndexes.has(t))),l(3),C(o.order),l(),w("",o.name," "),l(),d("ngIf",o.title_for_client),l(),d("ngIf",s.activeIndexes.has(t)),l(2),d("ngIf",o.title_for_client),l(5),C(o.isActive?1:2),l(2),w(" Last update ",P(18,12,o.updated_at,"medium")," "),l(13),d("ngIf",o.linked_post==null?null:o.linked_post.post_image_url),l(),d("ngIf",o.linked_post),l(),d("ngIf",!o.linked_post),l(),d("ngIf",o.buttons==null?null:o.buttons.length)}}function Fn(a,m){if(a&1&&(i(0,"span",43),r(1),n()),a&2){let e=u(4).$implicit;l(),C(e.title_for_client)}}function Vn(a,m){if(a&1){let e=S();i(0,"span",44),b("click",function(){g(e);let t=u(4),s=t.$implicit,c=t.index,y=u();return _(y.togleEdit(s,c))}),p(1,"app-edit-icon"),n()}}function Pn(a,m){if(a&1&&(i(0,"figure"),p(1,"img",46),n()),a&2){let e=u(4).$implicit;l(),d("src",e.linked_post==null?null:e.linked_post.post_image_url,L)}}function An(a,m){if(a&1&&(i(0,"span",43),r(1),n()),a&2){let e=u(5).$implicit;l(),C(e==null||e.linked_post==null?null:e.linked_post.title_for_client)}}function Wn(a,m){if(a&1&&(i(0,"div",47)(1,"p",20),r(2),n(),i(3,"h3",48),r(4),h(5,An,2,1,"span",22),n(),i(6,"p"),r(7),n(),p(8,"div",49),n()),a&2){let e=u(4).$implicit;l(2),w(" ID: ",e==null||e.linked_post==null?null:e.linked_post.id," "),l(2),w(" ",e==null||e.linked_post==null?null:e.linked_post.post_title," "),l(),d("ngIf",e.title_for_client),l(2),C(e==null||e.linked_post==null?null:e.linked_post.post_content)}}function Ln(a,m){if(a&1&&(i(0,"p",93),r(1),n()),a&2){let e=u(4).$implicit;l(),w(" \u0423 \u043A\u043D\u043E\u043F\u043A\u0438 \u043D\u0435\u0442 \u043F\u043E\u0441\u0442\u0430,\u0430 \u0435\u0441\u0442\u044C \u0434\u043E\u0447\u0435\u0440\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438 \u0441 \u0440\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u043C ID ",e.parentId," ")}}function Un(a,m){if(a&1&&(i(0,"span",43),r(1),n()),a&2){let e=u().$implicit;l(),C(e==null?null:e.title_for_client)}}function Nn(a,m){if(a&1&&(i(0,"div",63)(1,"span"),r(2),D(3,"date"),n(),i(4,"span"),r(5),D(6,"date"),n()()),a&2){let e=u().$implicit;l(2),w("\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F ",P(3,2,e.created_at,"medium"),""),l(3),w("\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430 ",P(6,5,e.updated_at,"medium"),"")}}function On(a,m){if(a&1&&(i(0,"span",43),r(1),n()),a&2){let e=u(2).$implicit;l(),C(e==null?null:e.title_for_client)}}function zn(a,m){if(a&1&&(i(0,"div",70),r(1),n()),a&2){let e=u(2).$implicit;l(),w(" Url: ",e.url," ")}}function jn(a,m){if(a&1&&(i(0,"div",64)(1,"div",65)(2,"span"),r(3),n(),h(4,On,2,1,"span",22),n(),i(5,"div",66)(6,"div",67),r(7," Order: "),i(8,"span",68),r(9),n()()(),h(10,zn,2,1,"div",69),n()),a&2){let e=u().$implicit,o=u(5).$implicit;l(3),C(e.name),l(),d("ngIf",o.title_for_client),l(5),C(e.order),l(),d("ngIf",e.url)}}function Rn(a,m){if(a&1){let e=S();i(0,"div",71)(1,"div",72)(2,"div",73)(3,"label",74),r(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430:"),n(),i(5,"input",75),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.name,t)||(s.name=t),_(t)}),n()(),i(6,"div",76)(7,"label",74),r(8,"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0440\u0435\u0441\u0443\u0440\u0441(\u043D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440):"),n(),i(9,"input",77),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.url,t)||(s.url=t),_(t)}),n()(),i(10,"div",78)(11,"label",74),r(12,"\u041E\u0447\u0435\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u044C:"),n(),i(13,"input",79),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.order,t)||(s.order=t),_(t)}),n()()(),i(14,"div",80)(15,"span",81),E(),i(16,"svg",82)(17,"path",83),p(18,"animate",84),n()()(),M(),i(19,"span",85),E(),i(20,"svg",86)(21,"g",87)(22,"path",88),p(23,"animate",89),n(),i(24,"path",90),p(25,"animate",91),n()()()()()()}if(a&2){let e=u().$implicit;l(5),f("ngModel",e.name),l(4),f("ngModel",e.url),l(4),f("ngModel",e.order)}}function Hn(a,m){if(a&1&&(i(0,"div",55),p(1,"input",56),i(2,"div",57),r(3),h(4,Un,2,1,"span",22),n(),i(5,"div",58),h(6,Nn,7,8,"div",59),i(7,"div",60),h(8,jn,11,4,"div",61)(9,Rn,26,3,"div",62),n()()()),a&2){let e=m.$implicit,o=u(5).$implicit,t=u();l(3),w(" ",e.name," "),l(),d("ngIf",o.title_for_client),l(2),d("ngIf",!t.isEditing),l(2),d("ngIf",!t.isEditing),l(),d("ngIf",t.isEditing)}}function $n(a,m){if(a&1&&(i(0,"div",52)(1,"h4",53),r(2," \u041A\u043D\u043E\u043F\u043A\u0430(\u0438) \u043F\u043E\u0441\u0442\u0430: "),n(),h(3,Hn,10,5,"div",54),n()),a&2){let e=u(4).$implicit;l(3),d("ngForOf",e.buttons)}}function Gn(a,m){if(a&1){let e=S();i(0,"div",17)(1,"input",18),b("click",function(){g(e);let t=u(3).index,s=u();return _(s.toggleClick(t))}),n(),i(2,"div",19)(3,"h3",20)(4,"span",21),r(5),n(),r(6),h(7,Fn,2,1,"span",22),n(),h(8,Vn,2,0,"span",23),n(),i(9,"div",24)(10,"div",26)(11,"span",27),r(12," Level menu: "),i(13,"span",28),r(14),n()(),i(15,"p",29),r(16),D(17,"date"),n()(),i(18,"div",30)(19,"h3",31)(20,"span",32),r(21,"After button click"),n(),E(),i(22,"svg",33)(23,"g",34)(24,"path",35),p(25,"animate",36),n(),i(26,"path",37),p(27,"animate",38),n()()()(),M(),i(28,"div",39),h(29,Pn,2,1,"figure",14)(30,Wn,9,4,"div",40)(31,Ln,2,1,"p",92),n(),h(32,$n,4,1,"div",42),n()()()}if(a&2){let e=u(3),o=e.$implicit,t=e.index,s=u();l(2),d("ngClass",Y(14,Ut,s.activeIndexes.has(t))),l(3),C(o.order),l(),w("",o.name," "),l(),d("ngIf",o.title_for_client),l(),d("ngIf",s.activeIndexes.has(t)),l(6),C(o.isActive?1:2),l(2),w(" Last update ",P(17,11,o.updated_at,"medium")," "),l(13),d("ngIf",o.linked_post==null?null:o.linked_post.post_image_url),l(),d("ngIf",o.linked_post),l(),d("ngIf",!o.linked_post),l(),d("ngIf",o.buttons==null?null:o.buttons.length)}}function qn(a,m){if(a&1&&(i(0,"div"),h(1,Gn,33,16,"div",16),n()),a&2){let e=u(2).$implicit;l(),d("ngIf",e.parentId)}}function Yn(a,m){if(a&1&&(i(0,"div"),h(1,Dn,34,17,"div",16)(2,qn,2,1,"div",14),n()),a&2){let e=u().$implicit,o=u();l(),d("ngIf",!e.parentId),l(),d("ngIf",o.isActive)}}function Xn(a,m){if(a&1){let e=S();i(0,"div",94)(1,"label",74),r(2,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438:"),n(),i(3,"input",95),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.name,t)||(s.name=t),_(t)}),n(),i(4,"label",74),r(5,"\u041F\u043E\u0437\u0438\u0446\u0438\u044F \u043A\u043D\u043E\u043F\u043A\u0438 \u2116"),n(),i(6,"input",96),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.order,t)||(s.order=t),_(t)}),n(),i(7,"label",74),r(8,"\u041A\u043E\u043D\u0442\u0435\u043D\u0442 \u043F\u043E\u0441\u0442\u0430:"),n(),i(9,"textarea",97),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.description,t)||(s.description=t),_(t)}),n(),i(10,"div",98)(11,"button",99),b("click",function(){g(e);let t=u().$implicit,s=u();return _(s.saveChanges(t))}),r(12," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),i(13,"span",81),E(),i(14,"svg",86)(15,"path",83),p(16,"animate",84),n()()()()()()}if(a&2){let e=u().$implicit;l(3),f("ngModel",e.name),l(3),f("ngModel",e.order),l(3),f("ngModel",e.description)}}function Jn(a,m){if(a&1&&(i(0,"div",13),h(1,Yn,3,2,"div",14)(2,Xn,17,3,"div",15),n()),a&2){let e=m.$implicit;l(),d("ngIf",!e.isEditing),l(),d("ngIf",e.isEditing)}}var Nt=(()=>{class a{menuService;inlineButtonsService;postBotService;menuTables=[];menuPosts=[];successMessage=null;errorMessage=null;activeIndex=null;isEditing=!1;isActive=!1;activeIndexes=new Set;constructor(e,o,t){this.menuService=e,this.inlineButtonsService=o,this.postBotService=t}ngOnInit(){this.loadMenuTables()}loadMenuTables(){this.menuService.getMenuTables().subscribe({next:e=>{this.menuTables=e.map(o=>le(re({},o),{isEditing:!1,buttons:[]})),console.log("\u2705 \u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E menuTables:",this.menuTables),this.loadPosts()},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445"}})}loadPosts(){this.postBotService.getPosts().subscribe({next:e=>{this.menuPosts=e,this.linkButtonsToTables()},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043F\u043E\u0441\u0442\u043E\u0432"}})}linkButtonsToTables(){this.menuTables.forEach(e=>{if(e.linked_post){let o=this.menuPosts.find(t=>t.id===e.linked_post.id);o&&(e.buttons=o.buttons?.map(t=>t.button)||[])}})}loadPostButtons(){this.inlineButtonsService.getPostButtons().subscribe({next:e=>{console.log("\u{1F539} \u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B \u0441\u0432\u044F\u0437\u0438 \u043F\u043E\u0441\u0442\u043E\u0432 \u0438 \u043A\u043D\u043E\u043F\u043E\u043A:",e),this.menuTables.forEach(o=>{o.linked_post&&(o.buttons=e.filter(t=>t.post.id===o.linked_post.id).map(t=>t.button))}),console.log("\u2705 \u0421\u0432\u044F\u0437\u0430\u043D\u043D\u044B\u0435 \u043A\u043D\u043E\u043F\u043A\u0438 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u044B:",this.menuTables)},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043A\u043D\u043E\u043F\u043E\u043A \u043F\u043E\u0441\u0442\u043E\u0432"}})}saveChanges(e){this.menuService.updateMenuTable(e.id,e).subscribe({next:()=>{this.successMessage="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B!",e.isEditing=!1,setTimeout(()=>{this.closeMessages()},3e3)},error:()=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0434\u0430\u043D\u043D\u044B\u0445"}}),this.isEditing=!1}clearMessages(){this.successMessage=null,this.errorMessage=null}closeMessages(){this.successMessage=null,this.errorMessage=null}toggleClick(e){this.isEditing=!this.isEditing,e===2&&this.menuTables.map(o=>{this.isActive=!0,console.log("btn",o)}),this.activeIndexes.has(e)?this.activeIndexes.delete(e):this.activeIndexes.add(e),console.log(this.activeIndexes)}togleEdit(e,o){e.isEditing=!e.isEditing,this.activeIndexes.has(o)?this.activeIndexes.delete(o):this.activeIndexes.add(o)}cancelEdit(e){e.isEditing=!1,this.clearMessages()}static \u0275fac=function(o){return new(o||a)(k(Wt),k(Lt),k(Ze))};static \u0275cmp=T({type:a,selectors:[["app-menu-buttons"]],decls:11,vars:4,consts:[[1,"menu-buttons","bg-main-trans-gradient-0","pb-[30px]","min-h-full","h-fit"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","px-[20px]","py-[10px]","my-[30px]","rounded-[20px]","w-[70%]","mx-auto"],[1,"title-tab","text-xl","text-main-trans","font-bold"],[1,"text-right","flex","gap-2","items-center","rounded-[20px]","bg-main","px-[15px]","py-[5px]"],[1,"font-bold","text-2xl"],["class","alert alert-success mb-4 relative flex justify-between",4,"ngIf"],["class","alert alert-error relative",4,"ngIf"],["class","w-[80%] mx-auto",4,"ngFor","ngForOf"],[1,"alert","alert-success","mb-4","relative","flex","justify-between"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"],[1,"alert","alert-error","relative"],[1,"w-[80%]","mx-auto"],[4,"ngIf"],["class","collapse hover-shadow collapse-plus card-body bg-reg my-4 rounded-xl p-[20px] pb-[10px]",4,"ngIf"],["class","collapse hover-shadow-white card-body bg-reg my-4 rounded-xl p-[20px] pb-0 collapse-arrow pt-[10px]",4,"ngIf"],[1,"collapse","hover-shadow-white","card-body","bg-reg","my-4","rounded-xl","p-[20px]","pb-0","collapse-arrow","pt-[10px]"],["type","checkbox",3,"click"],[1,"collapse-title","text-xl","font-medium","flex","items-center","justify-between",3,"ngClass"],[1,"text-indigo-600"],[1,"text-indigo-600","pr-2"],["class","text-gray-500 text-sm pl-4",4,"ngIf"],["class","btn btn-outline hover:bg-regular absolute right-0 bg-reg text-indigo-400 z-10",3,"click",4,"ngIf"],[1,"collapse-content","pb-0","px-0"],["class","text-gray-500 text-sm",4,"ngIf"],[1,"flex","justify-between","pt-4","pb-0","items-center"],[1,"text-sm"],[1,"nj-toast"],[1,"text-end","text-gray-400","text-xs","flex-auto"],[1,"menu-post-item","mb-[40px]"],[1,"text-xl","text-indigo-600","font-bold","py-4","text-center","flex","flex-col","gap-2","items-center","px-0"],[1,"nj-toast-gradient"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24"],["fill","none","stroke","#5045e5ac","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","20","stroke-dashoffset","20","d","M12 3l0 17.5"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.2s","values","20;0"],["stroke-dasharray","12","stroke-dashoffset","12","d","M12 21l7 -7M12 21l-7 -7"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.2s","dur","0.2s","values","12;0"],[1,"card","bg-base-100","mx-auto","w-[100%]","shadow-xl"],["class","card-body p-[10px]",4,"ngIf"],["class","p-10 text-start text-xl text-indigo-400 font-bold",4,"ngIf"],["class","flex flex-col gap-2",4,"ngIf"],[1,"text-gray-500","text-sm","pl-4"],[1,"btn","btn-outline","hover:bg-regular","absolute","right-0","bg-reg","text-indigo-400","z-10",3,"click"],[1,"text-gray-500","text-sm"],["alt","Post Image",3,"src"],[1,"card-body","p-[10px]"],[1,"text-xl","text-indigo-400","font-bold"],[1,"card-actions","justify-center","pt-[20px]"],[1,"p-10","text-start","text-xl","text-indigo-400","font-bold"],[1,"text-gray-400","pb-[5px]","text-lg","block","w-fit","mx-auto"],[1,"flex","flex-col","gap-2"],[1,"text-lg","font-bold","text-indigo-400","pt-4"],["class","collapse collapse-arrow card bg-base-100 mx-auto w-[100%] shadow-xl",4,"ngFor","ngForOf"],[1,"collapse","collapse-arrow","card","bg-base-100","mx-auto","w-[100%]","shadow-xl"],["type","checkbox",1,"peer"],[1,"collapse-title","text-indigo-400","bg-reg","peer-checked:bg-primary","peer-checked:text-white","font-bold","text-lg"],[1,"collapse-content","bg-reg","pb-0"],["class","sub-btn-date flex justify-between text-gray-400 text-xs py-2 px-4",4,"ngIf"],[1,"sub-btn-body-wrapper"],["class","sub-btn-body flex justify-between items-center",4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"sub-btn-date","flex","justify-between","text-gray-400","text-xs","py-2","px-4"],[1,"sub-btn-body","flex","justify-between","items-center"],[1,"sub-btn-body-title","text-lg","font-bold","text-indigo-400","flex","gap-2"],[1,"sub-btn-body-order","font-bold","flex","gap-4","items-center"],[1,"order"],[1,"nj-toast-trans"],["class","sub-btn-url",4,"ngIf"],[1,"sub-btn-url"],[1,"flex","items-center"],[1,"form-group-wrapper","flex","flex-1","items-center","gap-4","pt-4"],[1,"form-group","w-[30%]"],[1,"block","text-sm","text-indigo-400","font-bold"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"form-group","w-[50%]"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C URL \u043A\u043D\u043E\u043F\u043A\u0438",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"form-group","w-[12.5%]"],["disabled","","placeholder","",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"btn-group","flex","items-center","gap-2","pt-5"],[1,"btn","btn-accent"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","viewBox","0 0 24 24"],["fill","none","stroke","#fff","stroke-dasharray","24","stroke-dashoffset","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.7","d","M5 11l6 6l10 -10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.96s","values","24;0"],[1,"btn","btn-error"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","none","stroke","#fffFFF","stroke-dasharray","16","stroke-dashoffset","16","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["d","M7 7l10 10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.4s","values","16;0"],["d","M17 7l-10 10"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.4s","dur","0.4s","values","16;0"],["class","p-10 text-center text-lg",4,"ngIf"],[1,"p-10","text-center","text-lg"],[1,"collapse","hover-shadow","collapse-plus","card-body","bg-reg","my-4","rounded-xl","p-[20px]","pb-[10px]"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["disabled","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["disabled","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u043D\u0442\u0435\u043D\u0442 \u043F\u043E\u0441\u0442\u0430",1,"w-full","h-40","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"card-actions","justify-center","pt-4"],[1,"btn","pr-0","text-success",3,"click"]],template:function(o,t){o&1&&(i(0,"section",0)(1,"div",1)(2,"h2",2),r(3," \u0413\u043B\u0430\u0432\u043D\u044B\u0435 \u043A\u043D\u043E\u043F\u043A\u0438 \u043C\u0435\u043D\u044E "),n(),i(4,"p",3),r(5," \u0412\u0441\u0435\u0433\u043E \u043A\u043D\u043E\u043F\u043E\u043A: "),i(6,"span",4),r(7),n()()(),h(8,_n,6,1,"div",5)(9,hn,5,1,"div",6)(10,Jn,3,2,"div",7),n()),o&2&&(l(7),C(t.menuTables.length),l(),d("ngIf",t.successMessage),l(),d("ngIf",t.errorMessage),l(),d("ngForOf",t.menuTables))},dependencies:[G,O,W,_e,R,z,j,J]})}return a})();function Kn(a,m){if(a&1&&(i(0,"div",9)(1,"span"),r(2),D(3,"date"),n(),i(4,"span"),r(5),D(6,"date"),n()()),a&2){let e=u().$implicit;l(2),w("\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F ",P(3,2,e.created_at,"medium"),""),l(3),w("\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0430 ",P(6,5,e.updated_at,"medium"),"")}}function Qn(a,m){if(a&1&&(i(0,"div",17),r(1),n()),a&2){let e=u(2).$implicit;l(),w("Url: ",e.url,"")}}function e0(a,m){if(a&1){let e=S();i(0,"div",10)(1,"div",11)(2,"span"),r(3),n()(),i(4,"div",12)(5,"div",13),r(6," Order: "),i(7,"span",14),r(8),n()(),i(9,"span",15),b("click",function(){g(e);let t=u().$implicit,s=u();return _(s.toggleEdit(t))}),p(10,"app-edit-icon"),n()(),h(11,Qn,2,1,"div",16),n()}if(a&2){let e=u().$implicit;l(3),C(e.name),l(5),C(e.order),l(3),d("ngIf",e.url)}}function t0(a,m){if(a&1){let e=S();i(0,"div",18)(1,"div",19)(2,"div",20)(3,"label",21),r(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430:"),n(),i(5,"input",22),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.name,t)||(s.name=t),_(t)}),n()(),i(6,"div",23)(7,"label",21),r(8,"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0440\u0435\u0441\u0443\u0440\u0441(\u043D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440):"),n(),i(9,"input",24),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.url,t)||(s.url=t),_(t)}),n()(),i(10,"div",25)(11,"label",21),r(12,"\u041E\u0447\u0435\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u044C:"),n(),i(13,"input",26),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.order,t)||(s.order=t),_(t)}),n()()(),i(14,"div",27)(15,"span",28),b("click",function(){g(e);let t=u().$implicit,s=u();return _(s.cancelEdit(t))}),E(),i(16,"svg",29)(17,"g",30)(18,"path",31),p(19,"animate",32),n(),i(20,"path",33),p(21,"animate",34),n()()()(),M(),i(22,"span",35),b("click",function(){g(e);let t=u().$implicit,s=u();return _(s.saveChanges(t))}),E(),i(23,"svg",36)(24,"path",37),p(25,"animate",38),n()()()()()}if(a&2){let e=u().$implicit;l(5),f("ngModel",e.name),l(4),f("ngModel",e.url),l(4),f("ngModel",e.order)}}function i0(a,m){if(a&1&&(i(0,"div",1),p(1,"input",2),i(2,"div",3),r(3),n(),i(4,"div",4),h(5,Kn,7,8,"div",5),i(6,"div",6),h(7,e0,12,3,"div",7)(8,t0,26,3,"div",8),n()()()),a&2){let e=m.$implicit;l(3),w(" ",e.name," "),l(2),d("ngIf",!e.isEditing),l(2),d("ngIf",!e.isEditing),l(),d("ngIf",e.isEditing)}}var Ot=(()=>{class a{menuButtonService;buttons=[];loading=!0;successMessage=null;errorMessage=null;constructor(e){this.menuButtonService=e}ngOnInit(){this.loadButtons()}loadButtons(){this.loading=!0,this.menuButtonService.getButtons().subscribe({next:e=>{this.buttons=e.map(o=>le(re({},o),{isEditing:!1})),this.loading=!1,console.log("\u2705 \u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043D\u043E\u043F\u043A\u0438 inline",this.buttons)},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445:",e),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445",this.loading=!1}})}toggleEdit(e){e.isEditing=!e.isEditing,this.clearMessages()}saveChanges(e){this.menuButtonService.updateButton(e.id,{name:e.name,url:e.url,order:e.order}).subscribe({next:o=>{console.log("\u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E \u0443\u0441\u043F\u0435\u0448\u043D\u043E:",o),e.isEditing=!1,this.successMessage="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E!",setTimeout(()=>{this.closeSuccessMessage()},3e3),this.loadButtons()},error:o=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438:",o),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439",setTimeout(()=>{this.closeErrorMessage()},3e3)}})}cancelEdit(e){e.isEditing=!1,this.loadButtons(),this.clearMessages()}clearMessages(){this.successMessage=null,this.errorMessage=null}closeSuccessMessage(){this.successMessage=null}closeErrorMessage(){this.errorMessage=null}static \u0275fac=function(o){return new(o||a)(k(Ke))};static \u0275cmp=T({type:a,selectors:[["app-inline-buttons"]],decls:1,vars:1,consts:[["class","bg-reg collapse collapse-arrow hover-shadow card my-4 w-[98%] mx-auto py-4",4,"ngFor","ngForOf"],[1,"bg-reg","collapse","collapse-arrow","hover-shadow","card","my-4","w-[98%]","mx-auto","py-4"],["type","checkbox",1,"peer"],[1,"collapse-title","text-indigo-400","bg-reg","peer-checked:bg-primary","peer-checked:text-white","font-bold","text-lg","relative"],[1,"collapse-content","bg-reg"],["class","sub-btn-date flex justify-between text-gray-400 text-xs py-2 px-4",4,"ngIf"],[1,"sub-btn-body-wrapper"],["class","sub-btn-body flex justify-between items-center",4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"sub-btn-date","flex","justify-between","text-gray-400","text-xs","py-2","px-4"],[1,"sub-btn-body","flex","justify-between","items-center"],[1,"sub-btn-body-title","text-lg","font-bold","text-indigo-400","flex","gap-2"],[1,"sub-btn-body-order","font-bold","flex","gap-4","items-center"],[1,"order"],[1,"nj-toast-trans"],[1,"btn","btn-primary",3,"click"],["class","sub-btn-url",4,"ngIf"],[1,"sub-btn-url"],[1,"flex","items-center"],[1,"form-group-wrapper","flex","flex-1","items-center","gap-4","pt-4"],[1,"form-group","w-[30%]"],[1,"block","text-sm","text-indigo-400","font-bold"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"form-group","w-[50%]"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C URL \u043A\u043D\u043E\u043F\u043A\u0438",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"form-group","w-[12.5%]"],["disabled","","placeholder","",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"btn-group","flex","items-center","gap-2","pt-5"],[1,"btn","btn-error",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24","cl",""],["fill","none","stroke","#fffFFF","stroke-dasharray","16","stroke-dashoffset","16","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["d","M7 7l10 10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.4s","values","16;0"],["d","M17 7l-10 10"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.4s","dur","0.4s","values","16;0"],[1,"btn","btn-accent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","viewBox","0 0 24 24"],["fill","none","stroke","#fff","stroke-dasharray","24","stroke-dashoffset","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.7","d","M5 11l6 6l10 -10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.96s","values","24;0"]],template:function(o,t){o&1&&h(0,i0,9,4,"div",0),o&2&&d("ngForOf",t.buttons)},dependencies:[O,W,_e,R,z,j,J]})}return a})();var zt=(()=>{class a{http;apiUrl=B.auth.apiUrl;constructor(e){this.http=e}getNews(){return this.http.get(`${this.apiUrl}news`)}updateNews(e,o){return this.http.put(`${this.apiUrl}news/${e}`,o)}createNews(e){return this.http.post(`${this.apiUrl}news`,e)}deleteNews(e){return this.http.delete(`${this.apiUrl}news/${e}`)}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Qe=(()=>{class a{http;apiUrl=`${ee.auth.baseUrl}/categories`;constructor(e){this.http=e}getCategories(){return this.http.get(this.apiUrl)}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var o0=a=>({"rotate-180":a}),r0=a=>({"rotate-45":a});function l0(a,m){a&1&&(i(0,"span",45),r(1," \u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0434\u043E\u043C\u0435\u043D, \u0432\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u0438\u043C \u0434\u043E\u043C\u0435\u043D\u043E\u043C "),p(2,"br"),r(3," https://1xjet.jp/tgadmin/image/example.png \u0438\u043B\u0438 https://1xjet.netlify.app/example.png "),n())}function s0(a,m){if(a&1&&(i(0,"option",46),r(1),n()),a&2){let e=m.$implicit;d("value",e.id),l(),w(" ",e.name," ")}}function u0(a,m){if(a&1){let e=S();i(0,"div",27)(1,"h3",28),r(2,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u0443\u044E \u043D\u043E\u0432\u043E\u0441\u0442\u044C"),n(),i(3,"div",29)(4,"label",30),r(5,"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A:"),n(),i(6,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.newNews.post_title,t)||(s.newNews.post_title=t),_(t)}),n()(),i(7,"div",29)(8,"label",30),r(9,"\u041A\u043E\u043D\u0442\u0435\u043D\u0442:"),n(),i(10,"textarea",32),v("ngModelChange",function(t){g(e);let s=u();return x(s.newNews.post_content,t)||(s.newNews.post_content=t),_(t)}),n()(),i(11,"div",29)(12,"label",30),r(13,"URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F: "),h(14,l0,4,0,"span",33),n(),i(15,"input",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.newNews.post_image_url,t)||(s.newNews.post_image_url=t),_(t)}),n()(),i(16,"div",29)(17,"label",30),r(18,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438:"),n(),i(19,"input",35),v("ngModelChange",function(t){g(e);let s=u();return x(s.newNews.btn_title,t)||(s.newNews.btn_title=t),_(t)}),n()(),i(20,"div",29)(21,"label",30),r(22,"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u043D\u043E\u0432\u043E\u0441\u0442\u044C"),n(),i(23,"input",36),v("ngModelChange",function(t){g(e);let s=u();return x(s.newNews.news_url,t)||(s.newNews.news_url=t),_(t)}),n()(),i(24,"div",29)(25,"label",30),r(26,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F:"),n(),i(27,"select",37),v("ngModelChange",function(t){g(e);let s=u();return x(s.newNewsCategoryId,t)||(s.newNewsCategoryId=t),_(t)}),i(28,"option",38),r(29," \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044E "),n(),h(30,s0,2,2,"option",39),n()(),i(31,"button",40),b("click",function(){g(e);let t=u();return _(t.createNews())}),r(32," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),i(33,"span",41),E(),i(34,"svg",42)(35,"path",43),p(36,"animate",44),n()()()()()}if(a&2){let e=u();l(6),f("ngModel",e.newNews.post_title),l(4),f("ngModel",e.newNews.post_content),l(4),d("ngIf",e.newNews.post_image_url&&!e.urlValidationService.isValidImageUrl(e.newNews.post_image_url)),l(),f("ngModel",e.newNews.post_image_url),l(4),f("ngModel",e.newNews.btn_title),l(4),f("ngModel",e.newNews.news_url),l(4),f("ngModel",e.newNewsCategoryId),l(3),d("ngForOf",e.categories),l(),d("disabled",!e.urlValidationService.isValidImageUrl(e.newNews.post_image_url))}}function d0(a,m){if(a&1&&(i(0,"figure"),p(1,"img",78),n()),a&2){let e=u(3).$implicit;l(),d("src",e.post_image_url,L)}}function m0(a,m){if(a&1&&(i(0,"div",76),h(1,d0,2,1,"figure",77),n()),a&2){let e=u(2).$implicit;l(),d("ngIf",e.post_image_url)}}function p0(a,m){a&1&&(E(),i(0,"svg",79)(1,"g",80)(2,"path",17),p(3,"animate",18),n(),i(4,"path",81),p(5,"animate",82),n()()())}function c0(a,m){a&1&&(E(),i(0,"svg",42)(1,"g",83)(2,"path",84),p(3,"animate",18),n(),i(4,"path",85),p(5,"animate",86),n()()())}function g0(a,m){if(a&1){let e=S();i(0,"div",55),h(1,m0,2,1,"div",56),i(2,"div",57)(3,"div",58)(4,"p",59),r(5," \u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F: "),i(6,"span",60),r(7),n()(),i(8,"p",61),r(9," isActive: "),h(10,p0,6,0,"svg",62)(11,c0,6,0,"svg",63),n()(),i(12,"h3",64),r(13),n(),i(14,"p",65),r(15),n(),i(16,"div",66)(17,"button",67),b("click",function(){g(e);let t=u().$implicit,s=u(2);return _(s.deleteNews(t.id))}),E(),i(18,"svg",68)(19,"g",69)(20,"path",70),p(21,"animate",71),n(),i(22,"path",72),p(23,"animate",73),n()()()(),M(),i(24,"button",74),b("click",function(){g(e);let t=u().$implicit,s=u(2);return _(s.toggleEdit(t))}),r(25," \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),i(26,"span",75),p(27,"app-edit-icon"),n()()()()()}if(a&2){let e=u().$implicit;l(),d("ngIf",e.post_image_url),l(6),C(e==null||e.category==null?null:e.category.name),l(3),d("ngIf",e.isActive),l(),d("ngIf",!e.isActive),l(2),w(" ",e.post_title," "),l(2),w(" ",e.post_content," ")}}function _0(a,m){if(a&1&&(i(0,"div",90)(1,"div",91)(2,"span",92),r(3," \u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438:"),n(),i(4,"span",93),r(5),n()(),i(6,"div",91)(7,"span",93),r(8," \u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u043D\u043E\u0432\u043E\u0441\u0442\u044C"),n(),i(9,"a",94),r(10),n()()()),a&2){let e=u(2).$implicit;l(5),w(" ",e.btn_title," "),l(4),d("href",e.news_url,L),l(),C(e.news_url)}}function h0(a,m){if(a&1&&(i(0,"div",87)(1,"p",88),r(2,"\u041A\u043D\u043E\u043F\u043A\u0430 \u043D\u043E\u0432\u043E\u0441\u0442\u0438:"),n(),h(3,_0,11,3,"div",89),n()),a&2){let e=u().$implicit;l(3),d("ngIf",e.news_url)}}function f0(a,m){a&1&&(i(0,"span",121),r(1," \u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0434\u043E\u043C\u0435\u043D, \u0432\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u0438\u043C \u0434\u043E\u043C\u0435\u043D\u043E\u043C "),p(2,"br"),r(3," https://1xjet.jp/tgadmin/image/example.png \u0438\u043B\u0438 https://1xjet.netlify.app/example.png "),n())}function x0(a,m){if(a&1&&(i(0,"figure"),p(1,"img",122),n()),a&2){let e=u(3).$implicit;l(),d("src",e.post_image_url,L)}}function v0(a,m){if(a&1&&(i(0,"div",119),h(1,f0,4,0,"span",120)(2,x0,2,1,"figure",77),n()),a&2){let e=u(2).$implicit,o=u(2);l(),d("ngIf",!o.newNews.post_image_url&&!o.urlValidationService.isValidImageUrl(o.newNews.post_image_url)),l(),d("ngIf",e.post_image_url)}}function b0(a,m){if(a&1){let e=S();i(0,"div",95)(1,"div",96)(2,"label",97)(3,"span",98),r(4," Is active ? "),n(),i(5,"input",99),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.isActive,t)||(s.isActive=t),_(t)}),n()()(),i(6,"div",100)(7,"label",101),r(8," \u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438:"),n(),i(9,"input",102),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.post_title,t)||(s.post_title=t),_(t)}),n()(),i(10,"div",100)(11,"label",101),r(12," \u041A\u043E\u043D\u0442\u0435\u043D\u0442 \u043D\u043E\u0432\u043E\u0441\u0442\u0438:"),n(),i(13,"textarea",103),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.post_content,t)||(s.post_content=t),_(t)}),n()(),i(14,"div",100)(15,"label",101),r(16," \u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435: "),n(),i(17,"input",104),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.post_image_url,t)||(s.post_image_url=t),_(t)}),n(),h(18,v0,3,2,"div",105),n(),i(19,"div",100)(20,"label",101),r(21," \u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F"),n(),i(22,"select",106),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.category,t)||(s.category=t),_(t)}),i(23,"option",107),r(24,"Football"),n(),i(25,"option",108),r(26,"Basketball"),n(),i(27,"option",109),r(28,"Box"),n(),i(29,"option",110),r(30,"UFC"),n()()(),i(31,"div",100)(32,"label",101),r(33," \u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438"),n(),i(34,"input",111),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.btn_title,t)||(s.btn_title=t),_(t)}),n()(),i(35,"div",100)(36,"label",101),r(37," \u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u043D\u043E\u0432\u043E\u0441\u0442\u044C"),n(),i(38,"input",112),v("ngModelChange",function(t){g(e);let s=u().$implicit;return x(s.news_url,t)||(s.news_url=t),_(t)}),n()(),i(39,"div",113)(40,"button",114),b("click",function(){g(e);let t=u().$implicit,s=u(2);return _(s.toggleEdit(t))}),E(),i(41,"svg",115)(42,"path",116),p(43,"animate",117),n()()(),M(),i(44,"button",118),b("click",function(){g(e);let t=u().$implicit,s=u(2);return _(s.saveChanges(t))}),r(45," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),i(46,"span",41),E(),i(47,"svg",42)(48,"path",43),p(49,"animate",44),n()()()()()()}if(a&2){let e=u().$implicit,o=u(2);l(5),f("ngModel",e.isActive),l(4),f("ngModel",e.post_title),l(4),f("ngModel",e.post_content),l(4),f("ngModel",e.post_image_url),l(),d("ngIf",e.post_image_url),l(4),f("ngModel",e.category),l(12),f("ngModel",e.btn_title),l(4),f("ngModel",e.news_url),l(6),d("disabled",!o.urlValidationService.isValidImageUrl(o.newNews.post_image_url))}}function w0(a,m){if(a&1&&(i(0,"div",48)(1,"div",49)(2,"p",50),r(3),n(),i(4,"div",51)(5,"p",52),r(6),D(7,"date"),n()()(),h(8,g0,28,6,"div",53)(9,h0,4,1,"div",54)(10,b0,50,9,"ng-template",null,1,ae),n()),a&2){let e=m.$implicit,o=m.index,t=ne(11);l(3),w(" \u{1F4DD} \u041D\u043E\u0432\u043E\u0441\u0442\u044C \u2116",o+1," "),l(3),w(" \u0414\u0430\u0442\u0430 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F: ",P(7,5,e.created_at,"medium")," "),l(2),d("ngIf",!e.isEditing)("ngIfElse",t),l(),d("ngIf",!e.isEditing)}}function C0(a,m){if(a&1&&(i(0,"div"),h(1,w0,12,8,"div",47),D(2,"sortNews"),n()),a&2){let e=u();l(),d("ngForOf",P(2,1,e.newsItems,e.ascending))}}function E0(a,m){a&1&&(i(0,"div",123),E(),i(1,"svg",124)(2,"defs")(3,"radialGradient",125),p(4,"stop",126)(5,"stop",127),n(),i(6,"radialGradient",128),p(7,"stop",129)(8,"stop",130),n(),i(9,"radialGradient",131),p(10,"stop",132)(11,"stop",133),n()(),i(12,"circle",134),p(13,"animate",135)(14,"animate",136),n(),i(15,"circle",137),p(16,"animate",138)(17,"animate",139),n(),i(18,"circle",140),p(19,"animate",141)(20,"animate",142),n()()())}function y0(a,m){if(a&1){let e=S();i(0,"div",143)(1,"b"),r(2),n(),i(3,"span",144),b("click",function(){g(e);let t=u();return _(t.closeSuccessMessage())}),E(),i(4,"svg",145),p(5,"path",146),n()()()}if(a&2){let e=u();l(2),w(" ",e.successMessage," ")}}function S0(a,m){if(a&1){let e=S();i(0,"div",147),r(1),i(2,"span",144),b("click",function(){g(e);let t=u();return _(t.closeErrorMessage())}),E(),i(3,"svg",145),p(4,"path",146),n()()()}if(a&2){let e=u();l(),w(" ",e.errorMessage," ")}}var Rt=(()=>{class a{newsBotService;newsCategoryService;urlValidationService;newsItems=[];categories=[];loading=!0;successMessage=null;errorMessage=null;isOpen=!1;newNews={post_title:"",post_content:"",post_image_url:"",news_url:"",isActive:!0};newNewsCategoryId=null;ascending=!1;constructor(e,o,t){this.newsBotService=e,this.newsCategoryService=o,this.urlValidationService=t}ngOnInit(){let e=localStorage.getItem("newsSortOrder");this.ascending=e?JSON.parse(e):!1,this.loadNews(),this.loadCategories()}loadNews(){this.newsBotService.getNews().subscribe({next:e=>{this.newsItems=e.map(o=>le(re({},o),{isEditing:!1})),this.loading=!1,console.log("NEWS",e)},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0435\u0439:",e),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0435\u0439",this.loading=!1}})}loadCategories(){this.newsCategoryService.getCategories().subscribe({next:e=>{this.categories=e,console.log("Category",e)},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0439:",e),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0439"}})}createNews(){if(!this.newNews.post_title||!this.newNews.post_content||!this.newNewsCategoryId){this.errorMessage="\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043F\u043E\u043B\u044F (\u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A, \u043A\u043E\u043D\u0442\u0435\u043D\u0442, \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F)";return}this.newNews.category={id:this.newNewsCategoryId},this.newsBotService.createNews(this.newNews).subscribe({next:e=>{this.newsItems.push(le(re({},e),{isEditing:!1})),this.successMessage="\u041D\u043E\u0432\u043E\u0441\u0442\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0437\u0434\u0430\u043D\u0430!",this.newNews={post_title:"",post_content:"",post_image_url:"",news_url:"",isActive:!0},this.newNewsCategoryId=null,setTimeout(()=>this.closeSuccessMessage(),3e3)},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u043D\u043E\u0432\u043E\u0441\u0442\u0438:",e),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",setTimeout(()=>this.closeErrorMessage(),3e3)}})}deleteNews(e){this.newsBotService.deleteNews(e).subscribe({next:()=>{this.newsItems=this.newsItems.filter(o=>o.id!==e),this.successMessage="\u041D\u043E\u0432\u043E\u0441\u0442\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D\u0430!",setTimeout(()=>this.closeSuccessMessage(),3e3)},error:o=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438 \u043D\u043E\u0432\u043E\u0441\u0442\u0438:",o),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",setTimeout(()=>this.closeErrorMessage(),3e3)}})}toggleEdit(e){e.isEditing=!e.isEditing,this.clearMessages()}saveChanges(e){let o={post_title:e.post_title,post_content:e.post_content,post_image_url:e.post_image_url,category:e.category,isActive:e.isActive,news_url:e.news_url};this.newsBotService.updateNews(e.id,o).subscribe({next:t=>{e.isEditing=!1,this.successMessage="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E!",setTimeout(()=>this.closeSuccessMessage(),3e3)},error:t=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u043D\u043E\u0432\u043E\u0441\u0442\u0438:",t),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439",setTimeout(()=>this.closeErrorMessage(),3e3)}})}closeSuccessMessage(){this.successMessage=null}closeErrorMessage(){this.errorMessage=null}clearMessages(){this.successMessage=null,this.errorMessage=null}openCreateModal(){this.isOpen=!this.isOpen}toggleSortOrder(){this.ascending=!this.ascending,localStorage.setItem("newsSortOrder",JSON.stringify(this.ascending))}static \u0275fac=function(o){return new(o||a)(k(zt),k(Qe),k(ce))};static \u0275cmp=T({type:a,selectors:[["app-news-bot"]],decls:31,vars:13,consts:[["loadingTemplate",""],["editMode",""],[1,"news-bot","w-full","pb-[25px]"],[1,"title-group","relative"],[1,"header-tab","flex","items-center","justify-between","px-[20px]","py-[20px]","my-[40px]","mb-0","rounded-[20px]","w-[70%]","mx-auto","bg-gradient-to-r","from-indigo-500","to-purple-500","iten"],[1,"text-xl","font-bold","text-white"],[1,"flex","items-center","gap-4"],[1,"text-right","text-white","flex","gap-2","items-center"],[1,"font-bold","text-2xl"],["data-tip","\u0421\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0434\u0430\u0442\u0435",1,"tooltip","tooltip-bottom","tooltip-ghost","absolute","top-0","right-[10%]"],[1,"mt-3","hover-shadow","rounded-xl",3,"click","title"],["xmlns","http://www.w3.org/2000/svg","width","45","height","45","viewBox","0 0 24 24",1,"transition-transform","duration-300",3,"ngClass"],["fill","currentColor","d","M8.734 18.308q-2.667 0-4.527-1.867t-1.86-4.534T4.208 7.37T8.733 5.5t4.532 1.867t1.87 4.534t-1.867 4.537t-4.534 1.87m10.65.692l-2.692-2.692l.714-.708l1.479 1.479V5h1v12.085l1.484-1.485l.708.708zm-8.345-4.02l.727-.707l-2.516-2.54v-3.54h-1v4z"],[1,"flex","items-center","justify-center","my-5","gap-2","cursor-pointer","w-fit","mx-auto","hover:scale-105","active:scale-100","transition-all","ease-in","duration-300","hover-shadow","p-2","rounded-lg",3,"click"],[1,"text-2xl","text-indigo-600"],["xmlns","http://www.w3.org/2000/svg","width","60","height","60","viewBox","0 0 24 24",1,"transition-all","ease-in","duration-300",3,"ngClass"],["fill","none","stroke","#4f45e5","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","64","stroke-dashoffset","64","d","M3 12c0 -4.97 4.03 -9 9 -9c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9c-4.97 0 -9 -4.03 -9 -9Z"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.6s","values","64;0"],["stroke-dasharray","12","stroke-dashoffset","12","d","M7 12h10"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.6s","dur","0.2s","values","12;0"],["stroke-dasharray","12","stroke-dashoffset","12","d","M12 7v10"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.8s","dur","0.2s","values","12;0"],["class","w-[70%] mx-auto p-4 shadow-lg rounded-lg mb-8 hover-shadow",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","alert alert-success mb-4 relative flex justify-between",4,"ngIf"],["class","alert alert-error relative",4,"ngIf"],[1,"w-[70%]","mx-auto","p-4","shadow-lg","rounded-lg","mb-8","hover-shadow"],[1,"text-xl","font-bold","mb-4"],[1,"mb-4"],[1,"block","text-lg","text-indigo-400","font-bold","mb-0"],["type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-1","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u043D\u0442\u0435\u043D\u0442",1,"input","w-full","mt-1","mb-4","border","h-[200px]","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["class","text-red-500 text-sm mt-2 block pt-2",4,"ngIf"],["type","text","placeholder","https://image.com",1,"input","w-full","mt-1","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["placeholder","\u041A\u043D\u043E\u043F\u0430",1,"input","w-full","mt-1","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["type","text","placeholder","https://example.com",1,"input","w-full","mt-1","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],[1,"select","select-bordered","w-full","mt-1","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["value","","disabled","","selected","",1,"text-lg","text-gray-700"],["class","text-lg",3,"value",4,"ngFor","ngForOf"],[1,"btn","pr-0","text-success","mx-auto","flex","items-center","my-3",3,"click","disabled"],[1,"btn","btn-accent"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","none","stroke","#fff","stroke-dasharray","24","stroke-dashoffset","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.7","d","M5 11l6 6l10 -10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.96s","values","24;0"],[1,"text-red-500","text-sm","mt-2","block","pt-2"],[1,"text-lg",3,"value"],["class","news-card mb-8 mt-4",4,"ngFor","ngForOf"],[1,"news-card","mb-8","mt-4"],[1,"flex","items-center","justify-between","w-[70%]","mx-auto","pt-[20px]","mb-[20px]"],[1,"text-lg","font-bold","text-indigo-600","nj-toast-gradient"],[1,"card-date","flex","items-center","gap-2"],[1,"text-xs","text-gray-500"],["class","card-body news-body hover-shadow m-[20px] rounded-[20px] p-0",4,"ngIf","ngIfElse"],["class","btn-news w-main px-6",4,"ngIf"],[1,"card-body","news-body","hover-shadow","m-[20px]","rounded-[20px]","p-0"],["class","img-wrapper w-full h-[350px] relative",4,"ngIf"],[1,"card-content-wrapp","p-[40px]","pt-[20px]","bg-white","z-10","rounded-[20px]"],[1,"card-header","flex","justify-around","items-center"],[1,"text-lg","text-gray-600","font-bold","flex-[80%]"],[1,"nj-toast-gradient","bg-gradient-to-r","from-indigo-500","to-purple-500","iten"],[1,"w-fit","text-gray-400","text-sm","flex","items-center","justify-center"],["class","","xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24",4,"ngIf"],[1,"collapse-title","text-indigo-400","bg-reg","peer-checked:bg-primary","peer-checked:text-white","font-bold","text-xl","pl-0","pb-4","pt-5","min-h-2"],[1,"text-sm","py-2"],[1,"text-right","flex","items-center","gap-1","justify-end","my-3"],[1,"btn","btn-error","mb-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","none","stroke","#fff","stroke-dasharray","24","stroke-dashoffset","24","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["d","M5 5l14 14"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.4s","values","24;0"],["d","M19 5l-14 14"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.4s","dur","0.4s","values","24;0"],[1,"btn","btn-ghost","pr-0",3,"click"],[1,"btn","btn-primary"],[1,"img-wrapper","w-full","h-[350px]","relative"],[4,"ngIf"],["alt","Post Image",1,"rounded-[20px]",3,"src"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24",1,""],["fill","none","stroke","#3f9f52cb","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","14","stroke-dashoffset","14","d","M8 12l3 3l5 -5"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.6s","dur","0.2s","values","14;0"],["fill","none","stroke","#ff4400","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","64","stroke-dashoffset","64","d","M12 3c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9c-4.97 0 -9 -4.03 -9 -9c0 -4.97 4.03 -9 9 -9Z"],["stroke-dasharray","8","stroke-dashoffset","8","d","M12 12l4 4M12 12l-4 -4M12 12l-4 4M12 12l4 -4"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.6s","dur","0.2s","values","8;0"],[1,"btn-news","w-main","px-6"],[1,"text-lg","text-black","my-2","font-bold"],["class","flex items-center justify-between gap-2 nj-toast-gradient text-white",4,"ngIf"],[1,"flex","items-center","justify-between","gap-2","nj-toast-gradient","text-white"],[1,"flex","items-center","gap-2"],[1,"text-lg","text-white","text-nowrap"],[1,"text-lg","text-white","font-bold","text-nowrap"],["target","_blank",1,"underline","text-sm","text-nowrap","overflow-x-auto",3,"href"],[1,"card-body","w-[70%]","mx-auto","hover-shadow","rounded-xl","px-[40px]"],[1,"flex","flex-col","items-start","btn","btn-ghost","btn-access","w-fit","mb-2"],[1,"label","cursor-pointer"],[1,"block","text-lg","font-bold","pr-1"],["type","checkbox","checked","checked",1,"checkbox","checkbox-success",3,"ngModelChange","ngModel"],[1,""],[1,"block","text-sm","text-indigo-400","font-bold"],["placeholder","\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",1,"input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["placeholder","\u041A\u043E\u043D\u0442\u0435\u043D\u0442 \u043D\u043E\u0432\u043E\u0441\u0442\u0438",1,"w-full","h-40","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40","focus-visible:no-underline","text-sm",3,"ngModelChange","ngModel"],["placeholder","URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",1,"input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40","text-sm",3,"ngModelChange","ngModel"],["class","img-wrapper w-[350px] h-auto relative",4,"ngIf"],[1,"select","select-bordered","input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["value","football"],["value","basketball"],["value","box"],["value","ufc"],["placeholder","\u041A\u043D\u043E\u043F\u0430",1,"input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel"],["placeholder","https://example.com",1,"input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40","text-sm",3,"ngModelChange","ngModel"],[1,"flex","justify-end","items-center","gap-4"],[1,"btn","btn-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","35","height","40","viewBox","0 0 24 24"],["fill","#fff","stroke","#fff","stroke-dasharray","12","stroke-dashoffset","12","stroke-linecap","round","stroke-linejoin","round","stroke-width","2.5","d","M12 12l7 7M12 12l-7 -7M12 12l-7 7M12 12l7 -7"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.3s","values","12;0"],[1,"btn","pr-0","text-success",3,"click","disabled"],[1,"img-wrapper","w-[350px]","h-auto","relative"],["class","text-red-500 text-sm mt-2 block w-full",4,"ngIf"],[1,"text-red-500","text-sm","mt-2","block","w-full"],["alt","Post Image",1,"rounded-[35px]",3,"src"],[1,"isLoading","fixed","z-10"],["xmlns","http://www.w3.org/2000/svg","width","300","height","300","viewBox","0 0 24 24",1,""],["id","gradient1","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(51.01% 0.274 263.83)"],["offset","100%","stop-color","#4f45e5"],["id","gradient2","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","oklch(47.66% 0.246 305.88)"],["offset","100%","stop-color","#818cf8"],["id","gradient3","cx","50%","cy","50%","r","50%"],["offset","0%","stop-color","#4f45e5"],["offset","100%","stop-color","#8845e5"],["cx","12","cy","12","r","0","fill","url(#gradient1)"],["id","svgSpinnersPulseMultiple0","fill","freeze","attributeName","r","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","0;svgSpinnersPulseMultiple2.end","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient2)"],["id","svgSpinnersPulseMultiple1","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.2s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],["cx","12","cy","12","r","0","fill","url(#gradient3)"],["id","svgSpinnersPulseMultiple2","fill","freeze","attributeName","r","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","0;11"],["fill","freeze","attributeName","opacity","begin","svgSpinnersPulseMultiple0.begin+0.4s","calcMode","spline","dur","1.2s","keySplines",".52,.6,.25,.99","values","1;0"],[1,"alert","alert-success","mb-4","relative","flex","justify-between"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"],[1,"alert","alert-error","relative"]],template:function(o,t){if(o&1){let s=S();i(0,"section",2)(1,"div",3)(2,"div",4)(3,"h2",5),r(4,"News bot"),n(),i(5,"div",6)(6,"p",7),r(7," \u0412\u0441\u0435\u0433\u043E \u043D\u043E\u0432\u043E\u0441\u0442\u0435\u0439: "),i(8,"span",8),r(9),n()()()(),i(10,"div",9)(11,"button",10),b("click",function(){return g(s),_(t.toggleSortOrder())}),E(),i(12,"svg",11),p(13,"path",12),n()()()(),M(),i(14,"div",13),b("click",function(){return g(s),_(t.openCreateModal())}),i(15,"span",14),r(16,"Create news"),n(),E(),i(17,"svg",15)(18,"g",16)(19,"path",17),p(20,"animate",18),n(),i(21,"path",19),p(22,"animate",20),n(),i(23,"path",21),p(24,"animate",22),n()()()(),h(25,u0,37,9,"div",23)(26,C0,3,4,"div",24)(27,E0,21,0,"ng-template",null,0,ae)(29,y0,6,1,"div",25)(30,S0,5,1,"div",26),n()}if(o&2){let s=ne(28);l(9),C(t.newsItems.length),l(2),Se("title",t.ascending?"\u0421\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C: \u0441\u0442\u0430\u0440\u044B\u0435 \u2192 \u043D\u043E\u0432\u044B\u0435":"\u0421\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C: \u043D\u043E\u0432\u044B\u0435 \u2192 \u0441\u0442\u0430\u0440\u044B\u0435"),l(),d("ngClass",Y(9,o0,t.ascending)),l(5),d("ngClass",Y(11,r0,t.isOpen)),l(8),d("ngIf",t.isOpen),l(),d("ngIf",!t.loading)("ngIfElse",s),l(3),d("ngIf",t.successMessage),l(),d("ngIf",t.errorMessage)}},dependencies:[G,O,W,_e,K,Q,R,ye,Z,z,j,J,Bt]})}return a})();var Ht=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275cmp=T({type:a,selectors:[["app-admin-page"]],decls:35,vars:0,consts:[[1,"admin-page","ml-side"],[1,"container","mx-auto","pt-[10px]"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","py-[10px]","mb-[0px]","rounded-[20px]","w-[100%]","pr-4"],[1,"title-tab","text-2xl","font-bold","text-indigo-600"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24"],["fill","none","stroke","#4f45e5","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","20","stroke-dashoffset","20","d","M3 21h18"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.2s","values","20;0"],["fill","#4e46e553","fill-opacity","0","stroke-dasharray","48","stroke-dashoffset","48","d","M7 17v-4l10 -10l4 4l-10 10h-4"],["fill","freeze","attributeName","fill-opacity","begin","1.1s","dur","0.5s","values","0;1"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.2s","dur","0.6s","values","48;0"],["stroke-dasharray","8","stroke-dashoffset","8","d","M14 6l4 4"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.8s","dur","0.2s","values","8;0"],["role","tablist",1,"tabs","tabs-lifted"],["type","radio","name","my_tabs_2","role","tab","aria-label","\u041F\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0431\u043E\u0442\u0430",1,"tab","tabs-title-input"],["role","tabpanel",1,"tab-content","bg-base-100","border-base-300","rounded-box","h-[82dvh]"],[1,"tabpanel-wrapper"],["type","radio","name","my_tabs_2","role","tab","aria-label","\u041F\u043E\u0441\u0442\u044B \u0431\u043E\u0442\u0430","checked","checked",1,"tab","tabs-title-input"],["type","radio","name","my_tabs_2","role","tab","aria-label","\u0413\u043B\u0430\u0432\u043D\u043E\u0435 \u043C\u0435\u043D\u044E \u0431\u043E\u0442\u0430",1,"tab","tabs-title-input"],["type","radio","name","my_tabs_2","role","tab","aria-label","\u041D\u043E\u0432\u043E\u0441\u0442\u0438",1,"tab","tabs-title-input"]],template:function(o,t){o&1&&(p(0,"app-sidebar"),i(1,"section",0)(2,"div",1)(3,"div",2)(4,"h2",3),r(5," \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u043A\u043E\u043D\u0442\u0435\u043D\u0442\u0430 "),n(),E(),i(6,"svg",4)(7,"g",5)(8,"path",6),p(9,"animate",7),n(),i(10,"path",8),p(11,"animate",9)(12,"animate",10),n(),i(13,"path",11),p(14,"animate",12),n()()()(),M(),i(15,"div",13),p(16,"input",14),i(17,"div",15)(18,"div",16),p(19,"app-greeting-bot"),n()(),p(20,"input",17),i(21,"div",15)(22,"div",16),p(23,"app-posts-bot"),n()(),p(24,"input",18),i(25,"div",15)(26,"div",16),p(27,"app-menu-buttons"),n()(),i(28,"div",15)(29,"div",16),p(30,"app-inline-buttons"),n()(),p(31,"input",19),i(32,"div",15)(33,"div",16),p(34,"app-news-bot"),n()()()()())},dependencies:[te,Ft,At,Nt,Ot,Rt],styles:['.admin-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.tabpanel-wrapper[_ngcontent-%COMP%]{height:100%}.title-tab[_ngcontent-%COMP%]{position:relative;padding-left:10px}.title-tab[_ngcontent-%COMP%]:after{content:"";position:absolute;height:100%;width:4px;background:#4f45e5;left:0;bottom:0}.tabs[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4f45e5,transparent);border-radius:var(--rounded-box, 1rem);padding-top:5px}.tabs-title-input[_ngcontent-%COMP%]{width:fit-content;text-wrap:nowrap;color:#fff;font-weight:700}.tab-content[_ngcontent-%COMP%]{overflow:hidden;overflow-y:auto}.tab.tabs-title-input[_ngcontent-%COMP%]{transition:.1s ease-in;margin:0;padding:0 5px}.tab.tabs-title-input[_ngcontent-%COMP%]:hover{-webkit-backdrop-filter:brightness(.5);backdrop-filter:brightness(.5)}.card-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{cursor:pointer}.card-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #4e46e580;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease-in-out}.card-list[_ngcontent-%COMP%]   .input-title[_ngcontent-%COMP%]{border-radius:20px 0 0 20px}.card-list[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border-radius:0 20px 20px 0}.alert[_ngcontent-%COMP%], .alert-success[_ngcontent-%COMP%], .alert.alert-success[_ngcontent-%COMP%]{top:20px;position:fixed;z-index:9999;width:50%;display:flex;justify-content:center;align-items:center;left:50%;transform:translate(-50%);opacity:.7;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}']})}return a})();var $t=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275cmp=T({type:a,selectors:[["app-add-button"]],decls:69,vars:0,consts:[[1,"added-page","relative","container","mx-auto"],["id","monkey_404","viewBox","0 0 800 480"],["type","text/css"],["id","cloud","d",`M658.4,345.2c-10.9,0-19.7-8.8-19.7-19.7c0-10.9,8.8-19.7,19.7-19.7h50.1c9.9-1.5,17.5-10,17.5-20.3
    c0-11.4-9.2-20.6-20.6-20.6v-0.2H633c-11.4,0-20.6-6.7-20.6-18.1c0-11.4,9.2-19.3,20.6-19.3h70.4l2-0.2c7.3-3.1,12.5-11,12.5-19.5
    c0-8.5-4.2-16.7-11.4-19.2l-2.5-0.3h-11.3c-11.9,0-21.6-8.9-21.6-19.9c0-11,9.7-19.9,21.6-19.9h15.8l1.4-0.3
    c8.6-2.5,14.8-10.1,14.8-19.5c0-11.4-9.2-20.6-20.6-20.6h-1.2h-69.2H382.5c-19.8-0.9-19.9-15.9-19.8-17.8c0-0.1,0-0.1,0-0.2
    c0-9.9-8.1-18-18-18h-93.5c-9.9,0-18,8.1-18,18c0,9.4,7.2,17.1,16.3,17.9h9.3c0.2,0,0,0,0.6,0l0.5,0l0.4,0l0.2,0
    c10.1,0.9,18,9.3,18,19.6c0,10.9-8.8,19.7-19.7,19.7h-70.7c-11.3,0-20.5,9.2-20.5,20.6c0,11.3,9.1,20.5,20.4,20.6h48.8
    c10.3,0,18.7,8.4,18.7,18.7c0,10.3-8.4,18.7-18.7,18.7h-23.2c-11.3,0.1-20.4,9.2-20.4,20.6c0,11.3,9.2,20.5,20.5,20.6h6.3
    c10.7,0,19.3,8.7,19.3,19.3c0,10.7-7.8,19.3-18.4,19.3l-1.5,0l-2.8,0.4c-7.3,3.1-11.8,11-11.5,18.9c0.3,8.5,4.2,16.5,11.7,19.6
    c1.1,0.7,3.4,0.9,4.4,0.9h4.5H296h19.7c3.9,0.5,8.2,4.2,7.4,10.4c0,0.4,0,0.8,0.1,1.1c0,0.5-0.1,1-0.1,1.5c0,9.7,7.9,17.5,17.5,17.5
    h60.2c9.7,0,17.5-7.9,17.5-17.5c0-0.4,0-0.8-0.1-1.2c0.1-0.3,0-0.7,0.1-1.1c0.3-6.5,6.4-10.9,10.6-10.8h110.1
    c8.5,0,16.9,6.6,16.9,14.8c0,8.2,6.6,14.8,14.8,14.8h92.6c8.2,0,14.8-6.6,14.8-14.8c0-8.2-6.6-14.8-14.8-14.8 M332.8,187.1h-21.2
    c-11.4,0-20.6-9.2-20.6-20.6c0-11.4,9.2-20.6,20.6-20.6h21.2c11.4,0,20.6,9.2,20.6,20.6C353.3,177.9,344.1,187.1,332.8,187.1z`,1,"st0"],["id","zelda"],["id","zelda_dark_shadow","d",`M156.9,91.5l-18.5-32l18.5,10.7L156.9,91.5z M193.8,70.2l-18.5-10.7l18.5,32
      L193.8,70.2z M175.4,102.2l-18.5-10.7l18.5,32L175.4,102.2z`,1,"st0"],["id","zelda_light_shadow","d",`M175.4,59.5l-18.5,10.7l-18.5-10.7H175.4z M175.4,59.5l18.5,10.7l18.5-10.7H175.4z
       M156.9,91.5l18.5,10.7l18.5-10.7H156.9z`,1,"st0"],["id","zelda_highlight","d",`M150.6,66.6h12.5l-6.3,10.8L150.6,66.6z M193.8,77.4l6.3-10.8h-12.5L193.8,77.4z
       M175.4,109.4l6.3-10.8h-12.5L175.4,109.4z`,1,"st1"],["id","zelda_stroke","d",`M138.4,59.5h36.9l-18.5,32L138.4,59.5z M193.8,91.5l18.5-32h-36.9L193.8,91.5z M175.4,123.5
      l18.5-32h-36.9L175.4,123.5z`,1,"st2"],["id","rock_shade","d","M243.3,374.9H140.1c-1.7,0-2.1,2.5-0.4,2.9l44.7,12.6l-19.3,45l34-46.5l39.4-7.4L243.3,374.9z",1,"st0"],["id","rock","d","M104,367.5h134.6c1.9,3.5,2.3,4.3,4.1,7.8l-4.3,6.3L199,389l-40,52",1,"st5"],["id","foot_back","d","M187.3,354.5c2.2-4.5,1.6-12.8-3.3-18.5l-9.3,2c2.2,3.5,8.3,7.7,2.3,20.8 c-1.9,4.2-0.8,8.7,4,8.7h22.3c6.5,0,5.3-7.9,2-10.5c-4.2-3.3-10.2-3.6-15.3-1C187.9,357.1,185.3,358.7,187.3,354.5z",1,"st3"],["id","foot_front","d","M166.3,354.5c2.2-4.5,1.6-12.8-3.3-18.5l-9.3,2c2.2,3.5,8.3,7.7,2.3,20.8 c-1.9,4.2-0.8,8.7,4,8.7h22.3c6.5,0,5.3-7.9,2-10.5c-4.2-3.3-10.2-3.6-15.3-1C166.9,357.1,164.3,358.7,166.3,354.5z",1,"st4"],["id","monkey"],["id","face_1_","d",`M213.7,245.2c0,0-6-2.9-11,0.2c-4.6,2.8-9.4,1.7-14,0c-4.6-1.7-16-5.1-19.2,2.6
      c-2,3.8-2.3,9.7,3.8,16.3c-0.9,10.1-2.9,37.9,28.6,34.2c10.1-1.2,24.8-12.7,25.4-18.2s-1.2-6.8-6.4-6.9
      c-1.3-6.5-2.4-12.6-10.8-11.4c-3.9,0.2,7.5,0,8.1-7.5C218.6,247.8,213.7,245.2,213.7,245.2z`,1,"st4"],["id","body","d",`M199.8,299.3l9-55.5c0,0-2.1-3.6-7.2-7.1c1.4-1.2,2.2-3.1,1.8-5c-0.6-3.1-3.9-5.3-7.5-4.8
      c-2.9,0.4-5,2.4-5.4,4.8l0,0c-7.2-1.9-16.5-1.9-29.5,1.6c-1.5-3.1-5.6-5.4-9.3-5.7c-5.5-0.4-9.3,3.7-9.7,9.3
      c-0.3,4.4,2.2,8.3,6.1,9.9c-16,25.6-14.6,58.2-11,71.9c4.3,16.1,18.2,21.8,26.3,21.8c13,0,33.8-1.9,37.5-17.7
      C202.9,315,202,303.9,199.8,299.3z`,1,"st4"],["id","tail","d",`M89,315c2.2-15.2-23-13.2-21.6,4.8c1.7,22.3,24.4,22.1,42.5,9.1c10.8-7.8,15.3-1.8,19.1,1.1
      c2.3,1.7,6.7,3.3,11-3`,1,"st6"],["id","face","d",`M213.7,245.2c0,0-6-2.9-11,0.2c-4.6,2.8-9.4,1.7-14,0c-4.6-1.7-16-5.1-19.2,2.6
      c-2,3.8-2.3,9.7,3.8,16.3c-0.9,10.1-2.9,37.9,28.6,34.2c10.1-1.2,24.8-12.7,25.4-18.2s-1.2-6.8-6.4-6.9
      c-1.3-6.5-2.4-12.6-10.8-11.4c-3.9,0.2,7.5,0,8.1-7.5C218.6,247.8,213.7,245.2,213.7,245.2z`,1,"st7"],["id","mouth","d",`M201.6,281.5c0,0,0.2-0.3,0.5-0.8c0.1-0.3,0.4-0.6,0.6-0.9c0.2-0.4,0.6-0.7,0.9-1.1
      c0.4-0.4,0.8-0.8,1.2-1.2c0.5-0.4,0.9-0.8,1.5-1.2c0.5-0.4,1.1-0.7,1.7-1.1c0.6-0.3,1.2-0.6,1.9-0.9c0.6-0.3,1.3-0.5,1.9-0.7
      c0.7-0.2,1.3-0.4,1.9-0.5c0.6-0.2,1.3-0.3,1.8-0.4c0.6-0.1,1.2-0.1,1.7-0.2c0.5-0.1,1-0.1,1.4-0.1c0.4,0,0.8,0,1.1,0c0.6,0,1,0,1,0
      c0.6,0,1,0.5,1,1s-0.5,1-1,1c0,0,0,0,0,0l-0.1,0c0,0-0.3,0-0.9,0c-0.3,0-0.6,0-1,0c-0.4,0-0.8,0-1.3,0c-0.5,0-1,0-1.6,0.1
      c-0.6,0.1-1.1,0.1-1.7,0.3c-0.6,0.1-1.2,0.3-1.8,0.4c-0.6,0.2-1.2,0.4-1.8,0.6c-0.6,0.2-1.2,0.5-1.8,0.8c-0.6,0.3-1.1,0.6-1.6,0.9
      c-0.5,0.3-1,0.7-1.4,1c-0.4,0.3-0.8,0.7-1.2,1c-0.3,0.4-0.7,0.7-0.9,1c-0.2,0.3-0.5,0.5-0.6,0.8c-0.3,0.5-0.5,0.8-0.5,0.8
      c-0.2,0.2-0.5,0.3-0.7,0.1C201.6,282.1,201.5,281.8,201.6,281.5z`,1,"st8"],["id","nose_hole","d",`M213.2,266.3c0.6,0,1,0.5,0.9,1.1c0,0.6-0.5,1-1.1,0.9c-0.6,0-1-0.5-0.9-1.1
      C212.1,266.6,212.6,266.2,213.2,266.3z`,1,"st9"],["id","nose_hole_1_","d",`M208.1,266.9c0.6,0,1,0.5,0.9,1.1c0,0.6-0.5,1-1.1,0.9c-0.6,0-1-0.5-0.9-1.1
      C207.1,267.3,207.6,266.9,208.1,266.9z`,1,"st9"],["id","eye_right","d",`M205,253.5c1.1,0.1,1.9,1,1.9,2.1c-0.1,1.1-1,1.9-2.1,1.9c-1.1-0.1-1.9-1-1.9-2.1
      C203,254.3,203.9,253.4,205,253.5z`,1,"st9"],["id","eye_left","d",`M191.5,254.6c1.4,0.1,2.4,1.3,2.3,2.7c-0.1,1.4-1.3,2.4-2.7,2.3c-1.4-0.1-2.4-1.3-2.3-2.7
      C188.9,255.6,190.1,254.5,191.5,254.6z`,1,"st9"],["id","mongkey_shadow_1_","d",`M209.1,281c0.9-0.9,9.4-2.6,12-3c2.4-0.4-1.6,4.1-5,5S208.2,282,209.1,281z
       M143.6,237.1c-0.3,3.6,1.8,7,5.2,8.4c0.4,0.2,0.7,0.5,0.8,0.9c0.1,0.4,0.1,0.9-0.2,1.2c-15.1,24.2-14.7,56.3-10.8,70.8
      c4,15.2,17.1,20.7,24.8,20.7c8.9,0,16.1-1,21.8-2.9c-67.5,2.2-35-81.7-33.3-87.3c0.2-0.8,1.2-4.4,1-5c-0.6-1.6-3.5-0.2-6-4
      c-2.9-4.5,1.2-9.2,2.6-10.6C146.3,230.1,143.9,233,143.6,237.1z M201.7,297.5c7.8-0.9,17.9-8,22.3-13.3
      c-27.4,14.7-44.4,3.1-50.1-9.8c0.3,5.9,1.6,12.6,5.9,17.3C184.4,296.7,191.8,298.7,201.7,297.5z M208.6,261.2
      c-5.7,0.8-8.6-1.1-11.6,1.8c-2.8,2.7-7.7,4.6-3.8,4.1c3.9-0.6,10.1-3.4,16.8-4.1c0,0,0,0,0,0l-0.5,0c-0.2,0-0.3,0-0.4,0
      c-0.5,0-1-0.4-1-0.9C208.2,261.9,208.2,261.5,208.6,261.2z M198.4,300c0-0.1,0-0.1-0.1-0.2c-0.7,0-1.4,0.1-2,0.1
      c-7.8,0-13.9-2.3-18-6.8c-7.7-8.4-6.6-22.5-6.1-28.4c-5.6-6.2-5.6-11.5-4.6-15c-2,2.3-4.8,8.5,2.1,16.1c-3.9,6.4-5.4,26.5,9.2,36.2
      c7.2,4.8,16.6,5.3,20.8,2.8C199.5,302.9,199,301.2,198.4,300z`,1,"st0"],["id","belly","d",`M189.1,304c6.2,3,8.1,11.5,5.9,19c-2.3,7.4-9.8,10-16,7c-6.2-3-7.6-10.4-5.3-17.8
      S182.9,301.1,189.1,304z`,1,"st10"],["id","belly_button","d",`M191.2,322.3c0-0.1-0.1-0.2-0.2-0.2l-1.9-1.4l1-1.9c0.1-0.1,0.1-0.2,0-0.3
      c-0.1-0.2-0.4-0.4-0.7-0.3c-0.2,0-0.4,0.2-0.5,0.3l-0.9,1.7l-1.6-1.2c-0.2-0.1-0.3-0.1-0.5-0.1c-0.4,0.1-0.5,0.4-0.5,0.6
      c0,0.1,0.1,0.2,0.2,0.2l1.8,1.3l-1.1,2.1c-0.1,0.1-0.1,0.2,0,0.3c0.1,0.3,0.4,0.4,0.7,0.4c0.2,0,0.3-0.1,0.4-0.3l1-1.9l1.7,1.3
      c0.1,0.1,0.3,0.1,0.5,0.1C191.1,322.8,191.3,322.5,191.2,322.3z`,1,"st8"],["id","monkey_arm"],["id","arm","d",`M164.3,344.1c-0.9-0.3-1.8-0.2-2.5,0.2c-0.3-0.2-0.6-0.3-0.9-0.4c-0.8-0.3-1.5-0.5-2.3-0.5
        c-0.1,0-0.2-0.1-0.3-0.3c-2.4-11.4-1.1-27.6,0.3-43.8c0-0.1,1.2-5.7-2.6-7.2c-5.2-2.1-5.5,2.5-5.5,2.7c-0.5,4.8-3.6,39,1.1,51.4
        c0,0.1,0,0.2,0,0.3c-0.4,0.5-0.7,1-0.9,1.7c-1.5,3.9,0.7,8.3,4.8,9.9c4.1,1.6,8.7-0.3,10.1-4.2c0.5-1.3,0.6-2.7,0.3-4
        c0-0.1,0-0.2,0.1-0.2c0.5-0.7,0.9-1.6,0.5-2.9C166.2,345.5,165.4,344.4,164.3,344.1z`,1,"st4"],["id","armpit"],["id","armpit_mask","d",`M165,296c0-4.3-1.8-10.8-6-12c-12.5-3.5-12.4,11.1-12.4,11.1s10.8-1.4,16.7,9.6
          C163.3,304.6,165,300.3,165,296z`,1,"st11"],["id","armpit_line","d",`M163.9,295.6c0,0-0.3-0.2-0.8-0.5c-0.2-0.2-0.5-0.3-0.9-0.5c-0.3-0.2-0.8-0.4-1.2-0.6
          c-0.5-0.2-0.9-0.5-1.5-0.6c-0.5-0.2-1.1-0.4-1.7-0.6c-0.6-0.1-1.2-0.3-1.9-0.4c-0.7-0.1-1.3-0.2-2-0.2c-0.7,0-1.3,0-2,0.1
          c-0.7,0-1.3,0.2-1.9,0.3c-1.2,0.3-2.4,0.6-3.3,1c-0.9,0.4-1.7,0.8-2.2,1.1c-0.3,0.2-0.5,0.3-0.6,0.4c-0.1,0.1-0.2,0.1-0.2,0.1
          c-0.4,0.3-0.5,0.9-0.2,1.3c0.3,0.5,0.9,0.6,1.4,0.3l0,0c0,0,0.1,0,0.2-0.1c0.1-0.1,0.3-0.2,0.5-0.3c0.3-0.2,0.8-0.4,1.3-0.7
          c0.1,0,0.3,0,0.5,0c0.5,0,1.3,0.1,2.2,0.2c0.4,0.1,0.9,0.2,1.4,0.3c0.5,0.1,1,0.3,1.6,0.4c0.5,0.2,1.1,0.4,1.6,0.6
          c0.6,0.2,1.1,0.5,1.6,0.8c0.6,0.3,1,0.6,1.5,1c0.5,0.3,0.9,0.7,1.4,1.1c0.4,0.4,0.8,0.8,1.2,1.1c0.4,0.4,0.7,0.8,1,1.1
          c0.3,0.4,0.6,0.7,0.8,1c0.2,0.3,0.4,0.6,0.6,0.8c0.3,0.5,0.5,0.7,0.5,0.7l0,0c0.1,0.2,0.4,0.3,0.6,0.2c0.2-0.1,0.3-0.4,0.2-0.7
          c0,0-0.2-0.3-0.4-0.8c-0.1-0.3-0.3-0.6-0.5-0.9c-0.2-0.4-0.4-0.7-0.7-1.1c-0.3-0.4-0.6-0.9-0.9-1.3c-0.4-0.4-0.7-0.9-1.2-1.4
          c-0.5-0.4-0.9-0.9-1.4-1.3c-0.5-0.4-1-0.8-1.6-1.2c-0.6-0.4-1.1-0.7-1.8-1c-0.6-0.3-1.2-0.5-1.8-0.8c-0.5-0.2-1-0.3-1.5-0.4
          c0.1,0,0.2,0,0.3-0.1c0.6-0.1,1.2-0.1,1.8-0.2c0.6-0.1,1.2,0,1.8,0c0.6,0,1.2,0.2,1.7,0.2c0.6,0.1,1.1,0.3,1.6,0.4
          c0.5,0.1,1,0.3,1.4,0.5c0.4,0.2,0.8,0.3,1.2,0.5c0.3,0.2,0.6,0.3,0.9,0.4c0.5,0.2,0.8,0.4,0.8,0.4l0,0c0.2,0.1,0.5,0,0.6-0.2
          C164.2,296,164.1,295.7,163.9,295.6z`,1,"st8"],["id","tetris"],["id","tetris_stroke","d","M487.5,357.5h30v30h-30V357.5z",1,"st12"],["d",`M516,359l-4.5,5.4c-0.3,0.4-0.5,0.8-0.5,1.3V380c0,0.6-0.4,1-1,1h-14.3c-0.5,0-0.9,0.2-1.3,0.5L489,386h27V359
      z`,1,"st0"],["id","tetris_stroke_2_","d","M487.5,327h30v30h-30V327z",1,"st12"],["d",`M516,328.5l-4.5,5.4c-0.3,0.4-0.5,0.8-0.5,1.3v14.3c0,0.6-0.4,1-1,1h-14.3c-0.5,0-0.9,0.2-1.3,0.5l-5.4,4.5h27
      V328.5z`,1,"st0"],["id","tetris_stroke_1_","d","M518,357.5h30v30h-30V357.5z",1,"st12"],["d",`M546.5,359l-4.5,5.4c-0.3,0.4-0.5,0.8-0.5,1.3V380c0,0.6-0.4,1-1,1h-14.3c-0.5,0-0.9,0.2-1.3,0.5l-5.4,4.5h27
      V359z`,1,"st0"],["id","tetris_stroke_3_","d","M549,357.5h30v30h-30V357.5z",1,"st12"],["d",`M577.5,359l-4.5,5.4c-0.3,0.4-0.5,0.8-0.5,1.3V380c0,0.6-0.4,1-1,1h-14.3c-0.5,0-0.9,0.2-1.3,0.5l-5.4,4.5h27
      V359z`,1,"st0"],["id","tetris_stroke_4_","d","M549,388h30v30h-30V388z",1,"st12"],["d",`M577.5,389.5l-4.5,5.4c-0.3,0.4-0.5,0.8-0.5,1.3v14.3c0,0.6-0.4,1-1,1h-14.3c-0.5,0-0.9,0.2-1.3,0.5l-5.4,4.5
      h27V389.5z`,1,"st0"],["id","stars"],["id","star_a","d",`M652.6,332.5c-5.3,3.1-12.1,1.2-15.1-4.1l-1.4-2.4l1.4,2.4c3.1,5.3,1.2,12.1-4.1,15.1l-2.4,1.4
      l2.4-1.4c5.3-3.1,12.1-1.2,15.1,4.1l1.4,2.4l-1.4-2.4C645.5,342.3,647.3,335.5,652.6,332.5l2.4-1.4L652.6,332.5z`,1,"st4"],["id","star_b","d",`M503.4,73.7c-8,4.6-18.1,1.9-22.7-6.1l-2.1-3.6l2.1,3.6c4.6,8,1.9,18.1-6.1,22.7l-3.6,2.1l3.6-2.1
      c8-4.6,18.1-1.9,22.7,6.1l2.1,3.6l-2.1-3.6C492.7,88.4,495.4,78.3,503.4,73.7l3.6-2.1L503.4,73.7z`,1,"st4"],["id","star_c","d",`M330.4,335.7c-8,4.6-18.1,1.9-22.7-6.1l-2.1-3.6l2.1,3.6c4.6,8,1.9,18.1-6.1,22.7l-3.6,2.1
      l3.6-2.1c8-4.6,18.1-1.9,22.7,6.1l2.1,3.6l-2.1-3.6C319.7,350.4,322.4,340.3,330.4,335.7l3.6-2.1L330.4,335.7z`,1,"st4"],["id","star_d","d",`M135.6,176.5c-5.3,3.1-12.1,1.2-15.1-4.1l-1.4-2.4l1.4,2.4c3.1,5.3,1.2,12.1-4.1,15.1l-2.4,1.4
      l2.4-1.4c5.3-3.1,12.1-1.2,15.1,4.1l1.4,2.4l-1.4-2.4C128.5,186.3,130.3,179.5,135.6,176.5l2.4-1.4L135.6,176.5z`,1,"st4"],["id","moon"],["id","moon_body","d","M641,34c26,0,47,21,47,47s-21,47-47,47s-47-21-47-47S615,34,641,34z",1,"st4"],["id","moon_shades","d",`M622.5,55.9c1.3,2.3,0,5.8-3.1,7.7c-3,2-6.6,1.7-7.9-0.6c-1.3-2.3,0-5.8,3.1-7.7
      C617.6,53.3,621.1,53.6,622.5,55.9z M628.8,94.1c-4.1-6.1-11.6-9-16.7-6.4c-5.1,2.6-5.9,9.6-1.7,15.7c4.1,6.1,11.6,9,16.7,6.4
      C632.2,107.2,632.9,100.2,628.8,94.1z M644.5,109c-3.6,0-6.5,2.2-6.5,5s2.9,5,6.5,5s6.5-2.2,6.5-5S648.1,109,644.5,109z
       M645.7,95.8c-2.3-1.2-5-0.5-6,1.4c-1,2,0,4.5,2.3,5.7c2.3,1.2,5,0.5,6-1.4C649,99.6,648,97,645.7,95.8z M686.5,81
      c0-25.1-20.4-45.5-45.5-45.5c-16.1,0-30.2,8.4-38.3,21c7.9-5.9,17.7-9.5,28.3-9.5c26,0,47,21,47,47c0,6.3-1.3,12.3-3.5,17.8
      C681.9,103.6,686.5,92.8,686.5,81z`,1,"st0"],["id","number_4"],["id","number_4_outline","d",`M379.5,235.5c0-4.9-3.9-9.1-8.7-9.1h-11.4v-72.5c0-9.1-8.5-15.7-17.6-15
      c-6,0-11.8,3.1-15.1,8l-52.7,79.8c-1.2,2.1-2.1,4.5-2.1,6.6c0,6.6,5,11.1,10.3,11.1H339v24.3c0,5.6,4.3,10.1,9.9,10.1
      c6,0,10.5-4.5,10.5-10.1v-24.3h11.4C375.6,244.3,379.5,240.4,379.5,235.5z M339,226.4h-45.5l45.5-67.8V226.4z`,1,"st13"],["id","number_4_inner_lines","d",`M349,158v109.2 M345.9,147c-5.6,0-10.9,2.8-14,7.2l-47.1,69.5
      c-1.2,1.9-3.3,4.3-3.6,5.8c-0.8,4.6,2.3,5.5,7.3,5.5H340 M359.5,235H379 M342,232l-4,7 M345,232l-4,7 M358,232l-4,7 M361,232l-4,7`,1,"st14"],["id","number_4_dots","d",`M349,266c1.6,0,2.9,1.3,2.9,2.9c0,1.6-1.3,2.9-2.9,2.9c-1.6,0-2.9-1.3-2.9-2.9
      C346.1,267.3,347.4,266,349,266z M349,155.1c1.6,0,2.9,1.3,2.9,2.9s-1.3,2.9-2.9,2.9c-1.6,0-2.9-1.3-2.9-2.9S347.4,155.1,349,155.1
      z M344.4,144.6c1.6,0,2.9,1.3,2.9,2.9c0,1.6-1.3,2.9-2.9,2.9c-1.6,0-2.9-1.3-2.9-2.9C341.4,145.9,342.7,144.6,344.4,144.6z`,1,"st9"],["id","number_4_2"],["id","number_4_outline_2","d",`M627,235.5c0-4.9-3.9-9.1-8.7-9.1h-11.4v-72.5c0-9.1-8.5-15.7-17.6-15
      c-6,0-11.8,3.1-15.1,8l-52.7,79.8c-1.2,2.1-2.1,4.5-2.1,6.6c0,6.6,5,11.1,10.3,11.1h56.7v24.3c0,5.6,4.3,10.1,9.9,10.1
      c6,0,10.5-4.5,10.5-10.1v-24.3h11.4C623.1,244.3,627,240.4,627,235.5z M586.5,226.4H541l45.5-67.8V226.4z`,1,"st13"],["id","number_4_inner_lines_2","d",`M596.5,158v109.2 M593.3,147c-5.6,0-10.9,2.8-14,7.2l-47.1,69.5
      c-1.2,1.9-3.3,4.3-3.6,5.8c-0.8,4.6,2.3,5.5,7.3,5.5h51.5 M607,235h19.5 M589.5,232l-4,7 M592.5,232l-4,7 M605.5,232l-4,7
       M608.5,232l-4,7`,1,"st14"],["id","number_4_dots_2","d",`M596.5,266c1.6,0,2.9,1.3,2.9,2.9c0,1.6-1.3,2.9-2.9,2.9c-1.6,0-2.9-1.3-2.9-2.9
      C593.6,267.3,594.9,266,596.5,266z M596.5,155.1c1.6,0,2.9,1.3,2.9,2.9s-1.3,2.9-2.9,2.9c-1.6,0-2.9-1.3-2.9-2.9
      S594.9,155.1,596.5,155.1z M591.8,144.6c1.6,0,2.9,1.3,2.9,2.9c0,1.6-1.3,2.9-2.9,2.9c-1.6,0-2.9-1.3-2.9-2.9
      C588.9,145.9,590.2,144.6,591.8,144.6z`,1,"st9"],["id","number_0"],["id","number_0_outline","d",`M502,208.9c0-34-15.9-70.9-54-70.9c-38.3,0-54,36.9-54,70.9s15.7,71.1,54,71.1
      C486.1,280,502,242.9,502,208.9z M481.1,208.9c0,26.8-8.7,53-33.1,53c-24.6,0-33.1-26.2-33.1-53c0-26.8,8.5-52.8,33.1-52.8
      C472.4,156.1,481.1,182.1,481.1,208.9z`,1,"st13"],["id","number_0_inner_lines","d",`M487.2,175.7c-6.7-16.8-19.3-29.4-39.2-29.4c-32,0-45.1,32.5-45.1,62.4
      s13.1,62.6,45.1,62.6c31.8,0,44.1-32.6,44.1-62.6 M487.5,172c3,0,5.5,2.5,5.5,5.5c0,3-2.5,5.5-5.5,5.5c-3,0-5.5-2.5-5.5-5.5
      C482,174.5,484.5,172,487.5,172z M492.5,202c3,0,5.5,2.5,5.5,5.5c0,3-2.5,5.5-5.5,5.5c-3,0-5.5-2.5-5.5-5.5
      C487,204.5,489.5,202,492.5,202z`,1,"st15"],["id","number_0_dots","d",`M492.5,205c1.4,0,2.5,1.1,2.5,2.5c0,1.4-1.1,2.5-2.5,2.5c-1.4,0-2.5-1.1-2.5-2.5
      C490,206.1,491.1,205,492.5,205z M487.5,175c1.4,0,2.5,1.1,2.5,2.5c0,1.4-1.1,2.5-2.5,2.5c-1.4,0-2.5-1.1-2.5-2.5
      C485,176.1,486.1,175,487.5,175z M448.1,143.4c1.6,0,2.9,1.3,2.9,2.9c0,1.6-1.3,2.9-2.9,2.9c-1.6,0-2.9-1.3-2.9-2.9
      C445.1,144.7,446.4,143.4,448.1,143.4z M448.1,268.3c1.6,0,2.9,1.3,2.9,2.9c0,1.6-1.3,2.9-2.9,2.9c-1.6,0-2.9-1.3-2.9-2.9
      C445.1,269.6,446.4,268.3,448.1,268.3z`,1,"st9"],["id","sword"],["id","sword_handle","d",`M444.6,196.6l0.6-0.8c1.5-2,1.8-4.3,3.8-2.8l8.9,6.8c2,1.5,2.4,4.3,0.9,6.3l-0.6,0.8
      c-1.5,2-4.3,2.4-6.3,0.9L443,201C441,199.5,443.1,198.5,444.6,196.6z`,1,"st4"],["id","sword_handle_line","d","M453.9,197c2,1.5,2.4,4.3,0.9,6.3l-0.6,0.8c-1.5,2-4.3,2.4-6.3,0.9",1,"st14"],["id","sword_hilt","d",`M432.5,197.1l10.6-13.9c1.6-2.2,4.7-2.6,6.9-0.9c2.2,1.6,2.6,4.7,0.9,6.9l-10.6,13.9
      c-1.6,2.2-4.7,2.6-6.9,0.9C431.2,202.4,430.8,199.3,432.5,197.1z`,1,"st4"],["id","sword_blade","points","437,199 446,187.3 387.3,138.9 366.3,136.7 372.2,154 	",1,"st13"],["id","sword_blade_shadow","points","436.7,197 440.3,192.3 369,138.5 368.5,138.4 373.5,153 	",1,"st0"]],template:function(o,t){o&1&&(p(0,"app-sidebar"),i(1,"section",0),E(),i(2,"svg",1),p(3,"style",2)(4,"path",3),i(5,"g",4),p(6,"path",5)(7,"path",6)(8,"path",7)(9,"path",8),n(),p(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12),i(14,"g",13),p(15,"path",14)(16,"path",15)(17,"path",16)(18,"path",17)(19,"path",18)(20,"path",19)(21,"path",20)(22,"path",21)(23,"path",22)(24,"path",23)(25,"path",24)(26,"path",25),i(27,"g",26),p(28,"path",27),i(29,"g",28),p(30,"path",29)(31,"path",30),n()()(),i(32,"g",31),p(33,"path",32)(34,"path",33)(35,"path",34)(36,"path",35)(37,"path",36)(38,"path",37)(39,"path",38)(40,"path",39)(41,"path",40)(42,"path",41),n(),i(43,"g",42),p(44,"path",43)(45,"path",44)(46,"path",45)(47,"path",46),n(),i(48,"g",47),p(49,"path",48)(50,"path",49),n(),i(51,"g",50),p(52,"path",51)(53,"path",52)(54,"path",53),n(),i(55,"g",54),p(56,"path",55)(57,"path",56)(58,"path",57),n(),i(59,"g",58),p(60,"path",59)(61,"path",60)(62,"path",61),n(),i(63,"g",62),p(64,"path",63)(65,"path",64)(66,"path",65)(67,"polygon",66)(68,"polygon",67),n()()())},dependencies:[te],styles:["#monkey_404[_ngcontent-%COMP%]{width:100%;height:100dvh;position:absolute;top:50%}#monkey_404[_ngcontent-%COMP%]   .st0[_ngcontent-%COMP%]{fill:#e8ebed}#monkey_404[_ngcontent-%COMP%]   .st1[_ngcontent-%COMP%]{fill:#fff}#monkey_404[_ngcontent-%COMP%]   .st2[_ngcontent-%COMP%]{fill:none;stroke:#4d45e59d;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}#monkey_404[_ngcontent-%COMP%]   .st3[_ngcontent-%COMP%]{fill:#e8ebed;stroke:#4d45e551;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}#monkey_404[_ngcontent-%COMP%]   .st4[_ngcontent-%COMP%]{fill:#fff;stroke:#4d45e59d;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}#monkey_404[_ngcontent-%COMP%]   .st5[_ngcontent-%COMP%]{fill:none;stroke:#4d45e59d;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}#monkey_404[_ngcontent-%COMP%]   .st6[_ngcontent-%COMP%]{fill:none;stroke:#4d45e59d;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}#monkey_404[_ngcontent-%COMP%]   .st7[_ngcontent-%COMP%]{fill:#fff;stroke:#4d45e59d;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}#monkey_404[_ngcontent-%COMP%]   .st8[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   .st9[_ngcontent-%COMP%]{fill:#4d45e553}#monkey_404[_ngcontent-%COMP%]   .st10[_ngcontent-%COMP%]{fill:none;stroke:#4d45e553;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}#monkey_404[_ngcontent-%COMP%]   .st11[_ngcontent-%COMP%]{fill:#fff}#monkey_404[_ngcontent-%COMP%]   .st12[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   .st13[_ngcontent-%COMP%]{fill:#fff;stroke:#4d45e59d;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}#monkey_404[_ngcontent-%COMP%]   .st14[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   .st15[_ngcontent-%COMP%]{fill:none;stroke:#4d45e59d;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}#monkey_404[_ngcontent-%COMP%]   #arm[_ngcontent-%COMP%]{transform-origin:155px 292px;transform:rotate(-2deg)}#monkey_404[_ngcontent-%COMP%]   #monkey[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_monkey-breathe 3s infinite ease-in-out}#monkey_404[_ngcontent-%COMP%]   #zelda[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   #tetris[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   #moon[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   #star_a[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   #star_b[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   #star_c[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   #star_d[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   #number_4[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   #number_4_2[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   #number_0[_ngcontent-%COMP%], #monkey_404[_ngcontent-%COMP%]   #sword[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_levitate 3s infinite ease-in-out}#monkey_404[_ngcontent-%COMP%]   #zelda[_ngcontent-%COMP%]{animation-delay:0s;animation-duration:3s}#monkey_404[_ngcontent-%COMP%]   #tetris[_ngcontent-%COMP%]{animation-delay:1s;animation-duration:3s}#monkey_404[_ngcontent-%COMP%]   #moon[_ngcontent-%COMP%]{animation-delay:.5s;animation-duration:3s}#monkey_404[_ngcontent-%COMP%]   #star_a[_ngcontent-%COMP%]{animation-delay:0s;animation-duration:3s}#monkey_404[_ngcontent-%COMP%]   #star_b[_ngcontent-%COMP%]{animation-delay:.5s;animation-duration:3s}#monkey_404[_ngcontent-%COMP%]   #star_c[_ngcontent-%COMP%]{animation-delay:1s;animation-duration:3s}#monkey_404[_ngcontent-%COMP%]   #star_d[_ngcontent-%COMP%]{animation-delay:1.5s;animation-duration:3s}#monkey_404[_ngcontent-%COMP%]   #number_4[_ngcontent-%COMP%]{animation-delay:0s;animation-duration:3s}#monkey_404[_ngcontent-%COMP%]   #number_4_2[_ngcontent-%COMP%]{animation-delay:1s;animation-duration:3s}#monkey_404[_ngcontent-%COMP%]   #number_0[_ngcontent-%COMP%]{animation-delay:.5s;animation-duration:3s}#monkey_404[_ngcontent-%COMP%]   #sword[_ngcontent-%COMP%]{animation-delay:1.5s;animation-duration:3s}#monkey_404[_ngcontent-%COMP%]   #eye_left[_ngcontent-%COMP%]{transform-origin:191px 257px;animation:_ngcontent-%COMP%_blink-l 12s infinite ease-in-out}#monkey_404[_ngcontent-%COMP%]   #eye_right[_ngcontent-%COMP%]{transform-origin:205px 256px;animation:_ngcontent-%COMP%_blink-r 12s infinite ease-in-out}@keyframes _ngcontent-%COMP%_arm-rotate{0%{transform:rotate(-3deg)}50%{transform:rotate(6deg)}}@keyframes _ngcontent-%COMP%_monkey-breathe{0%{transform:translateZ(0)}50%{transform:translate3d(0,1px,0)}}@keyframes _ngcontent-%COMP%_levitate{0%{transform:translateZ(0)}50%{transform:translate3d(0,5px,0)}}@keyframes _ngcontent-%COMP%_star{0%{transform:translateZ(0) rotate(0)}50%{transform:translate3d(0,5px,0) rotate(180deg)}}@keyframes _ngcontent-%COMP%_blink-l{0%{transform:rotateX(0)}2%{transform:rotateX(80deg)}4%,20%{transform:rotateX(0)}22%{transform:rotateX(80deg)}24%,30%{transform:rotateX(0)}32%{transform:rotateX(80deg)}34%,70%{transform:rotateX(0)}72%{transform:rotateX(80deg)}74%,to{transform:rotateX(0)}}@keyframes _ngcontent-%COMP%_blink-r{0%{transform:rotateX(0)}2%{transform:rotateX(80deg)}4%,30%{transform:rotateX(0)}32%{transform:rotateX(80deg)}34%,50%{transform:rotateX(0)}52%{transform:rotateX(80deg)}54%,to{transform:rotateX(0)}}"]})}return a})();var Gt=(()=>{class a{http;messageUrl=`${ee.auth.baseUrl}/push`;pollUrl=`${ee.auth.baseUrl}/push/poll`;pollResultsUrl=`${ee.auth.baseUrl}/push/poll-results`;constructor(e){this.http=e}sendPush(e){let o=this.messageUrl;return e.categoryIds&&e.categoryIds.length>0&&(o+=`?categoryId=${e.categoryIds[0]}`),this.http.post(o,e)}sendPoll(e){let o=this.pollUrl;return e.categoryIds&&e.categoryIds.length>0&&(o+=`?categoryId=${e.categoryIds[0]}`),this.http.post(o,e)}getPollResults(e){return this.http.get(`${this.pollResultsUrl}/${e}`)}getAllResults(){return this.http.get(`${this.pollResultsUrl}`)}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var et=a=>({"bg-gradient-to-r from-indigo-500 to-blue-500 text-white":a}),k0=(a,m)=>({hover:a,"font-bold":m});function B0(a,m){a&1&&(i(0,"span",92),E(),i(1,"svg",93),p(2,"path",94),n()())}function I0(a,m){a&1&&(i(0,"span",95),E(),i(1,"svg",93)(2,"g",96)(3,"path",97),p(4,"animate",98),n(),i(5,"path",99),p(6,"animate",100),n()()()())}function D0(a,m){if(a&1){let e=S();i(0,"li",88)(1,"a",89),b("click",function(t){let s=g(e).index;return u(3).copyTagContent(s),_(t.stopPropagation())}),i(2,"span"),r(3),n(),h(4,B0,3,0,"span",90)(5,I0,7,0,"span",91),n()()}if(a&2){let e=m.$implicit,o=m.index,t=u(3);l(3),C(e.tag+(e.tag!=="[Name]"?e.content+e.tag.replace("[","[/"):"")+" \u2014 "+e.description),l(),d("ngIf",!t.copiedStates[o]),l(),d("ngIf",t.copiedStates[o])}}function F0(a,m){a&1&&(i(0,"span",101),r(1," \u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0434\u043E\u043C\u0435\u043D, \u0432\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u044B\u043C \u0434\u043E\u043C\u0435\u043D\u043E\u043C"),p(2,"br"),r(3,"https://1xjet.jp/tgadmin/image/example.png \u0438\u043B\u0438 https://1xjet.netlify.app/example.png "),n())}function V0(a,m){a&1&&(i(0,"div",102)(1,"label",30),r(2," \u2757\uFE0F\u041E\u0411\u042F\u0417\u0410\u0422\u0415\u041B\u042C\u041D\u041E \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044C \u0432 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0441\u0442\u0438 \u0422G \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F / \u043A\u043D\u043E\u043F\u043A\u0438\u2757\uFE0F "),n()())}function P0(a,m){if(a&1){let e=S();i(0,"div",65)(1,"h3",66),r(2," \u{1F447} \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C TG \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0435 \u{1F60E} \u{1F447} "),i(3,"div",67)(4,"div",68)(5,"div",69)(6,"div",70),E(),i(7,"svg",71),p(8,"path",72),n()(),M(),i(9,"ul",73),h(10,D0,6,3,"li",74),n()()()()(),i(11,"div",75)(12,"label",76),r(13," URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F (\u043D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E): "),h(14,F0,4,0,"span",77),n(),i(15,"input",78),v("ngModelChange",function(t){g(e);let s=u(2);return x(s.imageUrl,t)||(s.imageUrl=t),_(t)}),b("ngModelChange",function(){g(e);let t=u(2);return t.saveFormData(),_(t.checkFormValidity())})("blur",function(){g(e);let t=u(2);return _(t.refreshImage())}),n()(),i(16,"div",79)(17,"label",76),r(18,"\u0422\u0435\u043A\u0441\u0442 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F (\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E):"),n(),i(19,"textarea",80),v("ngModelChange",function(t){g(e);let s=u(2);return x(s.pushText,t)||(s.pushText=t),_(t)}),b("ngModelChange",function(){g(e);let t=u(2);return t.saveFormData(),_(t.checkFormValidity())}),n()(),i(20,"h3",81),r(21," \u041A\u043D\u043E\u043F\u043A\u0430 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F (\u043D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E): "),n(),i(22,"div",82)(23,"div",83)(24,"label",84),r(25,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043D\u043E\u043F\u043A\u0438:"),n(),i(26,"input",85),v("ngModelChange",function(t){g(e);let s=u(2);return x(s.buttonName,t)||(s.buttonName=t),_(t)}),b("ngModelChange",function(){g(e);let t=u(2);return t.saveFormData(),_(t.checkFormValidity())}),n()(),i(27,"div",83)(28,"label",84),r(29,"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0440\u0435\u0441\u0443\u0440\u0441:"),n(),i(30,"input",86),v("ngModelChange",function(t){g(e);let s=u(2);return x(s.buttonUrl,t)||(s.buttonUrl=t),_(t)}),b("ngModelChange",function(){g(e);let t=u(2);return t.saveFormData(),_(t.checkFormValidity())}),n()()(),h(31,V0,3,0,"div",87),n()}if(a&2){let e=u(2);l(10),d("ngForOf",e.formatTags),l(4),d("ngIf",e.imageUrl&&!e.urlValidationService.isValidImageUrl(e.imageUrl)),l(),f("ngModel",e.imageUrl),l(4),f("ngModel",e.pushText),d("disabled",e.isSending),l(7),f("ngModel",e.buttonName),l(4),f("ngModel",e.buttonUrl),l(),d("ngIf",e.emptyMessage)}}function A0(a,m){a&1&&(i(0,"span",92),E(),i(1,"svg",93),p(2,"path",94),n()())}function W0(a,m){a&1&&(i(0,"span",95),E(),i(1,"svg",93)(2,"g",96)(3,"path",97),p(4,"animate",98),n(),i(5,"path",99),p(6,"animate",100),n()()()())}function L0(a,m){if(a&1){let e=S();i(0,"li",88)(1,"a",89),b("click",function(t){let s=g(e).index;return u(3).copyTagContent(s),_(t.stopPropagation())}),i(2,"span"),r(3),n(),h(4,A0,3,0,"span",90)(5,W0,7,0,"span",91),n()()}if(a&2){let e=m.$implicit,o=m.index,t=u(3);l(3),C(e.tag+(e.tag!=="[Name]"?e.content+e.tag.replace("[","[/"):"")+" \u2014 "+e.description),l(),d("ngIf",!t.copiedStates[o]),l(),d("ngIf",t.copiedStates[o])}}function U0(a,m){if(a&1){let e=S();i(0,"div",114)(1,"input",115),v("ngModelChange",function(t){let s=g(e).index,c=u(3);return x(c.pollPayload.options[s],t)||(c.pollPayload.options[s]=t),_(t)}),b("ngModelChange",function(){g(e);let t=u(3);return _(t.checkPollValidity())}),n()()}if(a&2){let e=m.index,o=u(3);l(),Ge("placeholder","\u0412\u0430\u0440\u0438\u0430\u043D\u0442 ",e+1,""),d("id","option-"+e)("name","option-"+e),f("ngModel",o.pollPayload.options[e])}}function N0(a,m){if(a&1){let e=S();i(0,"button",116),b("click",function(){g(e);let t=u(3);return _(t.addPollOption())}),E(),i(1,"svg",117),p(2,"path",118),n(),r(3," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432\u0430\u0440\u0438\u0430\u043D\u0442 "),n()}}function O0(a,m){if(a&1){let e=S();i(0,"label",119)(1,"input",120),v("ngModelChange",function(t){g(e);let s=u(3);return x(s.pollPayload.isAnonymous,t)||(s.pollPayload.isAnonymous=t),_(t)}),n(),r(2," \u0410\u043D\u043E\u043D\u0438\u043C\u043D\u043E\u0435 \u0433\u043E\u043B\u043E\u0441\u043E\u0432\u0430\u043D\u0438\u0435 "),n()}if(a&2){let e=u(3);l(),f("ngModel",e.pollPayload.isAnonymous)}}function z0(a,m){if(a&1){let e=S();i(0,"label",119)(1,"input",121),v("ngModelChange",function(t){g(e);let s=u(3);return x(s.pollPayload.allowsMultipleAnswers,t)||(s.pollPayload.allowsMultipleAnswers=t),_(t)}),n(),r(2," \u041C\u043D\u043E\u0436\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439 \u0432\u044B\u0431\u043E\u0440 "),n()}if(a&2){let e=u(3);l(),f("ngModel",e.pollPayload.allowsMultipleAnswers)}}function j0(a,m){a&1&&(i(0,"option",127),r(1," \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442 "),n())}function R0(a,m){if(a&1&&(i(0,"option",128),r(1),n()),a&2){let e=m.$implicit,o=m.index;d("value",o)("disabled",!e.trim()),l(),w(" ",e.trim()?e:"\u041F\u0443\u0441\u0442\u043E\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442"," ")}}function H0(a,m){if(a&1){let e=S();i(0,"div",122)(1,"label",123),r(2," \u041F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442: "),n(),i(3,"select",124),v("ngModelChange",function(t){g(e);let s=u(3);return x(s.pollPayload.correctOptionId,t)||(s.pollPayload.correctOptionId=t),_(t)}),b("ngModelChange",function(){g(e);let t=u(3);return _(t.checkPollValidity())}),h(4,j0,2,0,"option",125)(5,R0,2,3,"option",126),n()()}if(a&2){let e=u(3);l(3),f("ngModel",e.pollPayload.correctOptionId),l(),d("ngIf",!e.pollPayload.options),l(),d("ngForOf",e.pollPayload.options)("ngForTrackBy",e.trackByOption)}}function $0(a,m){if(a&1){let e=S();i(0,"div",103)(1,"h3",66),r(2," \u{1F447} \u0421\u043E\u0437\u0434\u0430\u0439\u0442\u0435 \u043E\u043F\u0440\u043E\u0441 \u{1F4CA} \u{1F447} "),i(3,"div",67)(4,"div",68)(5,"div",69)(6,"div",70),E(),i(7,"svg",71),p(8,"path",72),n()(),M(),i(9,"ul",73),h(10,L0,6,3,"li",74),n()()()()(),i(11,"div",79)(12,"label",76),r(13,"\u0412\u043E\u043F\u0440\u043E\u0441:"),n(),i(14,"textarea",104),v("ngModelChange",function(t){g(e);let s=u(2);return x(s.pollPayload.question,t)||(s.pollPayload.question=t),_(t)}),b("ngModelChange",function(){g(e);let t=u(2);return _(t.checkPollValidity())}),n()(),i(15,"div",105)(16,"label",76),r(17,"\u0412\u0430\u0440\u0438\u0430\u043D\u0442\u044B \u043E\u0442\u0432\u0435\u0442\u0430 (\u0434\u043E 10):"),n(),h(18,U0,2,5,"div",106)(19,N0,4,0,"button",107),n(),i(20,"div",105)(21,"label",76),r(22,"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043E\u043F\u0440\u043E\u0441\u0430:"),n(),i(23,"div",108)(24,"div",109),b("click",function(){g(e);let t=u(2);return _(t.setPollMode("regular"))}),i(25,"p",110),r(26,"\u041E\u0431\u044B\u0447\u043D\u044B\u0439 \u043E\u043F\u0440\u043E\u0441"),n()(),i(27,"div",111),b("click",function(){g(e);let t=u(2);return _(t.setPollMode("quiz"))}),i(28,"p",110),r(29,"\u0412\u0438\u043A\u0442\u043E\u0440\u0438\u043D\u0430"),n()()(),h(30,O0,3,1,"label",112)(31,z0,3,1,"label",112)(32,H0,6,4,"div",113),n()()}if(a&2){let e=u(2);l(10),d("ngForOf",e.formatTags),l(4),f("ngModel",e.pollPayload.question),l(4),d("ngForOf",e.pollPayload.options)("ngForTrackBy",e.trackByOption),l(),d("ngIf",e.pollPayload.options.length<10),l(5),d("ngClass",Y(10,et,e.pollMode==="regular")),l(3),d("ngClass",Y(12,et,e.pollMode==="quiz")),l(3),d("ngIf",e.pollMode==="regular"),l(),d("ngIf",e.pollMode==="regular"),l(),d("ngIf",e.pollMode==="quiz")}}function G0(a,m){if(a&1&&(me(0),h(1,P0,32,8,"div",63)(2,$0,33,14,"div",64),pe()),a&2){let e=u();l(),d("ngIf",e.contentMode==="message"),l(),d("ngIf",e.contentMode==="poll")}}function q0(a,m){if(a&1){let e=S();i(0,"div",34)(1,"label",35)(2,"span",129),r(3),n(),i(4,"input",130),b("change",function(t){g(e);let s=u();return _(s.onCategoryChange(t))}),n()()()}if(a&2){let e=m.$implicit,o=u();l(3),C(e.name),l(),d("value",e.id)("checked",o.selectedCategoryIds.includes(e.id))}}function Y0(a,m){if(a&1&&(i(0,"li",143)(1,"strong"),r(2),n()()),a&2){let e=m.$implicit;l(2),C(e)}}function X0(a,m){if(a&1){let e=S();i(0,"tr",137),b("click",function(){let t=g(e).$implicit,s=u(2);return _(s.showPollDetails(t))}),i(1,"th",134),r(2),n(),i(3,"td",138)(4,"strong"),r(5),n()(),i(6,"td",134)(7,"ul",139),h(8,Y0,3,1,"li",140),n()(),i(9,"td",134),r(10),n(),i(11,"td",134),r(12),n(),i(13,"th",134)(14,"div",88),r(15," \u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C "),E(),i(16,"svg",141),p(17,"path",142),n()()()()}if(a&2){let e=m.$implicit,o=m.index;l(2),C(o+1),l(3),C(e.question),l(3),d("ngForOf",e.options),l(2),w(" ",e.results.length?e.results[0].count:"\u0410\u043D\u043E\u043D\u0438\u043C\u043D\u043E"," "),l(2),C(e.createdAt)}}function J0(a,m){if(a&1&&(i(0,"div",131)(1,"table",132)(2,"thead")(3,"tr",133)(4,"th",134),r(5,"#"),n(),i(6,"th",135),r(7,"\u0412\u043E\u043F\u0440\u043E\u0441"),n(),i(8,"th",135),r(9,"\u0412\u0430\u0440\u0438\u0430\u043D\u0442\u044B"),n(),i(10,"th",135),r(11,"\u041A\u043E\u043B-\u0432\u043E \u0433\u043E\u043B\u043E\u0441\u043E\u0432"),n(),i(12,"th",135),r(13,"\u0414\u0430\u0442\u0430"),n(),i(14,"th",134),r(15,"\u041F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C"),n()()(),i(16,"tbody"),h(17,X0,18,5,"tr",136),n()()()),a&2){let e=u();l(17),d("ngForOf",e.getPollResults())}}function Z0(a,m){if(a&1&&(i(0,"p",143),r(1),n()),a&2){let e=m.$implicit,o=m.index;l(),Fe(" ",o+1,") ",e," ")}}function K0(a,m){a&1&&(E(),i(0,"svg",156),p(1,"path",157),n())}function Q0(a,m){if(a&1&&(i(0,"tr",153)(1,"th",134),r(2),n(),i(3,"td",134),r(4),n(),i(5,"td",134),h(6,Z0,2,2,"p",140),n(),i(7,"td",134)(8,"div",154),h(9,K0,2,0,"svg",155),r(10),n()(),i(11,"td",134),r(12),n()()),a&2){let e=m.$implicit,o=m.index,t=u(2);l(2),C(o+1),l(2),w(" ",e.userIds.length>0?e.userIds.join(", "):"\u0410\u043D\u043E\u043D\u0438\u043C\u043D\u043E"," "),l(2),d("ngForOf",t.selectedPoll.options),l(3),d("ngIf",e.userIds.length>0),l(),w(" ",e.optionText," "),l(2),C(e.timestamp)}}function ea(a,m){if(a&1){let e=S();i(0,"div",144)(1,"button",145),b("click",function(){g(e);let t=u();return _(t.goBackToAllPolls())}),E(),i(2,"svg",141),p(3,"path",146),n()(),M(),i(4,"div",147)(5,"h3",148),r(6),n(),i(7,"p",149),r(8),n()(),i(9,"div",131)(10,"table",150)(11,"thead")(12,"tr",151),p(13,"th",134),i(14,"td",135),r(15,"ID"),n(),i(16,"td",135),r(17,"\u0412\u0430\u0440\u0438\u0430\u043D\u0442\u044B"),n(),i(18,"td",135),r(19,"\u041E\u0442\u0432\u0435\u0442\u044B"),n(),i(20,"td",135),r(21,"\u0414\u0430\u0442\u0430"),n()()(),i(22,"tbody"),h(23,Q0,13,6,"tr",152),n(),i(24,"tfoot")(25,"tr",151),p(26,"th",134),i(27,"td",135),r(28,"ID"),n(),i(29,"td",135),r(30,"\u0412\u0430\u0440\u0438\u0430\u043D\u0442\u044B"),n(),i(31,"td",135),r(32,"\u041E\u0442\u0432\u0435\u0442\u044B"),n(),i(33,"td",135),r(34,"\u0414\u0430\u0442\u0430"),n()()()()()()}if(a&2){let e=u();l(6),w(" ",e.selectedPoll.question," "),l(2),w(" ID \u043E\u043F\u0440\u043E\u0441\u0430: ",e.selectedPoll.pollId," "),l(15),d("ngForOf",e.selectedPoll.results)}}function ta(a,m){a&1&&p(0,"p",158)}function ia(a,m){if(a&1&&(i(0,"th"),r(1),n()),a&2){let e=u().index;l(),w(" ",e+1," ")}}function na(a,m){a&1&&p(0,"th")}function aa(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u().$implicit;l(),C(e.message)}}function oa(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u().$implicit;l(),C(e.message)}}function ra(a,m){if(a&1&&(i(0,"span",162),r(1),n()),a&2){let e=u().$implicit;d("ngClass",e.success?"text-green-600":"text-red-600"),l(),w(" ",e.success?"\u0423\u0441\u043F\u0435\u0448\u043D\u043E":"\u041E\u0448\u0438\u0431\u043A\u0430"," ")}}function la(a,m){if(a&1&&(i(0,"tr",162),h(1,ia,2,1,"th",27)(2,na,1,0,"th",27),i(3,"td"),r(4),n(),i(5,"td"),r(6),n(),i(7,"td"),h(8,aa,2,1,"span",27)(9,oa,2,1,"span",27),n(),i(10,"td"),h(11,ra,2,2,"span",163),n()()),a&2){let e=m.$implicit,o=m.index,t=u(2);d("ngClass",Ce(8,k0,o%2===1,!e.userId||e.userId===0)),l(),d("ngIf",e.userId&&e.userId!==0),l(),d("ngIf",!e.userId||e.userId===0),l(2),w(" ",e.userId&&e.userId!==0?e.userId:t.currentDate," "),l(2),C(e.Username||"N/A"),l(2),d("ngIf",e.userId&&e.userId!==0),l(),d("ngIf",!e.userId||e.userId===0),l(2),d("ngIf",e.userId&&e.userId!==0)}}function sa(a,m){if(a&1){let e=S();i(0,"div",131)(1,"table",159)(2,"thead")(3,"tr")(4,"th"),r(5,"#"),n(),i(6,"th"),r(7,"User ID"),n(),i(8,"th"),r(9,"Username"),n(),i(10,"th"),r(11,"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435"),n(),i(12,"th"),r(13,"\u0421\u0442\u0430\u0442\u0443\u0441"),n()()(),i(14,"tbody"),h(15,la,12,11,"tr",160),n()(),i(16,"button",161),b("click",function(){g(e);let t=u();return _(t.clearStatuses())}),r(17," \u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0441\u0442\u0430\u0442\u0443\u0441\u044B "),n()()}if(a&2){let e=u();l(15),d("ngForOf",e.filteredPushStatuses)}}function ua(a,m){a&1&&(i(0,"p",164),r(1,"\u0421\u0442\u0430\u0442\u0443\u0441\u044B \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442"),n())}function da(a,m){if(a&1){let e=S();i(0,"div",165)(1,"div",166)(2,"span",167),E(),i(3,"svg",168),b("click",function(){g(e);let t=u();return _(t.cancelMessage())}),i(4,"g",169)(5,"path",170),p(6,"animate",171),n(),i(7,"path",172),p(8,"animate",173),n()()()(),r(9),n()()}if(a&2){let e=u();l(9),w(" ",e.resultMessage," ")}}var qt=(()=>{class a{pushService;newsCategoryService;urlValidationService;http;cdr;contentMode="message";pollMode="regular";imageUrl="";pushText="";buttonName="";buttonUrl="";pollPayload={question:"",options:[""],isAnonymous:!0,allowsMultipleAnswers:!1,isQuiz:!1,correctOptionId:0};sendToAll=!1;isSending=!1;resultMessage="";successMessage=null;errorMessage=null;pollResultsError=null;emptyMessage=!0;categories=[];selectedCategoryIds=[];pushStatuses=[];pollResults=[];selectedPoll=null;viewMode="all";eventSource=null;copiedStates=[];baseUrl=B.auth.baseUrl;formatTags=[{tag:"[Name]",content:"[Name]",description:"\u0412\u0441\u0442\u0430\u0432\u043A\u0430 \u0422\u0433 \u041D\u0438\u043A"},{tag:"[u]",content:"\u0442\u0435\u043A\u0441\u0442",description:"\u041F\u043E\u0434\u0447\u0451\u0440\u043A\u043D\u0443\u0442\u044B\u0439 \u0442\u0435\u043A\u0441\u0442"},{tag:"[s]",content:"\u0442\u0435\u043A\u0441\u0442",description:"\u0417\u0430\u0447\u0451\u0440\u043A\u043D\u0443\u0442\u044B\u0439 \u0442\u0435\u043A\u0441\u0442"},{tag:"[sp]",content:"\u0442\u0435\u043A\u0441\u0442",description:"\u0421\u043F\u043E\u0439\u043B\u0435\u0440"},{tag:"[code]",content:"\u0442\u0435\u043A\u0441\u0442",description:"\u041C\u043E\u043D\u043E\u0448\u0438\u0440\u0438\u043D\u043D\u044B\u0439 \u0442\u0435\u043A\u0441\u0442"},{tag:"[pre]",content:"\u0442\u0435\u043A\u0441\u0442",description:"\u0411\u043B\u043E\u043A \u043A\u043E\u0434\u0430"},{tag:"[quote]",content:"\u0442\u0435\u043A\u0441\u0442",description:"\u0426\u0438\u0442\u0430\u0442\u0430"},{tag:"[spoiler]",content:"\u0442\u0435\u043A\u0441\u0442",description:"\u0421\u043A\u0440\u044B\u0442\u044B\u0439 \u0442\u0435\u043A\u0441\u0442"}];get currentDate(){return new Date().toISOString().slice(0,10)}get filteredPushStatuses(){let e=[],o=[],t=new Map;this.pushStatuses.filter(c=>!c.pollId).forEach(c=>{let y=c.userId&&c.userId!==0?c.userId.toString():null;t.set(y,c)});let s=new Set;for(let c of this.pushStatuses){if(c.pollId)continue;let y=c.userId&&c.userId!==0?c.userId.toString():null;if(!s.has(y)){let F=t.get(y);F&&(y===null||F.userId===0?o.push(F):e.push(F)),s.add(y)}}return[...e,...o]}getPollResults(){return this.pollResults}getOptionCount(e,o){let t=e.results.find(s=>s.optionId===o);return t?t.count:0}constructor(e,o,t,s,c){this.pushService=e,this.newsCategoryService=o,this.urlValidationService=t,this.http=s,this.cdr=c}ngOnInit(){let e=sessionStorage.getItem("pushStatuses");e&&(this.pushStatuses=JSON.parse(e));let o=localStorage.getItem("pushFormData");if(o){let t=JSON.parse(o);this.imageUrl=t.imageUrl||"",this.pushText=t.pushText||"",this.buttonName=t.buttonName||"",this.buttonUrl=t.buttonUrl||"",this.selectedCategoryIds=t.selectedCategoryIds||[],this.pollPayload=t.pollPayload||{question:"",options:[""],isAnonymous:!0,allowsMultipleAnswers:!1,isQuiz:!1,correctOptionId:0},this.contentMode=t.contentMode||"message",this.pollMode=t.pollMode||"regular"}this.copiedStates=new Array(this.formatTags.length).fill(!1),this.newsCategoryService.getCategories().subscribe({next:t=>{this.categories=t,console.log("\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u044B \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438:",this.categories)},error:t=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0439:",t)}}),this.setupEventSource(),this.loadAllPollResults()}ngOnDestroy(){this.eventSource&&this.eventSource.close()}setupEventSource(){this.eventSource=new EventSource(`${this.baseUrl}/push/status`),this.eventSource.onmessage=e=>{let o=JSON.parse(e.data);console.log("\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u044B \u0434\u0430\u043D\u043D\u044B\u0435 \u043E\u0442 EventSource:",o),this.pushStatuses=[...this.pushStatuses,o],sessionStorage.setItem("pushStatuses",JSON.stringify(this.pushStatuses)),o.successCount!==void 0&&(this.resultMessage=o.message,o.pollIds&&o.pollIds.length>0&&(console.log("\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u044B pollIds:",o.pollIds),o.pollIds.forEach(t=>this.loadPollResult(t)))),this.cdr.markForCheck()},this.eventSource.onerror=()=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 EventSource"),this.eventSource?.close(),this.isSending=!1,this.cdr.markForCheck()}}loadAllPollResults(){this.viewMode="all",this.selectedPoll=null,this.pushService.getAllResults().subscribe({next:e=>{console.log("\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u044B \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u0432\u0441\u0435\u0445 \u043E\u043F\u0440\u043E\u0441\u043E\u0432:",e),this.pollResults=e.results||[],this.pollResultsError=null,this.cdr.markForCheck()},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0432\u0441\u0435\u0445 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u043E\u0432 \u043E\u043F\u0440\u043E\u0441\u043E\u0432:",e),this.pollResultsError="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u043E\u043F\u0440\u043E\u0441\u043E\u0432",this.cdr.markForCheck()}})}loadPollResult(e){console.log(`\u0417\u0430\u043F\u0440\u043E\u0441 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u043E\u0432 \u0434\u043B\u044F pollId: ${e}`),this.pushService.getPollResults(e).subscribe({next:o=>{console.log(`\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u0434\u043B\u044F pollId ${e}:`,o),this.selectedPoll=o,this.viewMode="single",this.pollResultsError=null,this.cdr.markForCheck()},error:o=>{console.error(`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u043E\u0432 \u043E\u043F\u0440\u043E\u0441\u0430 ${e}:`,o),this.pollResultsError=`\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u0434\u043B\u044F \u043E\u043F\u0440\u043E\u0441\u0430 ${e}`,this.cdr.markForCheck()}})}showPollDetails(e){console.log(`\u041F\u0435\u0440\u0435\u0445\u043E\u0434 \u043A \u0434\u0435\u0442\u0430\u043B\u044F\u043C \u043E\u043F\u0440\u043E\u0441\u0430: ${e.pollId}`),this.loadPollResult(e.pollId)}goBackToAllPolls(){console.log("\u0412\u043E\u0437\u0432\u0440\u0430\u0442 \u043A \u0441\u043F\u0438\u0441\u043A\u0443 \u0432\u0441\u0435\u0445 \u043E\u043F\u0440\u043E\u0441\u043E\u0432"),this.loadAllPollResults()}setContentMode(e){this.contentMode=e,this.saveFormData(),this.cdr.markForCheck()}setPollMode(e){this.pollMode=e,this.pollPayload.isQuiz=e==="quiz",this.pollPayload.allowsMultipleAnswers=e==="regular"?this.pollPayload.allowsMultipleAnswers:!1,this.saveFormData(),this.cdr.markForCheck()}checkFormValidity(){this.emptyMessage=!this.pushText?.trim()&&!this.imageUrl?.trim(),this.cdr.markForCheck()}checkPollValidity(){this.cdr.markForCheck()}isPollValid(){return this.pollPayload.question.trim()&&this.pollPayload.options.length>=2&&this.pollPayload.options.every(e=>e.trim())&&(this.pollMode!=="quiz"||this.pollPayload.correctOptionId!==void 0)}addPollOption(){this.pollPayload.options.length<10&&(this.pollPayload.options=[...this.pollPayload.options,""]),this.saveFormData()}trackByOption(e,o){return e}onSendToAllChange(){this.saveFormData()}onCategoryChange(e){let o=e.target,t=parseInt(o.value,10);o.checked?this.selectedCategoryIds.includes(t)||this.selectedCategoryIds.push(t):this.selectedCategoryIds=this.selectedCategoryIds.filter(s=>s!==t),console.log("\u0412\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438:",this.selectedCategoryIds),this.saveFormData()}saveFormData(){let e={imageUrl:this.imageUrl,pushText:this.pushText,buttonName:this.buttonName,buttonUrl:this.buttonUrl,selectedCategoryIds:this.selectedCategoryIds,pollPayload:this.pollPayload,contentMode:this.contentMode,pollMode:this.pollMode};localStorage.setItem("pushFormData",JSON.stringify(e))}refreshImage(){this.clearMessages(),this.saveFormData()}copyTagContent(e){let o=this.formatTags[e],t=o.tag==="[Name]"?o.tag:`${o.tag}${o.content}${o.tag.replace("[","[/")}`;navigator.clipboard.writeText(t).then(()=>{this.copiedStates[e]=!0,setTimeout(()=>{this.copiedStates[e]=!1,this.cdr.markForCheck()},3e3)}).catch(s=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u0433\u043E \u0442\u0435\u0433\u0430:",s)})}sendPush(){let e={imageUrl:this.imageUrl?.trim()||"",text:this.pushText?.trim()||"",buttonName:this.buttonName?.trim()||"",buttonUrl:this.buttonUrl?.trim()||"",categoryIds:this.selectedCategoryIds};if(this.isSending=!0,this.resultMessage="",this.pushStatuses=[],sessionStorage.removeItem("pushStatuses"),!e.imageUrl&&!e.text&&!e.buttonName&&!e.buttonUrl){this.resultMessage="\u041D\u0443\u0436\u043D\u043E \u0432\u0432\u0435\u0441\u0442\u0438 \u0445\u043E\u0442\u044F \u0431\u044B \u0442\u0435\u043A\u0441\u0442, \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0443 \u0438\u043B\u0438 \u043A\u043D\u043E\u043F\u043A\u0443",this.isSending=!1;return}this.pushService.sendPush(e).subscribe({next:o=>{this.isSending=!1,this.successMessage=o.message,this.imageUrl="",this.pushText="",this.buttonName="",this.buttonUrl="",this.selectedCategoryIds=[],localStorage.removeItem("pushFormData"),this.cdr.markForCheck()},error:o=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 push \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F",o),this.resultMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F",this.isSending=!1,this.eventSource?.close(),this.cdr.markForCheck()}})}sendPoll(){if(!this.isPollValid()){alert("\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0432\u043E\u043F\u0440\u043E\u0441, \u043C\u0438\u043D\u0438\u043C\u0443\u043C \u0434\u0432\u0430 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u0430 \u043E\u0442\u0432\u0435\u0442\u0430 \u0438, \u0434\u043B\u044F \u0432\u0438\u043A\u0442\u043E\u0440\u0438\u043D\u044B, \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u043E\u0442\u0432\u0435\u0442");return}let e={question:this.pollPayload.question.trim(),options:this.pollPayload.options.map(o=>o.trim()).filter(o=>o),isAnonymous:this.pollPayload.isAnonymous,allowsMultipleAnswers:this.pollMode==="regular"?this.pollPayload.allowsMultipleAnswers:!1,isQuiz:this.pollMode==="quiz",correctOptionId:this.pollMode==="quiz"?this.pollPayload.correctOptionId:void 0,categoryIds:this.selectedCategoryIds};this.isSending=!0,this.resultMessage="",this.pushStatuses=[],sessionStorage.removeItem("pushStatuses"),this.pushService.sendPoll(e).subscribe({next:o=>{this.isSending=!1,this.successMessage=o.message,this.pollPayload.question="",this.pollPayload.options=[""],this.pollPayload.correctOptionId=0,this.selectedCategoryIds=[],localStorage.removeItem("pushFormData"),this.cdr.markForCheck(),this.loadAllPollResults()},error:o=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u043E\u043F\u0440\u043E\u0441\u0430",o),this.resultMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u043E\u043F\u0440\u043E\u0441\u0430",this.isSending=!1,this.eventSource?.close(),this.cdr.markForCheck()}})}clearStatuses(){this.pushStatuses=[],sessionStorage.removeItem("pushStatuses"),this.cdr.markForCheck()}clearPollResults(){this.pollResults=[],this.pollResultsError=null,this.viewMode="all",this.selectedPoll=null,this.cdr.markForCheck()}cancelMessage(){this.resultMessage=""}clearMessages(){this.successMessage=null,this.errorMessage=null,this.cdr.markForCheck()}static \u0275fac=function(o){return new(o||a)(k(Gt),k(Qe),k(ce),k(U),k(Ee))};static \u0275cmp=T({type:a,selectors:[["app-push"]],decls:90,vars:17,consts:[["noPollResults",""],["noStatuses",""],[1,"admin-page","push-page","ml-side","section"],[1,"container","mx-auto","pt-[10px]"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","py-[10px]","mb-[0px]","rounded-[20px]","w-[100%]","pr-4"],[1,"title-tab","text-2xl","font-bold","text-indigo-600"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24"],["fill","none","stroke","#4f45e5","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","#4f45e5","fill-opacity","0","stroke-dasharray","72","stroke-dashoffset","72","d","M3 19.5v-15.5c0 -0.55 0.45 -1 1 -1h16c0.55 0 1 0.45 1 1v12c0 0.55 -0.45 1 -1 1h-14.5Z"],["fill","freeze","attributeName","fill-opacity","begin","0.7s","dur","0.15s","values","0;0.3"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.6s","values","72;0"],["stroke-dasharray","10","stroke-dashoffset","10","d","M8 7h8"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.85s","dur","0.2s","values","10;0"],["stroke-dasharray","10","stroke-dashoffset","10","d","M8 10h8"],["fill","freeze","attributeName","stroke-dashoffset","begin","1.15s","dur","0.2s","values","10;0"],["stroke-dasharray","6","stroke-dashoffset","6","d","M8 13h4"],["fill","freeze","attributeName","stroke-dashoffset","begin","1.45s","dur","0.2s","values","6;0"],[1,"collapse-wrapper","flex","flex-col","gap-2","mt-[30px]"],[1,"collapse","hover-shadow","border"],["type","radio","name","my-accordion-3","checked","checked",1,"peer"],[1,"collapse-title","text-xl","font-medium","peer-checked:bg-gradient","flex","justify-between","items-center"],[1,"block","text-2xl","text-gray-600","font-bold","mb-1","text-center"],[1,"collapse-content","peer-checked:bg-white"],[1,"content-choice","flex","gap-2","mb-4","justify-center"],[1,"message-mode","btn-block","shadow-2xl","px-5","py-8","mx-2","my-4","rounded-3xl","cursor-pointer","hover-shadow",3,"click","ngClass"],[1,"text-xl"],[1,"poll-mode","btn-block","shadow-2xl","px-5","py-8","mx-2","my-4","rounded-3xl","cursor-pointer","hover-shadow",3,"click","ngClass"],[4,"ngIf"],["type","radio","name","my-accordion-3",1,"peer"],[1,"collapse-title","text-xl","font-medium","peer-checked:bg-gradient"],[1,"block","text-xl","text-indigo-400","font-bold","text-center"],[1,"users-groups","flex","flex-col","pt-[10px]"],[1,"users-all-wrapper","pb-3"],[1,"text-gray-500","opacity-50","font-bold","text-xl"],[1,"flex","flex-col","items-start","btn","btn-ghost","btn-access","w-fit","mb-2","rounded-[35px]"],[1,"label","cursor-pointer"],[1,"block","text-lg","pr-1"],["type","checkbox",1,"checkbox","checkbox-success",3,"ngModelChange","ngModel"],[1,"users-group","pb-3"],[1,"text-gray-500","opacity-50","text-lg","font-bold"],[1,"users-group-wrapper","flex","gap-4"],["class","flex flex-col items-start btn btn-ghost btn-access w-fit mb-2 rounded-[35px]",4,"ngFor","ngForOf"],[1,"btn-wrapper","w-full","flex","items-center","justify-center","py-[20px]"],[1,"btn","btn-accent","w-[50%]","text-white","text-xl","rounded-[35px]","min-h-[70px]",3,"click","disabled"],["id","lineMdEmailCheck0"],["fill","none","stroke","#fff","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","64","stroke-dashoffset","64","d","M4 5h16c0.55 0 1 0.45 1 1v12c0 0.55 -0.45 1 -1 1h-16c-0.55 0 -1 -0.45 -1 -1v-12c0 -0.55 0.45 -1 1 -1Z"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.6s","values","64;0"],["stroke-dasharray","24","stroke-dashoffset","24","d","M3 6.5l9 5.5l9 -5.5"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.6s","dur","0.2s","values","24;0"],["fill","#000","fill-opacity","0","stroke","none","d","M19 13c3.31 0 6 2.69 6 6c0 3.31 -2.69 6 -6 6c-3.31 0 -6 -2.69 -6 -6c0 -3.31 2.69 -6 6 -6Z"],["fill","freeze","attributeName","fill-opacity","begin","0.8s","to","1"],["stroke-dasharray","10","stroke-dashoffset","10","d","M16 19l1.75 1.75l3.75 -3.75"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.8s","dur","0.2s","values","10;0"],["width","24","height","24","fill","currentColor","mask","url(#lineMdEmailCheck0)"],[1,"collapse","hover-shadow","border","bg-acacent"],[1,"text-xl","text-white","font-bold"],[1,"collapse-content","peer-checked:bg-white","px-0"],["class","overflow-x-auto",4,"ngIf","ngIfElse"],["class","p-2 bg-gray-50 rounded-lg shadow-sm",4,"ngIf"],[1,"text-xl","text-indigo-400","font-bold"],[1,"p-4"],["class","fixed h-full w-full top-0 left-0",4,"ngIf"],["class","message-form mb-5 pt-2 pb-8",4,"ngIf"],["class","poll-form mb-5 pt-2 pb-8",4,"ngIf"],[1,"message-form","mb-5","pt-2","pb-8"],[1,"text-xl","font-bold","py-4","text-center","flex","justify-center","items-center"],[1,"formating-tips"],["data-tip","\u041F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0430 \u0444\u043E\u0440\u043C\u0430\u0442\u043E\u0432 \u0442\u0435\u043A\u0441\u0442\u0430",1,"tooltip","tooltip-right","tooltip-success"],[1,"dropdown","dropdown-start","text-indigo-600"],["tabindex","0","role","button",1,"btn","btn-circle","btn-ghost","m-1","hover-shadow","hover:bg-base-200"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24",1,"fill-success","text-success"],["fill","currentColor","d","M12 17q.425 0 .713-.288T13 16v-4q0-.425-.288-.712T12 11t-.712.288T11 12v4q0 .425.288.713T12 17m0-8q.425 0 .713-.288T13 8t-.288-.712T12 7t-.712.288T11 8t.288.713T12 9m0 13q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8"],["tabindex","0",1,"dropdown-content","menu","bg-base-100","hover-shadow","rounded-box","z-10","w-[380px]","p-2","shadow-sm"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"form-group","mb-[10px]"],[1,"block","text-sm","text-indigo-400","font-bold","mb-1"],["class","text-red-500 text-sm mt-2 block pt-0 w-full",4,"ngIf"],["placeholder","https://example.com/image.jpg",1,"input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","blur","ngModel"],[1,"form-group","mb-[15px]","relative"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435",1,"w-full","h-[24dvh]","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel","disabled"],[1,"text-sm","font-bold","text-indigo-400","mb-1","mt-5"],[1,"header-tab","flex","items-center","justify-between","px-[40px]","py-[20px]","radius-30","w-[100%]","gap-4","mx-auto","tracking-wide","nj-toast-gradient","mb-[0px]"],[1,"form-group","w-[45%]"],[1,"block","text-sm","text-white","font-bold"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","h-[40px]","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40","text-black",3,"ngModelChange","ngModel"],["placeholder","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C URL \u043A\u043D\u043E\u043F\u043A\u0438",1,"input","w-full","mt-2","mb-4","border","border-gray-300","rounded-lg","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40","h-[40px]","text-black",3,"ngModelChange","ngModel"],["class","warning mt-4",4,"ngIf"],[1,"flex","items-center"],[1,"flex","items-center","justify-between","w-full",3,"click"],["class","copy icon-hover",4,"ngIf"],["class","copy-success",4,"ngIf"],[1,"copy","icon-hover"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","currentColor","d","M9.116 17q-.691 0-1.153-.462T7.5 15.385V4.615q0-.69.463-1.153T9.116 3h7.769q.69 0 1.153.462t.462 1.153v10.77q0 .69-.462 1.152T16.884 17zm-3 3q-.691 0-1.153-.462T4.5 18.385V6.615h1v11.77q0 .23.192.423t.423.192h8.77v1z"],[1,"copy-success"],["fill","none","stroke","#1b8a1b","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","#1b8a1b","fill-opacity","0","d","M3 12c0 -4.97 4.03 -9 9 -9c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9c-4.97 0 -9 -4.03 -9 -9Z"],["fill","freeze","attributeName","fill-opacity","dur","0.15s","values","0;0.3"],["stroke-dasharray","14","stroke-dashoffset","14","d","M8 12l3 3l5 -5"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.15s","dur","0.2s","values","14;0"],[1,"text-red-500","text-sm","mt-2","block","pt-0","w-full"],[1,"warning","mt-4"],[1,"poll-form","mb-5","pt-2","pb-8"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043E\u043F\u0440\u043E\u0441",1,"input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40","h-[200px]",3,"ngModelChange","ngModel"],[1,"form-group","mb-[15px]"],["class","mb-2",4,"ngFor","ngForOf","ngForTrackBy"],["class","btn btn-sm btn-outline hover:fill-white",3,"click",4,"ngIf"],[1,"poll-type-choice","flex","items-center","justify-center","gap-4","py-2"],[1,"regular-poll","btn-block","shadow-2xl","px-5","py-4","mx-2","rounded-3xl","cursor-pointer","hover-shadow",3,"click","ngClass"],[1,"text-lg"],[1,"quiz-poll","btn-block","shadow-2xl","px-5","py-4","mx-2","rounded-3xl","cursor-pointer","hover-shadow",3,"click","ngClass"],["class","flex items-center mt-2",4,"ngIf"],["class","w-full flex gap-6 items-baseline mt-16",4,"ngIf"],[1,"mb-2"],[1,"input","w-full","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","id","name","ngModel","placeholder"],[1,"btn","btn-sm","btn-outline","hover:fill-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24"],["fill","#4f45e5","d","M11 13H5v-2h6V5h2v6h6v2h-6v6h-2z"],[1,"flex","items-center","mt-2"],["type","checkbox","id","is-anonymous","name","is-anonymous",1,"checkbox","checkbox-neutral",3,"ngModelChange","ngModel"],["type","checkbox","id","allows-multiple","name","allows-multiple",1,"checkbox","checkbox-success",3,"ngModelChange","ngModel"],[1,"w-full","flex","gap-6","items-baseline","mt-16"],[1,"block","text-xl","font-bold","mb-1","nj-toast-grad-access"],["id","correct-option","name","correct-option",1,"select","select-primary",3,"ngModelChange","ngModel"],["class","text-lg","disabled","","selected","",4,"ngIf"],["class","text-lg font-bold",3,"value","disabled",4,"ngFor","ngForOf","ngForTrackBy"],["disabled","","selected","",1,"text-lg"],[1,"text-lg","font-bold",3,"value","disabled"],[1,"block","text-lg","font-bold","pr-1"],["type","checkbox",1,"checkbox","checkbox-success",3,"change","value","checked"],[1,"overflow-x-auto"],[1,"table","table-xs","w-full"],[1,"bg-gray-100","text-gray-600"],[1,"p-2"],[1,"p-2","font-semibold"],["class","hover:bg-gray-50 cursor-pointer transition-colors",3,"click",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","cursor-pointer","transition-colors",3,"click"],[1,"p-2","text-md"],[1,"list-decimal","pl-4"],["class","py-1",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","#00aa6f","d","m12 16l4-4l-4-4l-1.4 1.4l1.6 1.6H8v2h4.2l-1.6 1.6zm0 6q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22"],[1,"py-1"],[1,"p-2","bg-gray-50","rounded-lg","shadow-sm"],[1,"btn","btn-circle","btn-ghost","m-1","mb-4","hover-shadow","hover:bg-base-200",3,"click"],["fill","#4f45e5","d","m7.825 13l4.9 4.9q.3.3.288.7t-.313.7q-.3.275-.7.288t-.7-.288l-6.6-6.6q-.15-.15-.213-.325T4.426 12t.063-.375t.212-.325l6.6-6.6q.275-.275.688-.275t.712.275q.3.3.3.713t-.3.712L7.825 11H19q.425 0 .713.288T20 12t-.288.713T19 13z"],[1,"mb-6"],[1,"text-3xl","font-bold","text-indigo-600","mb-2"],[1,"text-sm","text-gray-500"],[1,"table","table-xs","table-pin-rows","table-pin-cols","w-full"],[1,"bg-gray-100","text-gray-700"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50"],[1,"flex","items-center","h-full"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","class","mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24",1,"mr-2"],["fill","#75f163","d","m9.55 15.15l8.475-8.475q.3-.3.7-.3t.7.3t.3.713t-.3.712l-9.175 9.2q-.3.3-.7.3t-.7-.3L4.55 13q-.3-.3-.288-.712t.313-.713t.713-.3t.712.3z"],[1,"text-gray-500","absolute"],[1,"table"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline","mt-4",3,"click"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"text-gray-500"],[1,"fixed","h-full","w-full","top-0","left-0"],[1,"overlay-popup"],[1,"flex","justify-end","absolute","top-0","w-full"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24",1,"bg-red-400","transition-all","rounded-[25px]","cursor-pointer","hover:scale-125","active:scale-100",3,"click"],["fill","none","stroke","#000","stroke-dasharray","16","stroke-dashoffset","16","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["d","M7 7l10 10"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.4s","values","16;0"],["d","M17 7l-10 10"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.4s","dur","0.4s","values","16;0"]],template:function(o,t){if(o&1){let s=S();p(0,"app-sidebar"),i(1,"section",2)(2,"div",3)(3,"div",4)(4,"h2",5),r(5," \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0422\u0413 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u0438\u043B\u0438 \u043E\u043F\u0440\u043E\u0441 "),n(),E(),i(6,"svg",6)(7,"g",7)(8,"path",8),p(9,"animate",9)(10,"animate",10),n(),i(11,"path",11),p(12,"animate",12),n(),i(13,"path",13),p(14,"animate",14),n(),i(15,"path",15),p(16,"animate",16),n()()()(),M(),i(17,"div",17)(18,"div",18),p(19,"input",19),i(20,"div",20)(21,"label",21),r(22," \u{1F447} \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043F \u0422\u0413-\u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F \u{1F447} "),n()(),i(23,"div",22)(24,"div",23)(25,"div",24),b("click",function(){return g(s),_(t.setContentMode("message"))}),i(26,"p",25),r(27,"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C TG \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0435"),n()(),i(28,"div",26),b("click",function(){return g(s),_(t.setContentMode("poll"))}),i(29,"p",25),r(30,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043E\u043F\u0440\u043E\u0441"),n()()(),h(31,G0,3,2,"ng-container",27),n()(),i(32,"div",18),p(33,"input",28),i(34,"div",29)(35,"label",30),r(36," \u2757\uFE0F\u041E\u0411\u042F\u0417\u0410\u0422\u0415\u041B\u042C\u041D\u041E\u2757\uFE0F \u0414\u043B\u044F \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438 \u0422\u0413 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0443\u043F\u043F\u0443(\u044B) "),n()(),i(37,"div",22)(38,"div",31)(39,"div",32)(40,"p",33),r(41," \u0412\u0441\u0435\u043C \u044E\u0437\u0435\u0440\u0430\u043C: "),n(),i(42,"div",34)(43,"label",35)(44,"span",36),r(45,"All users"),n(),i(46,"input",37),v("ngModelChange",function(y){return g(s),x(t.sendToAll,y)||(t.sendToAll=y),_(y)}),b("ngModelChange",function(){return g(s),_(t.onSendToAllChange())}),n()()()(),i(47,"div",38)(48,"p",39),r(49," \u0413\u0440\u0443\u043F\u043F\u044B \u044E\u0437\u0435\u0440\u043E\u0432: "),n(),i(50,"div",40),h(51,q0,5,3,"div",41),n()()(),i(52,"div",42)(53,"button",43),b("click",function(){return g(s),_(t.contentMode==="message"?t.sendPush():t.sendPoll())}),r(54),i(55,"span"),E(),i(56,"svg",6)(57,"mask",44)(58,"g",45)(59,"path",46),p(60,"animate",47),n(),i(61,"path",48),p(62,"animate",49),n(),i(63,"path",50),p(64,"set",51),n(),i(65,"path",52),p(66,"animate",53),n()()(),p(67,"rect",54),n()()()()()(),M(),i(68,"div",55),p(69,"input",28),i(70,"div",29)(71,"h2",56),r(72,"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u043E\u043F\u0440\u043E\u0441\u043E\u0432"),n()(),i(73,"div",57)(74,"div"),h(75,J0,18,1,"div",58)(76,ea,35,3,"div",59)(77,ta,1,0,"ng-template",null,0,ae),n()()(),i(79,"div",18),p(80,"input",28),i(81,"div",29)(82,"h2",60),r(83,"\u0421\u0442\u0430\u0442\u0443\u0441\u044B \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438"),n()(),i(84,"div",22)(85,"div",61),h(86,sa,18,1,"div",58)(87,ua,2,0,"ng-template",null,1,ae),n()()(),h(89,da,10,1,"div",62),n()()()}if(o&2){let s=ne(78),c=ne(88);l(25),d("ngClass",Y(13,et,t.contentMode==="message")),l(3),d("ngClass",Y(15,et,t.contentMode==="poll")),l(3),d("ngIf",t.contentMode),l(15),f("ngModel",t.sendToAll),l(5),d("ngForOf",t.categories),l(2),d("disabled",t.isSending||t.contentMode==="message"&&t.emptyMessage||t.contentMode==="poll"&&!t.isPollValid()),l(),w(" ",t.isSending?"\u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430...":"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C"," "),l(21),d("ngIf",t.viewMode==="all"&&t.getPollResults().length>0)("ngIfElse",s),l(),d("ngIf",t.viewMode==="single"&&t.selectedPoll),l(10),d("ngIf",t.filteredPushStatuses.length)("ngIfElse",c),l(3),d("ngIf",t.resultMessage)}},dependencies:[G,O,W,te,K,Q,R,ye,Z,z,j]})}return a})();var tt=(()=>{class a{http;apiUrl=ee.auth.baseUrl+"/users";constructor(e){this.http=e}getUsers(){return this.http.get(this.apiUrl)}deleteUser(e){return this.http.delete(`${this.apiUrl}/${e}`)}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var ma=a=>({hover:a});function pa(a,m){a&1&&(i(0,"div",16),p(1,"app-loading"),n())}function ca(a,m){if(a&1&&(i(0,"div",17),r(1),n()),a&2){let e=u();l(),w(" ",e.error," ")}}function ga(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function _a(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function ha(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function fa(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function xa(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function va(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function ba(a,m){if(a&1&&(i(0,"span",30),r(1),n()),a&2){let e=m.$implicit;l(),w(" ",e.name," ")}}function wa(a,m){if(a&1&&(me(0),h(1,ba,2,1,"span",29),pe()),a&2){let e=u().$implicit;l(),d("ngForOf",e.newsCategories)}}function Ca(a,m){a&1&&r(0,"-")}function Ea(a,m){if(a&1){let e=S();i(0,"tr",24)(1,"th"),r(2),n(),i(3,"th"),r(4),n(),i(5,"td"),r(6),n(),i(7,"td"),r(8),n(),i(9,"td"),r(10),n(),i(11,"td"),r(12),n(),i(13,"td"),r(14),n(),i(15,"td"),r(16),n(),i(17,"td"),r(18),n(),i(19,"td"),r(20),n(),i(21,"td"),h(22,wa,2,1,"ng-container",25)(23,Ca,1,0,"ng-template",null,0,ae),n(),i(25,"td")(26,"button",26),b("click",function(){let t=g(e).$implicit,s=u(2);return _(s.deleteUser(t.id,t.first_name||t.username||t.id.toString()))}),E(),i(27,"svg",27),p(28,"path",28),n()()()()}if(a&2){let e=m.$implicit,o=m.index,t=ne(24);d("ngClass",Y(13,ma,o%2===1)),l(2),C(o+1),l(2),C(e.id),l(2),C(e.first_name),l(2),C(e.last_name||"-"),l(2),C(e.username||"-"),l(2),C(e.email||"-"),l(2),C(e.state),l(2),C(e.is_bot),l(2),C(e.language_code),l(2),C(e.updated_at.slice(0,16)),l(2),d("ngIf",e.newsCategories&&e.newsCategories.length)("ngIfElse",t)}}function ya(a,m){if(a&1){let e=S();i(0,"div",18)(1,"div",19)(2,"table",20)(3,"thead")(4,"tr")(5,"th"),r(6,"$"),n(),i(7,"th",21),b("click",function(){g(e);let t=u();return _(t.toggleSort("id"))}),r(8," Telegram ID "),h(9,ga,2,1,"span",22),n(),i(10,"th",21),b("click",function(){g(e);let t=u();return _(t.toggleSort("first_name"))}),r(11," First Name "),h(12,_a,2,1,"span",22),n(),i(13,"th"),r(14,"Last Name"),n(),i(15,"th"),r(16,"Username"),n(),i(17,"th",21),b("click",function(){g(e);let t=u();return _(t.toggleSort("email"))}),r(18," Email "),h(19,ha,2,1,"span",22),n(),i(20,"th",21),b("click",function(){g(e);let t=u();return _(t.toggleSort("state"))}),r(21," State "),h(22,fa,2,1,"span",22),n(),i(23,"th"),r(24,"isBot"),n(),i(25,"th",21),b("click",function(){g(e);let t=u();return _(t.toggleSort("language_code"))}),r(26," Lang "),h(27,xa,2,1,"span",22),n(),i(28,"th",21),b("click",function(){g(e);let t=u();return _(t.toggleSort("updated_at"))}),r(29," Update "),h(30,va,2,1,"span",22),n(),i(31,"th"),r(32,"Categories"),n(),p(33,"th"),n()(),i(34,"tbody"),h(35,Ea,29,15,"tr",23),n()()()()}if(a&2){let e=u();l(9),d("ngIf",e.sortBy==="id"),l(3),d("ngIf",e.sortBy==="first_name"),l(7),d("ngIf",e.sortBy==="email"),l(3),d("ngIf",e.sortBy==="state"),l(5),d("ngIf",e.sortBy==="language_code"),l(3),d("ngIf",e.sortBy==="updated_at"),l(5),d("ngForOf",e.sortedUsers)}}function Sa(a,m){a&1&&(i(0,"div",31),r(1," \u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B. "),n())}var Xt=(()=>{class a{usersService;users=[];isLoading=!1;error="";sortBy="updated_at";ascending=!1;successMessage=null;errorMessage=null;constructor(e){this.usersService=e}ngOnInit(){let e=localStorage.getItem("userSortBy"),o=localStorage.getItem("userSortAscending");e&&Object.keys(this.users[0]||{}).includes(e)&&(this.sortBy=e),o!==null&&(this.ascending=o==="true"),this.loadUsers()}loadUsers(){this.isLoading=!0,this.usersService.getUsers().subscribe({next:e=>{this.users=e,this.isLoading=!1,this.sortUsers()},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439:",e),this.error="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439",this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439",this.isLoading=!1,this.clearMessagesAfterDelay()}})}toggleSort(e){this.sortBy===e?this.ascending=!this.ascending:(this.sortBy=e,this.ascending=e!=="updated_at"),this.sortUsers(),localStorage.setItem("userSortBy",this.sortBy),localStorage.setItem("userSortAscending",this.ascending.toString())}get sortedUsers(){return this.users.length?[...this.users].sort((e,o)=>{let t=e[this.sortBy]??"",s=o[this.sortBy]??"";if(this.sortBy==="updated_at"){let c=new Date(t).getTime(),y=new Date(s).getTime();return this.ascending?c-y:y-c}return typeof t=="string"&&typeof s=="string"?this.ascending?t.localeCompare(s):s.localeCompare(t):typeof t=="number"&&typeof s=="number"?this.ascending?t-s:s-t:0}):[...this.users]}sortUsers(){this.users=this.sortedUsers}deleteUser(e,o){confirm(`\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F ${o||e}?`)&&this.usersService.deleteUser(e).subscribe({next:()=>{console.log(`\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C ${e} \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D`),this.users=this.users.filter(t=>t.id!==e),this.successMessage=`\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C ${o||e} \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D`,this.clearMessagesAfterDelay()},error:t=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F:",t);let s=t.status===404?"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D":t.status===400?"\u041D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 ID \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F":"\u041E\u0448\u0438\u0431\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F";this.errorMessage=s,this.clearMessagesAfterDelay()}})}clearMessages(){this.successMessage=null,this.errorMessage=null}clearMessagesAfterDelay(){setTimeout(()=>this.clearMessages(),3e3)}static \u0275fac=function(o){return new(o||a)(k(tt))};static \u0275cmp=T({type:a,selectors:[["app-users"]],decls:17,vars:4,consts:[["noSubs",""],[1,"admin-page","ml-side","section"],[1,"container","mx-auto","pt-[10px]"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","py-[10px]","mb-0","rounded-[20px]","w-full","pr-4"],[1,"title-tab","text-2xl","font-bold","text-indigo-600"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24"],["fill","#4f45e5","fill-opacity","0","stroke","#4f45e5","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","20","stroke-dashoffset","20","d","M12 5c1.66 0 3 1.34 3 3c0 1.66 -1.34 3 -3 3c-1.66 0 -3 -1.34 -3 -3c0 -1.66 1.34 -3 3 -3Z"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.4s","values","20;0"],["stroke-dasharray","36","stroke-dashoffset","36","d","M12 14c4 0 7 2 7 3v2h-14v-2c0 -1 3 -3 7 -3Z"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.5s","dur","0.5s","values","36;0"],["fill","freeze","attributeName","fill-opacity","begin","1.1s","dur","0.5s","values","0;1"],["class","text-center py-4",4,"ngIf"],["class","text-red-500 text-center",4,"ngIf"],["class","overflow-x-auto mt-4",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"text-center","py-4"],[1,"text-red-500","text-center"],[1,"overflow-x-auto","mt-4"],[1,"overflow-x-auto"],[1,"table"],[1,"cursor-pointer",3,"click"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[4,"ngIf","ngIfElse"],["title","Delete User",1,"btn","hover:btn-error","btn-circle","hover:text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24"],["fill","currentColor","d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12l1.41 1.41L13.41 14l2.12 2.12l-1.41 1.41L12 15.41l-2.12 2.12l-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"],["class","badge badge-info mr-1",4,"ngFor","ngForOf"],[1,"badge","badge-info","mr-1"],[1,"text-center"]],template:function(o,t){o&1&&(p(0,"app-sidebar"),i(1,"section",1)(2,"div",2)(3,"div",3)(4,"h2",4),r(5,"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438"),n(),E(),i(6,"svg",5)(7,"g",6)(8,"path",7),p(9,"animate",8),n(),i(10,"path",9),p(11,"animate",10),n(),p(12,"animate",11),n()()(),h(13,pa,2,0,"div",12)(14,ca,2,1,"div",13)(15,ya,36,7,"div",14)(16,Sa,2,0,"div",15),n()()),o&2&&(l(13),d("ngIf",t.isLoading),l(),d("ngIf",t.error),l(),d("ngIf",!t.isLoading&&t.users.length),l(),d("ngIf",!t.isLoading&&t.users.length===0))},dependencies:[G,O,W,te,Me]})}return a})();var it=(()=>{class a{http;imageAddedSubject=new ut;constructor(e){this.http=e}getImages(){return this.http.get(`${ee.auth.baseUrl}/images`)}deleteImage(e){return this.http.delete(`${ee.auth.baseUrl}/images/${e}`)}notifyImageAdded(){this.imageAddedSubject.next()}onImageAdded(){return this.imageAddedSubject.asObservable()}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Zt=(()=>{class a{http;url=ee.auth.baseUrl;uploadUrl=`${this.url}/upload`;constructor(e){this.http=e}uploadImage(e,o,t=""){let s=new FormData;return s.append("image",e),s.append("type",o),t&&s.append("name",t),this.http.post(this.uploadUrl,s)}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Ta(a,m){a&1&&(i(0,"p"),r(1," \u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044E\u0434\u0430 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0438\u043B\u0438 \u043A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0434\u043B\u044F \u0432\u044B\u0431\u043E\u0440\u0430 "),n())}function ka(a,m){if(a&1&&p(0,"img",31),a&2){let e=u();d("src",e.previewUrl,L)}}function Ba(a,m){if(a&1){let e=S();i(0,"div",32)(1,"b"),r(2),n(),i(3,"span",33),b("click",function(){g(e);let t=u();return _(t.closeMessages())}),E(),i(4,"svg",34),p(5,"path",35),n()()()}if(a&2){let e=u();l(2),w(" ",e.successMessage," ")}}function Ia(a,m){if(a&1){let e=S();i(0,"div",36),r(1),i(2,"span",33),b("click",function(){g(e);let t=u();return _(t.closeMessages())}),E(),i(3,"svg",34),p(4,"path",35),n()()()}if(a&2){let e=u();l(),w(" ",e.errorMessage," ")}}var Kt=(()=>{class a{imageUploadService;selectedFile=null;previewUrl=null;isDragOver=!1;successMessage=null;errorMessage=null;selectedType="image";imageName="";imageUploaded=new ue;constructor(e){this.imageUploadService=e}onDragOver(e){e.preventDefault(),this.isDragOver=!0}onDragLeave(e){e.preventDefault(),this.isDragOver=!1}onDrop(e){e.preventDefault(),this.isDragOver=!1,e.dataTransfer&&e.dataTransfer.files.length>0&&(this.selectedFile=e.dataTransfer.files[0],this.previewFile(this.selectedFile),e.dataTransfer.clearData())}onFileSelected(e){let o=e.target;o.files&&o.files.length>0&&(this.selectedFile=o.files[0],this.previewFile(this.selectedFile))}previewFile(e){let o=new FileReader;o.onload=()=>{this.previewUrl=o.result},o.readAsDataURL(e)}triggerFileInput(){document.querySelector('input[type="file"]').click()}uploadFile(){if(!this.selectedFile){this.errorMessage="\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043B \u0434\u043B\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438";return}console.log("\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u043C \u0444\u0430\u0439\u043B:",this.selectedFile.name),console.log("\u0412\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u0442\u0438\u043F:",this.selectedType),this.imageUploadService.uploadImage(this.selectedFile,this.selectedType,this.imageName.trim()).subscribe({next:e=>{console.log("\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E",e),this.imageUploaded.emit(e.path),this.successMessage="\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E",this.selectedFile=null,this.previewUrl=null,this.imageName="",this.selectedType="image"},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",e),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F"}})}get canUpload(){return!!(this.selectedFile&&this.imageName?.trim().length>0&&this.selectedType?.length>0)}clearMessages(){this.successMessage=null,this.errorMessage=null}closeMessages(){this.successMessage=null,this.errorMessage=null}static \u0275fac=function(o){return new(o||a)(k(Zt))};static \u0275cmp=T({type:a,selectors:[["app-image-upload"]],outputs:{imageUploaded:"imageUploaded"},decls:38,vars:10,consts:[["fileInput",""],[1,"image-upload","w-full"],[1,"flex","gap-8","justify-start","items-center","mt-4"],[1,"form-group","flex","flex-col"],["for","imageName",1,"text-indigo-500","font-bold","text-lg"],[1,"text-error"],["type","text","id","imageName","placeholder","\u041D\u0430\u043F\u0440\u0438\u043C\u0435\u0440: tg-bot, vote-arsenal, email-win",1,"input","mt-2","border","border-gray-300","px-4","py-2","ml-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40","ng-untouched","ng-pristine","ng-valid","w-[350px]","rounded-[35px]",3,"ngModelChange","ngModel"],[1,"flex","flex-col"],[1,""],[1,"flex","gap-4","mt-2"],["for","template-1",1,"label","btn","btn-ghost","px-2","cursor-pointer"],["type","radio","name","template-options","id","template-1","value","logo",1,"checkbox","checkbox-success",3,"ngModelChange","ngModel"],[1,"ml-2","text-[20px]"],["for","template-2",1,"label","btn","btn-ghost","px-2","cursor-pointer"],["type","radio","name","template-options","id","template-2","value","image",1,"checkbox","checkbox-success",3,"ngModelChange","ngModel"],["data-tip","1- \u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F, 2- \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043F \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435, 3- \u0434\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 !!!\u043A\u043D\u043E\u043F\u043A\u0430 \u0440\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u0443\u0435\u0442\u0441\u044F!!!",1,"upload-drop-zone","tooltip","tooltip-top","tooltip-primary",3,"dragover","dragleave","drop","click"],[4,"ngIf"],["alt","Preview","class","preview-image",3,"src",4,"ngIf"],["type","file","accept",".jpeg, .jpg, .png, .svg, .webp, .gif","hidden","",3,"change"],[1,"nj-toast-gradient","btn","w-full",3,"click","disabled"],[1,"flex","justify-center","mt-[4px]","cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","width","60","height","60","viewBox","0 0 24 24"],["fill","none","stroke","#4E45E5","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","#4E45E5","fill-opacity","0","stroke-dasharray","20","stroke-dashoffset","20","d","M12 4h2v6h2.5l-4.5 4.5M12 4h-2v6h-2.5l4.5 4.5"],["attributeName","d","begin","0.5s","dur","1.5s","repeatCount","indefinite","values","M12 4h2v6h2.5l-4.5 4.5M12 4h-2v6h-2.5l4.5 4.5;M12 4h2v3h2.5l-4.5 4.5M12 4h-2v3h-2.5l4.5 4.5;M12 4h2v6h2.5l-4.5 4.5M12 4h-2v6h-2.5l4.5 4.5"],["fill","freeze","attributeName","fill-opacity","begin","0.7s","dur","0.5s","values","0;1"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.4s","values","20;0"],["stroke-dasharray","14","stroke-dashoffset","14","d","M6 19h12"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.5s","dur","0.2s","values","14;0"],["class","alert alert-success mb-4 relative flex justify-between",4,"ngIf"],["class","alert alert-error relative",4,"ngIf"],["alt","Preview",1,"preview-image",3,"src"],[1,"alert","alert-success","mb-4","relative","flex","justify-between"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"],[1,"alert","alert-error","relative"]],template:function(o,t){if(o&1){let s=S();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"label",4),r(4,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F "),i(5,"span",5),r(6,"(\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E):"),n()(),i(7,"input",6),v("ngModelChange",function(y){return g(s),x(t.imageName,y)||(t.imageName=y),_(y)}),n()(),i(8,"div",7)(9,"h5",8),r(10," \u0412\u0438\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043F \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F (\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E): "),n(),i(11,"div",9)(12,"label",10)(13,"input",11),v("ngModelChange",function(y){return g(s),x(t.selectedType,y)||(t.selectedType=y),_(y)}),n(),i(14,"span",12),r(15,"Logo"),n()(),i(16,"label",13)(17,"input",14),v("ngModelChange",function(y){return g(s),x(t.selectedType,y)||(t.selectedType=y),_(y)}),n(),i(18,"span",12),r(19,"Image"),n()()()()(),i(20,"div",15),b("dragover",function(y){return g(s),_(t.onDragOver(y))})("dragleave",function(y){return g(s),_(t.onDragLeave(y))})("drop",function(y){return g(s),_(t.onDrop(y))})("click",function(){return g(s),_(t.triggerFileInput())}),h(21,Ta,2,0,"p",16)(22,ka,1,1,"img",17),i(23,"input",18,0),b("change",function(y){return g(s),_(t.onFileSelected(y))}),n()(),i(25,"button",19),b("click",function(){return g(s),_(t.uploadFile())}),r(26," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C "),n(),i(27,"div",20),E(),i(28,"svg",21)(29,"g",22)(30,"path",23),p(31,"animate",24)(32,"animate",25)(33,"animate",26),n(),i(34,"path",27),p(35,"animate",28),n()()()(),h(36,Ba,6,1,"div",29)(37,Ia,5,1,"div",30),n()}o&2&&(l(7),f("ngModel",t.imageName),l(6),f("ngModel",t.selectedType),l(4),f("ngModel",t.selectedType),l(3),we("dragover",t.isDragOver),l(),d("ngIf",!t.selectedFile),l(),d("ngIf",t.previewUrl),l(3),d("disabled",!t.canUpload),l(11),d("ngIf",t.successMessage),l(),d("ngIf",t.errorMessage))},dependencies:[W,R,Ct,z,j],styles:[".upload-drop-zone[_ngcontent-%COMP%]{padding:20px;text-align:center;cursor:pointer;transition:background-color .3s;margin:22px 0;border-radius:20px;height:55vh;background:linear-gradient(145deg,#fff,#5045e5);display:flex;justify-content:center;align-items:center;font-weight:600}.upload-drop-zone[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:100%;object-fit:contain}.btn[disabled][_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:disabled{opacity:.2}.upload-drop-zone.dragover[_ngcontent-%COMP%]{background-color:#e6f7ff}.preview-image[_ngcontent-%COMP%]{max-width:100%;margin-top:10px}.nj-toast-gradient.btn[_ngcontent-%COMP%]{width:95%;display:flex;justify-content:center;color:#fff;font-size:18px;font-weight:700;transition:.3s ease-in;margin:auto;height:65px}.nj-toast-gradient.btn[_ngcontent-%COMP%]:hover{transition:.3s ease-in;scale:1.025;box-shadow:0 0 15px #5045e5;padding:15px 0}"]})}return a})();var Fa=(a,m)=>({"badge-success":a,"badge-info":m});function Va(a,m){if(a&1){let e=S();i(0,"span",24),b("click",function(){g(e);let t=u(),s=t.$implicit,c=t.index,y=u();return _(y.copyImageUrl(s,c))}),E(),i(1,"svg",22),p(2,"path",25),n()()}}function Pa(a,m){a&1&&(i(0,"span",26),E(),i(1,"svg",27)(2,"g",28)(3,"path",29),p(4,"animate",30),n(),i(5,"path",31),p(6,"animate",32),n()()()())}function Aa(a,m){if(a&1){let e=S();i(0,"tr")(1,"td"),r(2),n(),i(3,"td")(4,"a",13),p(5,"img",14),n()(),i(6,"td",15),r(7),n(),i(8,"td")(9,"div",16),r(10),n()(),i(11,"td",17)(12,"div",18),h(13,Va,3,0,"span",19)(14,Pa,7,0,"span",20),i(15,"span"),r(16),n()()(),i(17,"td")(18,"button",21),b("click",function(){let t=g(e),s=t.$implicit,c=t.index,y=u();return _(y.deleteImage(s,c))}),E(),i(19,"svg",22),p(20,"path",23),n()()()()}if(a&2){let e=m.$implicit,o=m.index,t=u();l(2),C(o+1),l(2),d("href",t.baseUrl+e,L),l(),d("src",t.baseUrl+e,L),l(2),C(t.getImageName(e)),l(2),d("ngClass",Ce(10,Fa,t.getImageType(e)==="\u041B\u043E\u0433\u043E",t.getImageType(e)==="\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435")),l(),w(" ",t.getImageType(e)," "),l(3),d("ngIf",!t.copiedStates[o]),l(),d("ngIf",t.copiedStates[o]),l(2),Fe("",t.baseUrl,"",e,"")}}function Wa(a,m){a&1&&(i(0,"div",33),r(1," \u041D\u0435\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0439 \u043F\u043E \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u043C \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u043C "),n())}function La(a,m){if(a&1&&(i(0,"div",34),r(1),n()),a&2){let e=u();l(),w(" ",e.successMessage," ")}}function Ua(a,m){if(a&1&&(i(0,"div",35),r(1),n()),a&2){let e=u();l(),w(" ",e.errorMessage," ")}}var Qt=(()=>{class a{imageService;allImages=[];displayedImages=[];images=[];activeTab="all";searchTerm="";copiedStates=[];successMessage=null;errorMessage=null;baseUrl=B.auth.baseUrl;constructor(e){this.imageService=e}ngOnInit(){this.fetchImages(),this.imageService.onImageAdded().subscribe(()=>{this.fetchImages()})}fetchImages(){this.imageService.getImages().subscribe({next:e=>{this.allImages=e,this.applyFilters(),this.copiedStates=new Array(this.displayedImages.length).fill(!1)},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0439:",e),this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0441\u043F\u0438\u0441\u043A\u0430 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0439",this.clearMessagesAfterDelay()}})}applyFilters(){let e=[...this.allImages];if(this.activeTab==="logo"?e=e.filter(o=>o.includes("logo-")):this.activeTab==="image"&&(e=e.filter(o=>o.includes("image-")||!o.includes("logo-"))),this.searchTerm.trim()){let o=this.searchTerm.trim().toLowerCase();e=e.filter(t=>(t.split("/").pop()?.toLowerCase()||"").includes(o))}this.displayedImages=e.sort((o,t)=>{let s=this.extractTimestamp(o);return this.extractTimestamp(t)-s}),this.copiedStates=new Array(this.displayedImages.length).fill(!1)}setTab(e){this.activeTab=e,this.applyFilters()}onSearch(e){this.searchTerm=e.target.value,this.applyFilters()}extractTimestamp(e){let t=(e.split("/").pop()||"").match(/-(\d+)-\d+\./);return t?parseInt(t[1],10):0}getImageType(e){return e.includes("logo-")?"\u041B\u043E\u0433\u043E":"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435"}getImageName(e){return(e.split("/").pop()||"").split(/(image-|logo-)/)[0]||"\u2014"}copyImageUrl(e,o){let t=`${this.baseUrl}${e}`;navigator.clipboard.writeText(t).then(()=>{this.copiedStates[o]=!0,setTimeout(()=>this.copiedStates[o]=!1,3e3)}).catch(s=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F:",s),this.errorMessage="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C URL",this.clearMessagesAfterDelay()})}deleteImage(e,o){let t=e.split("/").pop();this.imageService.deleteImage(t).subscribe({next:()=>{this.allImages=this.allImages.filter(s=>s!==e),this.applyFilters(),this.successMessage=`\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 ${t} \u0443\u0434\u0430\u043B\u0435\u043D\u043E`,this.clearMessagesAfterDelay()},error:s=>{this.errorMessage=s.status===404?"\u0424\u0430\u0439\u043B \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D":"\u041E\u0448\u0438\u0431\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F",this.clearMessagesAfterDelay()}})}clearMessagesAfterDelay(){setTimeout(()=>{this.successMessage=null,this.errorMessage=null},4e3)}static \u0275fac=function(o){return new(o||a)(k(it))};static \u0275cmp=T({type:a,selectors:[["app-images-table"]],inputs:{images:"images"},decls:31,vars:11,consts:[[1,"overflow-x-auto","rounded-box","border","border-base-300","bg-base-100","w-full","pt-6","pb-10"],[1,"flex","flex-col","md:flex-row","justify-start","items-start","md:items-center","gap-4","mb-6","px-4","rounded-[35px]"],[1,"tabs","tabs-boxed"],[1,"tab","rounded-[35px]",3,"click"],[1,"form-control","w-full","max-w-xs"],["type","text","placeholder","\u041F\u043E\u0438\u0441\u043A \u043F\u043E \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044E...",1,"input","input-bordered","focus:ring","focus:ring-blue-300","rounded-[35px]","w-[350px]",3,"ngModelChange","input","ngModel"],[1,"table","table-zebra","w-full"],[1,"w-12"],[1,"w-16"],[4,"ngFor","ngForOf"],["class","alert alert-info mt-6",4,"ngIf"],["class","alert alert-success mt-6",4,"ngIf"],["class","alert alert-error mt-6",4,"ngIf"],["target","_blank",3,"href"],["alt","preview",1,"max-h-16","rounded",3,"src"],[1,"font-medium"],[1,"badge",3,"ngClass"],[1,"max-w-xs","truncate"],[1,"flex","items-center","gap-2"],["class","copy btn btn-ghost btn-circle",3,"click",4,"ngIf"],["class","copy-success",4,"ngIf"],["title","Delete User","title","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435",1,"btn","bg-white","hover:btn-error","btn-circle","hover:text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24"],["fill","currentColor","d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12l1.41 1.41L13.41 14l2.12 2.12l-1.41 1.41L12 15.41l-2.12 2.12l-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"],[1,"copy","btn","btn-ghost","btn-circle",3,"click"],["fill","currentColor","d","M9.116 17q-.691 0-1.153-.462T7.5 15.385V4.615q0-.69.463-1.153T9.116 3h7.769q.69 0 1.153.462t.462 1.153v10.77q0 .69-.462 1.152T16.884 17zm-3 3q-.691 0-1.153-.462T4.5 18.385V6.615h1v11.77q0 .23.192.423t.423.192h8.77v1z"],[1,"copy-success"],["xmlns","http://www.w3.org/2000/svg","width","44","height","44","viewBox","0 0 24 24"],["fill","none","stroke","#1b8a1b","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","#1b8a1b","fill-opacity","0","d","M3 12c0 -4.97 4.03 -9 9 -9c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9c-4.97 0 -9 -4.03 -9 -9Z"],["fill","freeze","attributeName","fill-opacity","dur","0.15s","values","0;0.3"],["stroke-dasharray","14","stroke-dashoffset","14","d","M8 12l3 3l5 -5"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.15s","dur","0.2s","values","14;0"],[1,"alert","alert-info","mt-6"],[1,"alert","alert-success","mt-6"],[1,"alert","alert-error","mt-6"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),b("click",function(){return t.setTab("all")}),r(4," \u0412\u0441\u0435 "),n(),i(5,"button",3),b("click",function(){return t.setTab("logo")}),r(6," \u041B\u043E\u0433\u043E "),n(),i(7,"button",3),b("click",function(){return t.setTab("image")}),r(8," \u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F "),n()(),i(9,"div",4)(10,"input",5),v("ngModelChange",function(c){return x(t.searchTerm,c)||(t.searchTerm=c),c}),b("input",function(c){return t.onSearch(c)}),n()()(),i(11,"table",6)(12,"thead")(13,"tr")(14,"th",7),r(15,"#"),n(),i(16,"th"),r(17,"\u041F\u0440\u0435\u0432\u044C\u044E"),n(),i(18,"th"),r(19,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"),n(),i(20,"th"),r(21,"\u0422\u0438\u043F"),n(),i(22,"th"),r(23,"\u0421\u0441\u044B\u043B\u043A\u0430"),n(),i(24,"th",8),r(25,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F"),n()()(),i(26,"tbody"),h(27,Aa,21,13,"tr",9),n()(),h(28,Wa,2,0,"div",10)(29,La,2,1,"div",11)(30,Ua,2,1,"div",12),n()),o&2&&(l(3),we("tab-active",t.activeTab==="all"),l(2),we("tab-active",t.activeTab==="logo"),l(2),we("tab-active",t.activeTab==="image"),l(3),f("ngModel",t.searchTerm),l(17),d("ngForOf",t.displayedImages),l(),d("ngIf",t.displayedImages.length===0),l(),d("ngIf",t.successMessage),l(),d("ngIf",t.errorMessage))},dependencies:[G,O,W,R,z,j],styles:[".img-hover[_ngcontent-%COMP%]{transition:all .3s ease;position:relative;width:100%;max-width:500px;z-index:0;padding:40px 0}.img-hover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:150px;max-width:500px;position:relative;z-index:0;transition:all .3s ease;object-fit:contain}.img-hover[_ngcontent-%COMP%]   .img-wrapp[_ngcontent-%COMP%]{transition:all .3s ease;position:relative;cursor:pointer;z-index:0}.img-hover[_ngcontent-%COMP%]   .img-wrapp[_ngcontent-%COMP%]:after{content:none;width:500px;height:200px;transition:all .3s ease;scale:2;position:fixed;left:32vw;top:40%;z-index:0;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background:#0000000c;border-radius:15px}"]})}return a})();var ei=(()=>{class a{imageService;uploadedImages=[];constructor(e){this.imageService=e}onImageUploaded(e){this.uploadedImages.push(e),this.imageService.notifyImageAdded()}static \u0275fac=function(o){return new(o||a)(k(it))};static \u0275cmp=T({type:a,selectors:[["app-images"]],decls:22,vars:1,consts:[[1,"admin-page","ml-side","section"],[1,"container","mx-auto","pt-[10px]"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","py-[10px]","mb-[0px]","rounded-[20px]","w-[100%]","pr-4"],[1,"title-tab","text-2xl","font-bold","text-indigo-600"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24"],["fill","none","stroke","#4f45e5","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","72","stroke-dashoffset","72","d","M3 14v-9h18v14h-18v-5"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.6s","values","72;0"],["stroke-dasharray","24","stroke-dashoffset","24","stroke-width","1","d","M3 16l4 -3l3 2l6 -5l5 4"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.6s","dur","0.4s","values","24;0"],["fill","#4f45e5","fill-opacity","0"],["cx","7.5","cy","9.5","r","1.5"],["fill","freeze","attributeName","fill-opacity","begin","1s","dur","0.2s","values","0;1"],["d","M3 16l4 -3l3 2l6 -5l5 4V19H3Z"],["fill","freeze","attributeName","fill-opacity","begin","1.3s","dur","0.15s","values","0;0.3"],[1,"carousel","carousel-vertical","rounded-box","h-[90vh]","w-full"],[1,"carousel-item","h-full","w-full"],[1,"w-full",3,"imageUploaded"],[1,"carousel-item","h-full","w-full","overflow-y-scroll"],[1,"w-full",3,"images"]],template:function(o,t){o&1&&(p(0,"app-sidebar"),i(1,"section",0)(2,"div",1)(3,"div",2)(4,"h2",3),r(5,"Add Images"),n(),E(),i(6,"svg",4)(7,"g",5)(8,"path",6),p(9,"animate",7),n(),i(10,"path",8),p(11,"animate",9),n()(),i(12,"g",10)(13,"circle",11),p(14,"animate",12),n(),i(15,"path",13),p(16,"animate",14),n()()()(),M(),i(17,"div",15)(18,"div",16)(19,"app-image-upload",17),b("imageUploaded",function(c){return t.onImageUploaded(c)}),n()(),i(20,"div",18),p(21,"app-images-table",19),n()()()()),o&2&&(l(21),d("images",t.uploadedImages))},dependencies:[te,Kt,Qt]})}return a})();var Ae=class a{sanitizer;templateHeader="Enter your header text here";templateBody="Enter your body text here.";templateSecondHeader="Enter your second header text here";templateButtonText="Click Me";templateButtonLink="https://www.example.com";templateLogo="https://i.ibb.co/NdFQjKMs/x-logo-bg.png";templateMainImage="https://i.ibb.co/hFvg6bYJ/ball-letter.png";templateWaveImage="https://i.ibb.co/yBFYmQPs/wave.png";templateFooterText="If you do not wish to receive emails from us, please write to this address 1111@gmail.com.";templateSocialLinks=[{href:"https://www.facebook.com/example",src:"https://i.ibb.co/NdFQjKMs/x-logo-bg.png",alt:"Facebook",title:"Facebook"}];bodyStyle="#ffffff";wrapperBg="#ffffff";logoWrappWidth="100%";logoBg="#ffffff";logoRadius="0";logoFloat="center";logoMarginT="15px";logoMarginB="15px";logoWidth="150px";headerTitleBg="#ffffff";headercolorText="#000000";headerTitleFontSize="25px";headerTitleStyle="normal";headerTitleWeight="bold";headerTitleMarginTop="0";headerTitleMarginBottom="0";headerTitleAlign="center";headerRadius="0";headerWidth="100%";headerMarginT="10px";headerMarginB="10px";headerDecoration="none";buttonColor="#00416D";buttonTextColor="#ffffff";buttonBorderRadius="30px";buttonWidth="80%";buttonTextSize="22px";buttonRadius="30px";buttonfontWeight="bold";buttonPaddingX="8px";buttonPaddingY="16px";buttonMarginY="0px";buttonWrapperBg="#ffffff";buttonWrappPaddingY="20px";buttonBoxShadow="";buttonDropShadow="";imgW="100%";imgBg="#ffffff";imgWrapRadius="0";imgWidth="100%";imgRadius="0";imgFloat="center";imgCenter="auto";imgMrTop="0";imgMrBottom="0";waveImageWidth="100%";h2TitleAlign="center";h2TitleColor="#000000";h2TitleStyle="normal";h2TitleSize="22px";h2TitleWeight="bold";h2TitleMarginTop="10px";h2TitleMarginBottom="10px";h2TextDecoration="none";h2Bg="#ffffff";h2Radius="0";textColor="#000000";textAlign="left";textBg="#ffffff";textPdLeft="0";textPdRight="0";textRadius="0";textDescrAlign="left";textDescrColor="#000000";textDescrFont="16px";textDescrWeight="normal";textDescrStyle="normal";textDescr="none";textWrapperBg="#ffffff";textWrapperRadius="0";textPadX="20px";textPadY="20px";footerBg="#ffffff";footerTextColor="#000000";footerTextFontSize="14px";footerTextPaddingLeft="10px";footerTextPaddingRight="10px";footerTextPaddingX="10px";footerTextPaddingY="10px";socialIconWidth="32px";mainTextColor="#000000";mainTextAlign="center";btnAlign="center";mainTextBg="#ffffff";mainTextPdLeft="0px";mainTextPdRight="0";mainTextSize="18px";mainTextWeight="normal";isLogoActive=!0;isHeaderActive=!0;isMainImageActive=!0;isWaveImageActive=!1;isSecondHeaderActive=!0;isBodyActive=!0;isButtonActive=!0;isFooterActive=!0;isSocialLinksActive=!0;logoDisplay="table-row";headerDisplay="table-row";mainImageDisplay="table-row";waveImageDisplay="none";secondHeaderDisplay="block";bodyDisplay="block";buttonDisplay="block";footerDisplay="table-row";socialLinksDisplay="table-row";imgCenterLogo="auto";constructor(m,e){this.sanitizer=m,e&&this.setTemplateData(e),this.updateDisplays()}updateDisplays(){this.logoDisplay=this.isLogoActive?"table-row":"none",this.headerDisplay=this.isHeaderActive?"table-row":"none",this.mainImageDisplay=this.isMainImageActive?"table-row":"none",this.waveImageDisplay=this.isWaveImageActive?"table-row":"none",this.secondHeaderDisplay=this.isSecondHeaderActive?"block":"none",this.bodyDisplay=this.isBodyActive?"block":"none",this.buttonDisplay=this.isButtonActive?"block":"none",this.footerDisplay=this.isFooterActive?"table-row":"none",this.socialLinksDisplay=this.isSocialLinksActive?"table-row":"none"}clone(){let m=this.getTemplateData();return new a(this.sanitizer,m)}onLogoActiveChange(m){let e=m.target;this.isLogoActive=e.checked,this.updateDisplays()}onHeaderActiveChange(m){let e=m.target;this.isHeaderActive=e.checked,this.updateDisplays()}onMainImageActiveChange(m){let e=m.target;this.isMainImageActive=e.checked,this.updateDisplays()}onWaveImageActiveChange(m){let e=m.target;this.isWaveImageActive=e.checked,this.updateDisplays()}onSecondHeaderActiveChange(m){let e=m.target;this.isSecondHeaderActive=e.checked,this.updateDisplays()}onBodyActiveChange(m){let e=m.target;this.isBodyActive=e.checked,this.updateDisplays()}onButtonActiveChange(m){let e=m.target;this.isButtonActive=e.checked,this.updateDisplays()}onFooterActiveChange(m){let e=m.target;this.isFooterActive=e.checked,this.updateDisplays()}onSocialLinksActiveChange(m){let e=m.target;this.isSocialLinksActive=e.checked,this.updateDisplays()}getTemplateData(){return{content:{templateHeader:this.templateHeader,templateBody:this.templateBody,templateSecondHeader:this.templateSecondHeader,templateButtonText:this.templateButtonText,templateButtonLink:this.templateButtonLink,templateLogo:this.templateLogo,templateMainImage:this.templateMainImage,templateWaveImage:this.templateWaveImage,templateFooterText:this.templateFooterText,templateSocialLinks:this.templateSocialLinks},styles:{bodyStyle:this.bodyStyle,wrapperBg:this.wrapperBg,logoWrappWidth:this.logoWrappWidth,logoBg:this.logoBg,logoRadius:this.logoRadius,logoFloat:this.logoFloat,logoMarginT:this.logoMarginT,logoMarginB:this.logoMarginB,logoWidth:this.logoWidth,headerTitleBg:this.headerTitleBg,headercolorText:this.headercolorText,headerTitleFontSize:this.headerTitleFontSize,headerTitleStyle:this.headerTitleStyle,headerTitleWeight:this.headerTitleWeight,headerTitleMarginTop:this.headerTitleMarginTop,headerTitleMarginBottom:this.headerTitleMarginBottom,headerTitleAlign:this.headerTitleAlign,headerRadius:this.headerRadius,headerWidth:this.headerWidth,headerMarginT:this.headerMarginT,headerMarginB:this.headerMarginB,headerDecoration:this.headerDecoration,buttonColor:this.buttonColor,buttonTextColor:this.buttonTextColor,buttonBorderRadius:this.buttonBorderRadius,buttonWidth:this.buttonWidth,buttonTextSize:this.buttonTextSize,buttonRadius:this.buttonRadius,buttonfontWeight:this.buttonfontWeight,buttonPaddingX:this.buttonPaddingX,buttonPaddingY:this.buttonPaddingY,buttonMarginY:this.buttonMarginY,buttonWrapperBg:this.buttonWrapperBg,buttonWrappPaddingY:this.buttonWrappPaddingY,buttonBoxShadow:this.buttonBoxShadow,buttonDropShadow:this.buttonDropShadow,imgW:this.imgW,imgBg:this.imgBg,imgWrapRadius:this.imgWrapRadius,imgWidth:this.imgWidth,imgRadius:this.imgRadius,imgFloat:this.imgFloat,imgCenter:this.imgCenter,imgMrTop:this.imgMrTop,imgMrBottom:this.imgMrBottom,waveImageWidth:this.waveImageWidth,h2TitleAlign:this.h2TitleAlign,h2TitleColor:this.h2TitleColor,h2TitleStyle:this.h2TitleStyle,h2TitleSize:this.h2TitleSize,h2TitleWeight:this.h2TitleWeight,h2TitleMarginTop:this.h2TitleMarginTop,h2TitleMarginBottom:this.h2TitleMarginBottom,h2TextDecoration:this.h2TextDecoration,h2Bg:this.h2Bg,h2Radius:this.h2Radius,textColor:this.textColor,textAlign:this.textAlign,textBg:this.textBg,textPdLeft:this.textPdLeft,textPdRight:this.textPdRight,textRadius:this.textRadius,textDescrAlign:this.textDescrAlign,textDescrColor:this.textDescrColor,textDescrFont:this.textDescrFont,textDescrWeight:this.textDescrWeight,textDescrStyle:this.textDescrStyle,textDescr:this.textDescr,textWrapperBg:this.textWrapperBg,textWrapperRadius:this.textWrapperRadius,textPadX:this.textPadX,textPadY:this.textPadY,footerBg:this.footerBg,footerTextColor:this.footerTextColor,footerTextFontSize:this.footerTextFontSize,footerTextPaddingLeft:this.footerTextPaddingLeft,footerTextPaddingRight:this.footerTextPaddingRight,footerTextPaddingX:this.footerTextPaddingX,footerTextPaddingY:this.footerTextPaddingY,socialIconWidth:this.socialIconWidth,mainTextColor:this.mainTextColor,mainTextAlign:this.mainTextAlign,btnAlign:this.btnAlign,mainTextBg:this.mainTextBg,mainTextPdLeft:this.mainTextPdLeft,mainTextPdRight:this.mainTextPdRight,mainTextSize:this.mainTextSize,mainTextWeight:this.mainTextWeight},displayFlags:{isLogoActive:this.isLogoActive,isHeaderActive:this.isHeaderActive,isMainImageActive:this.isMainImageActive,isWaveImageActive:this.isWaveImageActive,isSecondHeaderActive:this.isSecondHeaderActive,isBodyActive:this.isBodyActive,isButtonActive:this.isButtonActive,isFooterActive:this.isFooterActive,isSocialLinksActive:this.isSocialLinksActive}}}setTemplateData(m){m.content&&Object.assign(this,m.content),m.styles&&Object.assign(this,m.styles),m.displayFlags&&Object.assign(this,m.displayFlags),this.updateDisplays()}get htmlTemplate(){return`
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xmlns:o="urn:schemas-microsoft-com:office:office" lang="ru">
<head>
<meta charset="UTF-8" />
<meta content="width=device-width, initial-scale=1" name="viewport" />
<meta name="x-apple-disable-message-reformatting" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta content="telephone=no" name="format-detection" />
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet" />
<style type="text/css">
  .rollover:hover .rollover-first { max-height: 0px !important; display: none !important; }
  .rollover:hover .rollover-second { max-height: none !important; display: block !important; }
  .rollover span { font-size: 0px; }
  u + .body img ~ div div { display: none; }
  #outlook a { padding: 0; }
  span.MsoHyperlink, span.MsoHyperlinkFollowed { color: inherit; mso-style-priority: 99; }
  a.es-button { mso-style-priority: 100 !important; text-decoration: none !important; }
  a[x-apple-data-detectors], #MessageViewBody a { color: inherit !important; text-decoration: none !important; font-size: inherit !important; font-family: inherit !important; font-weight: inherit !important; line-height: inherit !important; }
  .es-desk-hidden { display: none; float: left; overflow: hidden; width: 0; max-height: 0; line-height: 0; mso-hide: all; }
  .body-style { background: ${this.bodyStyle}; font-family: "Montserrat", sans-serif; }
  .es-wrapper-color { background: ${this.wrapperBg}; border-radius: ${this.textWrapperRadius}; overflow: hidden; max-width: 600px; margin: 0 auto; }
  .btn-wrapper { width: 100%; background: ${this.buttonWrapperBg}; padding-top: ${this.buttonWrappPaddingY}; padding-bottom: ${this.buttonWrappPaddingY}; }
  .btn-wrapper a { border: none; background: ${this.buttonColor}; padding: ${this.buttonPaddingY} ${this.buttonPaddingX}; display: block; width: ${this.buttonWidth}; border-radius: ${this.buttonBorderRadius}; color: ${this.buttonTextColor}; margin-left: auto; margin-right: auto; margin-top: ${this.buttonMarginY}; margin-bottom: ${this.buttonMarginY}; text-align: center; font-size: ${this.buttonTextSize}; font-weight: ${this.buttonfontWeight}; text-decoration: none; ${this.buttonBoxShadow?`box-shadow: ${this.buttonBoxShadow};`:""} ${this.buttonDropShadow?`filter: ${this.buttonDropShadow};`:""} }
  .logo-wrapper { width: ${this.logoWrappWidth}; background: ${this.logoBg}; height: 100%; border-radius: ${this.logoRadius}; }
  .logo-img { float: ${this.logoFloat}; margin-top: ${this.logoMarginT}; margin-bottom: ${this.logoMarginB}; width: ${this.logoWidth}; height: auto; margin-left: auto; margin-right: auto; }
  .header-title { background: ${this.headerTitleBg}; color: ${this.headercolorText}; border-radius: ${this.headerRadius}; font-weight: ${this.headerTitleWeight}; font-style: ${this.headerTitleStyle}; width: ${this.headerWidth}; text-align: ${this.headerTitleAlign}; text-decoration: ${this.headerDecoration}; }
  .header-title h1 { margin-top: ${this.headerMarginT}; margin-bottom: ${this.headerMarginB}; font-size: ${this.headerTitleFontSize}; }
  .letter-img-wrapper { width: ${this.imgW}; background: ${this.imgBg}; }
  .letter-img { width: ${this.imgWidth} !important; height: auto; border-radius: ${this.imgWrapRadius}; float: ${this.imgFloat}; margin: 0 ${this.imgCenter}; margin-top: ${this.imgMrTop}; margin-bottom: ${this.imgMrBottom}; margin-left: auto; margin-right: auto; }
  .wave-img { width: ${this.waveImageWidth} !important; height: auto; display: block; margin-left: auto; margin-right: auto; transform: translateY(5px); }
  .color-text { color: ${this.textColor}; text-align: ${this.textAlign}; background: ${this.textBg}; padding-left: ${this.textPdLeft}; padding-right: ${this.textPdRight}; border-radius: ${this.textRadius}; }
  .h2-title { text-align: ${this.h2TitleAlign}; color: ${this.h2TitleColor}; font-size: ${this.h2TitleSize}; font-weight: ${this.h2TitleWeight}; font-style: ${this.h2TitleStyle}; text-decoration: ${this.h2TextDecoration}; background: ${this.h2Bg}; border-radius: ${this.h2Radius}; }
  .h2-title-text { padding-top: ${this.h2TitleMarginTop}; padding-bottom: ${this.h2TitleMarginBottom}; }
  .text-wrapper { text-align: ${this.textDescrAlign}; color: ${this.textDescrColor}; font-size: ${this.textDescrFont}; font-weight: ${this.textDescrWeight}; font-style: ${this.textDescrStyle}; text-decoration: ${this.textDescr}; background: ${this.textWrapperBg}; border-radius: ${this.textWrapperRadius}; padding: ${this.textPadY} ${this.textPadX}; }
  .footer { background: ${this.footerBg}; color: ${this.footerTextColor}; font-size: ${this.footerTextFontSize}; padding: ${this.footerTextPaddingY} ${this.footerTextPaddingX}; text-align: center; }
  .social-links { display: flex; justify-content: center; gap: 10px; }
  .social-link img { width: ${this.socialIconWidth}; height: auto; }
  .logo-display { display: ${this.logoDisplay}; }
  .header-display { display: ${this.headerDisplay}; }
  .main-image-display { display: ${this.mainImageDisplay}; }
  .wave-image-display { display: ${this.waveImageDisplay}; }
  .second-header-display { display: ${this.secondHeaderDisplay}; }
  .body-display { display: ${this.bodyDisplay}; }
  .button-display { display: ${this.buttonDisplay}; }
  .footer-display { display: ${this.footerDisplay}; }
  .social-links-display { display: ${this.socialLinksDisplay}; }
  .main-text { color: ${this.mainTextColor}; text-align: ${this.mainTextAlign}; background: ${this.mainTextBg}; padding-left: ${this.mainTextPdLeft}; padding-right: ${this.mainTextPdRight}; font-size: ${this.mainTextSize}; font-weight: ${this.mainTextWeight}; }
  @media only screen and (max-width: 600px) {
    .es-content table, .es-header table, .es-footer table, .es-content, .es-footer, .es-header { width: 100% !important; max-width: 600px !important; }
    .esd-block-image img { width: 100% !important; max-width: 350px; height: auto !important; }
    .header-title h1 { font-size: 20px; text-align: center; }
    .h2-title { font-size: 18px; }
    .text-wrapper p { font-size: 14px; }
    .btn-wrapper a { font-size: 18px !important; padding: 10px 20px !important; }
    .footer { font-size: 12px; }
  }
</style>
</head>
<body class="body body-style">
<div dir="ltr" class="es-wrapper-color">
  <table width="100%" cellspacing="0" cellpadding="0" class="es-wrapper">
    <tbody>
      <tr>
        <td valign="top" class="esd-email-paddings es-m-margin">
          <table cellspacing="0" cellpadding="0" align="center" class="esd-header-popover es-header">
            <tbody>
              <tr class="logo-display">
                <td align="center" class="esd-stripe">
                  <table width="600" cellspacing="0" cellpadding="0" align="center" class="es-header-body" style="background-color: transparent">
                    <tbody>
                      <tr>
                        <td align="left" class="esd-structure">
                          <table cellpadding="0" cellspacing="0" width="100%">
                            <tbody>
                              <tr>
                                <td width="600" align="center" valign="top" class="esd-container-frame">
                                  <table cellpadding="0" cellspacing="0" width="100%">
                                    <tbody>
                                      <tr>
                                        <td align="center" height="40" class="esd-block-spacer logo-wrapper">
                                          <img class="logo-img" src="${this.templateLogo}" alt="Logo" />
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
              <tr class="header-display">
                <td align="left" bgcolor="#ffffff" class="esd-structure es-p20" style="background-color: #ffffff">
                  <table cellpadding="0" cellspacing="0" width="100%">
                    <tbody>
                      <tr>
                        <td width="560" align="center" valign="top" class="esd-container-frame">
                          <table cellpadding="0" cellspacing="0" width="100%">
                            <tbody>
                              <tr>
                                <td align="center" class="esd-block-text header-title">
                                  <h1>${this.templateHeader}</h1>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
            </tbody>
          </table>
          <table cellspacing="0" cellpadding="0" align="center" class="es-content">
            <tbody>
              <tr>
                <td align="center" class="esd-stripe">
                  <table width="600" cellspacing="0" cellpadding="0" align="center" class="es-content-body" style="background-color: transparent">
                    <tbody>
                      <tr class="main-image-display">
                        <td align="left" class="esd-structure">
                          <table cellpadding="0" cellspacing="0" width="100%">
                            <tbody>
                              <tr>
                                <td width="600" align="center" valign="top" class="esd-container-frame">
                                  <table cellpadding="0" cellspacing="0" width="100%">
                                    <tbody>
                                      <tr>
                                        <td class="letter-img-wrapper">
                                          <img class="letter-img" src="${this.templateMainImage}" alt="Main Image" style="display: block" />
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </td>
                      </tr>
                      <tr class="wave-image-display">
                        <td align="center" class="esd-structure">
                          <table cellpadding="0" cellspacing="0" width="100%">
                            <tbody>
                              <tr>
                                <td width="600" align="center" class="esd-container-frame">
                                  <img class="wave-img" src="${this.templateWaveImage}" alt="Wave Image" />
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </td>
                      </tr>
                      <tr>
                        <td align="left" class="esd-structure es-p25t es-p10b es-p25r es-p25l" style="background-color: #ffffff;">
                          <table width="100%" cellspacing="0" cellpadding="0">
                            <tbody>
                              <tr>
                                <td width="550" align="center" valign="top" class="esd-container-frame">
                                  <table width="100%" cellspacing="0" cellpadding="0">
                                    <tbody>

                                      <tr style="display: ${this.secondHeaderDisplay};">
                                        <td align="${this.h2TitleAlign}" class="esd-block-text h2-title" style="padding: 10px 20px; display: inline-block; width: 100%;">
                                          <h2 style="margin: ${this.h2TitleMarginTop} 0 ${this.h2TitleMarginBottom} 0; 
                                                    font-size: ${this.h2TitleSize}; 
                                                    font-weight: ${this.h2TitleWeight}; 
                                                    color: ${this.h2TitleColor}; 
                                                    text-decoration: ${this.h2TextDecoration};
                                                    line-height: 1.2;">
                                            ${this.templateSecondHeader}
                                          </h2>
                                        </td>
                                      </tr>

                                      <tr style="display: ${this.bodyDisplay};">
                                        <td align="${this.mainTextAlign}" 
                                            style="padding: 20px; 
                                                  color: ${this.mainTextColor}; 
                                                  font-size: ${this.mainTextSize}; 
                                                  line-height: 1.8; 
                                                  font-weight: ${this.mainTextWeight};">
                                          ${this.templateBody.replace(/\r\n/g,`
`).replace(/\n\n+/g,"<br><br>").replace(/\n/g,"<br>")}
                                        </td>
                                      </tr>

                                      <tr style="display: ${this.buttonDisplay}; width: 100%;">
                                        <td align="center" style="padding: 20px; display: block;">
                                          <a href="${this.templateButtonLink}" 
                                            target="_blank"
                                            style="background: ${this.buttonColor};
                                                    color: ${this.buttonTextColor};
                                                    padding: ${this.buttonPaddingY} ${this.buttonPaddingX};
                                                    font-size: ${this.buttonTextSize};
                                                    font-weight: ${this.buttonfontWeight};
                                                    text-decoration: none;
                                                    border-radius: ${this.buttonBorderRadius};
                                                    display: inline-block;
                                                    width: ${this.buttonWidth};
                                                    float: ${this.btnAlign};
                                                    margin-bottom: 10px;
                                                    "
                                                    >
                                            ${this.templateButtonText}
                                          </a>
                                        </td>
                                      </tr>

                                    </tbody>
                                  </table>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </td>
                      </tr>
                      <tr class="footer-display">
                        <td align="center" class="esd-structure footer">
                          <table width="100%" cellspacing="0" cellpadding="0">
                            <tbody>
                              <tr>
                                <td width="600" align="center" class="esd-container-frame">
                                  <p>${this.templateFooterText}</p>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
            </tbody>
          </table>
        </td>
      </tr>
    </tbody>
  </table>
</div>
</body>
</html>
    `}get safeHtmlTemplate(){return this.sanitizer.bypassSecurityTrustHtml(this.htmlTemplate)}resetTemplate(){this.templateHeader="Enter your header text here",this.templateBody="Enter your body text here.",this.templateSecondHeader="Enter your second header text here",this.templateButtonText="Click Me",this.templateButtonLink="https://www.example.com",this.templateLogo="https://i.ibb.co/NdFQjKMs/x-logo-bg.png",this.templateMainImage="https://i.ibb.co/hFvg6bYJ/ball-letter.png",this.templateWaveImage="https://i.ibb.co/yBFYmQPs/wave.png",this.templateFooterText="If you do not wish to receive emails from us, please write to this address 1111@gmail.com.",this.templateSocialLinks=[{href:"https://www.facebook.com/example",src:"https://i.ibb.co/NdFQjKMs/x-logo-bg.png",alt:"Facebook",title:"Facebook"}],this.isLogoActive=!0,this.isHeaderActive=!0,this.isMainImageActive=!0,this.isWaveImageActive=!1,this.isSecondHeaderActive=!0,this.isBodyActive=!0,this.isButtonActive=!0,this.isFooterActive=!0,this.isSocialLinksActive=!0,this.updateDisplays()}};var ti=[{header:"Name",key:"first_name",class:"text-gray-800 font-bold"},{header:"Email",key:"email",class:"text-indigo-400"},{header:"Lang",key:"language_code"},{header:"Date",key:"created_at",pipe:"date",pipeFormat:"dd.MM.yyyy"}],ii=[{header:"Name",key:"user_name",class:"text-gray-800 font-bold"},{header:"Email",key:"email",class:"text-indigo-400"},{header:"Site",key:"site_url"},{header:"Date",key:"updated_at",pipe:"date",pipeFormat:"dd.MM.yyyy"}];var We=(()=>{class a{http;apiUrl=ee.auth.baseUrl+"/users-sites";constructor(e){this.http=e}getSiteUsers(){return this.http.get(this.apiUrl).pipe(ie(this.handleError))}deleteSiteUser(e){return this.http.delete(`${this.apiUrl}/${e}`).pipe(ie(this.handleError))}handleError(e){let o="An error occurred";return e.status===404?o="User not found":e.error instanceof ErrorEvent?o=`Error: ${e.error.message}`:o=`Server returned code ${e.status}: ${e.message}`,be(()=>new Error(o))}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var nt=(()=>{class a{http;apiUrlEmail=ee.auth.baseUrl+"/users";constructor(e){this.http=e}sendBulkEmails(e,o,t,s=!0){return this.http.post(`${this.apiUrlEmail}/email/send-bulk`,{emails:e,subject:o,content:t,isHtml:s}).pipe(Ne(c=>{console.log("Raw server response:",c)}),ie(this.handleError))}handleError(e){console.error("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430:",e);let o="\u041E\u0448\u0438\u0431\u043A\u0430 \u043D\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435";return e.status===0?o="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0441\u0435\u0442\u044C \u0438\u043B\u0438 CORS-\u043F\u043E\u043B\u0438\u0442\u0438\u043A\u0443.":e.status>=400&&(o=`\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ${e.status} ${e.statusText}`),be(o)}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var at=(()=>{class a{http;sanitizer;apiUrl=`${B.auth.baseUrl}/email-templates`;constructor(e,o){this.http=e,this.sanitizer=o}getTemplates(){return this.http.get(this.apiUrl).pipe(ke(e=>e.map(o=>{let t;try{let H=o.templateData.trim();H.startsWith('"')&&H.endsWith('"')&&(H=H.slice(1,-1)),H=H.replace(/\\"/g,'"'),t=JSON.parse(H)}catch(H){console.error("\u041A\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043A\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0430\u0440\u0441\u0438\u043D\u0433\u0430 \u0448\u0430\u0431\u043B\u043E\u043D\u0430:",o.name,H),t={}}let s=t.content||t,c=t.styles||t,y=t.displayFlags||t,F={templateHeader:s.templateHeader||"Enter your header text here",templateBody:s.templateBody||"Enter your body text here.",templateSecondHeader:s.templateSecondHeader||"Enter your second header text here",templateButtonText:s.templateButtonText||"Click Me",templateButtonLink:s.templateButtonLink||"https://www.example.com",templateLogo:s.templateLogo||"https://i.ibb.co/NdFQjKMs/x-logo-bg.png",templateMainImage:s.templateMainImage||"https://i.ibb.co/hFvg6bYJ/ball-letter.png",templateWaveImage:s.templateWaveImage||"https://i.ibb.co/yBFYmQPs/wave.png",templateFooterText:s.templateFooterText||"If you do not wish to receive emails from us, please write to this address 1111@gmail.com.",templateSocialLinks:s.templateSocialLinks||[{href:"https://www.facebook.com/example",src:"https://i.ibb.co/NdFQjKMs/x-logo-bg.png",alt:"Facebook",title:"Facebook"}]},N={bodyStyle:c.bodyStyle||"#ffffff",wrapperBg:c.wrapperBg||"#ffffff",logoWrappWidth:c.logoWrappWidth||"100%",logoBg:c.logoBg||"#ffffff",logoRadius:c.logoRadius||"0",logoFloat:c.logoFloat||"center",logoMarginT:c.logoMarginT||"15px",logoMarginB:c.logoMarginB||"15px",logoWidth:c.logoWidth||"150px",headerTitleBg:c.headerTitleBg||"#ffffff",headercolorText:c.headercolorText||"#000000",headerTitleFontSize:c.headerTitleFontSize||"25px",headerTitleStyle:c.headerTitleStyle||"normal",headerTitleWeight:c.headerTitleWeight||"bold",headerTitleMarginTop:c.headerTitleMarginTop||"0",headerTitleMarginBottom:c.headerTitleMarginBottom||"0",headerTitleAlign:c.headerTitleAlign||"center",headerRadius:c.headerRadius||"0",headerWidth:c.headerWidth||"100%",headerMarginT:c.headerMarginT||"10px",headerMarginB:c.headerMarginB||"10px",headerDecoration:c.headerDecoration||"none",buttonColor:c.buttonColor||"#00416D",buttonTextColor:c.buttonTextColor||"#ffffff",buttonBorderRadius:c.buttonBorderRadius||"30px",buttonWidth:c.buttonWidth||"80%",buttonTextSize:c.buttonTextSize||"22px",buttonRadius:c.buttonRadius||"30px",buttonfontWeight:c.buttonfontWeight||"bold",buttonPaddingX:c.buttonPaddingX||"8px",buttonPaddingY:c.buttonPaddingY||"16px",buttonMarginY:c.buttonMarginY||"0px",buttonWrapperBg:c.buttonWrapperBg||"#ffffff",buttonWrappPaddingY:c.buttonWrappPaddingY||"20px",buttonBoxShadow:c.buttonBoxShadow||"",buttonDropShadow:c.buttonDropShadow||"",imgW:c.imgW||"100%",imgBg:c.imgBg||"#ffffff",imgWrapRadius:c.imgWrapRadius||"0",imgWidth:c.imgWidth||"100%",imgRadius:c.imgRadius||"0",imgFloat:c.imgFloat||"center",imgCenter:c.imgCenter||"auto",imgMrTop:c.imgMrTop||"0",imgMrBottom:c.imgMrBottom||"0",waveImageWidth:c.waveImageWidth||"100%",h2TitleAlign:c.h2TitleAlign||"center",h2TitleColor:c.h2TitleColor||"#000000",h2TitleStyle:c.h2TitleStyle||"normal",h2TitleSize:c.h2TitleSize||"22px",h2TitleWeight:c.h2TitleWeight||"bold",h2TitleMarginTop:c.h2TitleMarginTop||"10px",h2TitleMarginBottom:c.h2TitleMarginBottom||"10px",h2TextDecoration:c.h2TextDecoration||"none",h2Bg:c.h2Bg||"#ffffff",h2Radius:c.h2Radius||"0",textColor:c.textColor||"#000000",textAlign:c.textAlign||"left",textBg:c.textBg||"#ffffff",textPdLeft:c.textPdLeft||"0",textPdRight:c.textPdRight||"0",textRadius:c.textRadius||"0",textDescrAlign:c.textDescrAlign||"left",textDescrColor:c.textDescrColor||"#000000",textDescrFont:c.textDescrFont||"16px",textDescrWeight:c.textDescrWeight||"normal",textDescrStyle:c.textDescrStyle||"normal",textDescr:c.textDescr||"none",textWrapperBg:c.textWrapperBg||"#ffffff",textWrapperRadius:c.textWrapperRadius||"0",textPadX:c.textPadX||"20px",textPadY:c.textPadY||"20px",footerBg:c.footerBg||"#ffffff",footerTextColor:c.footerTextColor||"#000000",footerTextFontSize:c.footerTextFontSize||"14px",footerTextPaddingLeft:c.footerTextPaddingLeft||"10px",footerTextPaddingRight:c.footerTextPaddingRight||"10px",footerTextPaddingX:c.footerTextPaddingX||"10px",footerTextPaddingY:c.footerTextPaddingY||"10px",socialIconWidth:c.socialIconWidth||"32px",mainTextColor:c.mainTextColor||"#000000",mainTextAlign:c.mainTextAlign||"left",mainTextBg:c.mainTextBg||"#ffffff",mainTextPdLeft:c.mainTextPdLeft||"0px",mainTextPdRight:c.mainTextPdRight||"0",mainTextSize:c.mainTextSize||"18px",mainTextWeight:c.mainTextWeight||"normal"},$={isLogoActive:y.isLogoActive??!0,isHeaderActive:y.isHeaderActive??!0,isMainImageActive:y.isMainImageActive??!0,isWaveImageActive:y.isWaveImageActive??!1,isSecondHeaderActive:y.isSecondHeaderActive??!0,isBodyActive:y.isBodyActive??!0,isButtonActive:y.isButtonActive??!0,isFooterActive:y.isFooterActive??!0,isSocialLinksActive:y.isSocialLinksActive??!0},oe=new Ae(this.sanitizer,{content:F,styles:N,displayFlags:$});return{id:o.id,name:o.name,instance:oe}})))}saveTemplate(e,o){return this.http.get(this.apiUrl).pipe(pt(t=>{if(t.some(c=>c.name.toLowerCase()===e.toLowerCase()))throw new Error("\u0428\u0430\u0431\u043B\u043E\u043D \u0441 \u0442\u0430\u043A\u0438\u043C \u0438\u043C\u0435\u043D\u0435\u043C \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");return this.http.post(this.apiUrl,{name:e,templateData:JSON.stringify(o)})}))}updateTemplate(e,o,t){return this.http.put(`${this.apiUrl}/${e}`,{name:o,templateData:JSON.stringify(t)})}deleteTemplate(e){return this.http.delete(`${this.apiUrl}/${e}`)}static \u0275fac=function(o){return new(o||a)(A(U),A(Xe))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function za(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function ja(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function Ra(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function Ha(a,m){if(a&1&&p(0,"div",12),a&2){let e=u().$implicit;d("innerHTML",e.content,Re)}}function $a(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u().$implicit;l(),C(e.content)}}function Ga(a,m){if(a&1&&(i(0,"tr")(1,"td"),r(2),n(),i(3,"td")(4,"a",7),r(5),n()(),i(6,"td"),r(7),n(),i(8,"td")(9,"div",8)(10,"div",9),r(11),n(),i(12,"div",10),h(13,Ha,1,1,"div",11)(14,$a,2,1,"span",5),n()()(),i(15,"td"),r(16),n(),i(17,"td"),r(18),D(19,"dateFormat"),n()()),a&2){let e=m.$implicit,o=m.index;l(2),C(o+1),l(2),d("href","mailto:"+e.email,L),l(),C(e.email||"-"),l(2),C(e.subject),l(4),w(" ",e.subject||"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435"," "),l(2),d("ngIf",e.content.includes("<html")),l(),d("ngIf",!e.content.includes("<html")),l(2),C(e.status),l(2),C(gt(19,9,e.sentAt))}}function qa(a,m){if(a&1){let e=S();i(0,"div",1)(1,"h2",2),r(2," \u{1F973} Email - \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043E \u043F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B\u044F\u043C "),n(),i(3,"table",3)(4,"thead")(5,"tr")(6,"th"),r(7,"$"),n(),i(8,"th",4),b("click",function(){g(e);let t=u();return _(t.toggleSort("email"))}),r(9," Email "),h(10,za,2,1,"span",5),n(),i(11,"th",4),b("click",function(){g(e);let t=u();return _(t.toggleSort("subject"))}),r(12," \u0422\u0435\u043C\u0430 "),h(13,ja,2,1,"span",5),n(),i(14,"th"),r(15,"\u0421\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u0435"),n(),i(16,"th"),r(17,"\u0421\u0442\u0430\u0442\u0443\u0441"),n(),i(18,"th",4),b("click",function(){g(e);let t=u();return _(t.toggleSort("sentAt"))}),r(19," \u0414\u0430\u0442\u0430 "),h(20,Ra,2,1,"span",5),n()()(),i(21,"tbody"),h(22,Ga,20,11,"tr",6),D(23,"sort"),n()()()}if(a&2){let e=u();l(10),d("ngIf",e.sortBy==="email"),l(3),d("ngIf",e.sortBy==="subject"),l(7),d("ngIf",e.sortBy==="sentAt"),l(2),d("ngForOf",_t(23,4,e.emailMessages,e.sortBy,e.ascending))}}var oi=(()=>{class a{_emailMessages=[];set emailMessages(e){this._emailMessages=e||[],this.sortMessages()}get emailMessages(){return this._emailMessages}sortBy="sentAt";ascending=!1;toggleSort(e){this.sortBy===e?this.ascending=!this.ascending:(this.sortBy=e,this.ascending=!0),this.sortMessages()}sortMessages(){if(!this.sortBy||!this._emailMessages.length){this._emailMessages=[...this._emailMessages];return}}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=T({type:a,selectors:[["app-emails-table"]],inputs:{emailMessages:"emailMessages"},decls:1,vars:1,consts:[["class","mt-8",4,"ngIf"],[1,"mt-8"],[1,"block","text-lg","text-indigo-400","font-bold","mb-4","ml-2"],[1,"table","w-full"],[1,"cursor-pointer",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-blue-500","hover:underline",3,"href"],["tabindex","0",1,"collapse","collapse-arrow"],[1,"collapse-title","font-semibold"],[1,"collapse-content","text-sm","bg-base-100","rounded-xl"],["class","h-full overflow-auto bg-base-200 rounded-xl",3,"innerHTML",4,"ngIf"],[1,"h-full","overflow-auto","bg-base-200","rounded-xl",3,"innerHTML"]],template:function(o,t){o&1&&h(0,qa,24,8,"div",0),o&2&&d("ngIf",t.emailMessages.length>0)},dependencies:[O,W,Mt,Tt]})}return a})();function Xa(a,m){if(a&1){let e=S();i(0,"div",3)(1,"h2",4),r(2," \u270D\u{1F3FB} \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u043E\u043D\u0442\u0435\u043D\u0442 \u043F\u0438\u0441\u044C\u043C\u0430 "),n(),i(3,"div",5)(4,"label",6),r(5,"URL \u043B\u043E\u0433\u043E\u0442\u0438\u043F\u0430:"),n(),i(6,"input",7),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.templateLogo,t)||(s.emailTemplate.templateLogo=t),_(t)}),n()(),i(7,"div",5)(8,"label",6),r(9,"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A:"),n(),i(10,"input",8),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.templateHeader,t)||(s.emailTemplate.templateHeader=t),_(t)}),b("ngModelChange",function(){g(e);let t=u();return _(t.onModelChange())}),n()(),i(11,"div",5)(12,"label",6),r(13,"URL \u0433\u043B\u0430\u0432\u043D\u043E\u0433\u043E \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F:"),n(),i(14,"input",7),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.templateMainImage,t)||(s.emailTemplate.templateMainImage=t),_(t)}),n()(),i(15,"div",5)(16,"label",6),r(17,"URL \u0432\u043E\u043B\u043D\u043E\u0432\u043E\u0433\u043E \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F:"),n(),i(18,"input",7),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.templateWaveImage,t)||(s.emailTemplate.templateWaveImage=t),_(t)}),b("ngModelChange",function(){g(e);let t=u();return _(t.onModelChange())}),n()(),i(19,"div",5)(20,"label",6),r(21,"\u0422\u0435\u043A\u0441\u0442 \u0432\u0442\u043E\u0440\u043E\u0433\u043E \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0430:"),n(),i(22,"input",8),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.templateSecondHeader,t)||(s.emailTemplate.templateSecondHeader=t),_(t)}),b("ngModelChange",function(){g(e);let t=u();return _(t.onModelChange())}),n()(),i(23,"div",9)(24,"label",10),r(25),i(26,"span",11),E(),i(27,"svg",12),p(28,"path",13),n()()(),M(),i(29,"textarea",14),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.templateBody,t)||(s.emailTemplate.templateBody=t),_(t)}),b("ngModelChange",function(){g(e);let t=u();return _(t.onModelChange())}),n()(),i(30,"div",5)(31,"label",6),r(32,"\u0422\u0435\u043A\u0441\u0442 \u043A\u043D\u043E\u043F\u043A\u0438:"),n(),i(33,"input",8),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.templateButtonText,t)||(s.emailTemplate.templateButtonText=t),_(t)}),b("ngModelChange",function(){g(e);let t=u();return _(t.onModelChange())}),n()(),i(34,"div",5)(35,"label",6),r(36,"\u0421\u0441\u044B\u043B\u043A\u0430 \u043A\u043D\u043E\u043F\u043A\u0438:"),n(),i(37,"input",15),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.templateButtonLink,t)||(s.emailTemplate.templateButtonLink=t),_(t)}),b("ngModelChange",function(){g(e);let t=u();return _(t.onModelChange())}),n()(),i(38,"div",5)(39,"label",6),r(40,"\u0422\u0435\u043A\u0441\u0442 \u0444\u0443\u0442\u0435\u0440\u0430:"),n(),i(41,"input",8),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.templateFooterText,t)||(s.emailTemplate.templateFooterText=t),_(t)}),b("ngModelChange",function(){g(e);let t=u();return _(t.onModelChange())}),n()(),i(42,"h2",4),r(43," \u{1F3A8} \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0442\u0438\u043B\u0438 \u043F\u0438\u0441\u044C\u043C\u0430 "),n(),i(44,"div",16)(45,"div",17)(46,"label",18),r(47," \u0426\u0432\u0435\u0442 \u0444\u043E\u043D\u0430 \u0442\u0435\u043B\u0430: "),i(48,"span",19),r(49),n()(),i(50,"input",20),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.bodyStyle,t)||(s.emailTemplate.bodyStyle=t),_(t)}),n()(),i(51,"div",17)(52,"label",18),r(53," \u0417\u0430\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0442\u0435\u043B\u0430 \u043F\u0438\u0441\u044C\u043C\u0430: "),n(),i(54,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textWrapperRadius,t)||(s.emailTemplate.textWrapperRadius=t),_(t)}),n()()(),i(55,"div",17)(56,"label",18),r(57," \u0426\u0432\u0435\u0442 \u0444\u043E\u043D\u0430 \u043E\u0431\u0435\u0440\u0442\u043A\u0438: "),i(58,"span",19),r(59),n()(),i(60,"input",22),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.wrapperBg,t)||(s.emailTemplate.wrapperBg=t),_(t)}),n()(),i(61,"div",23)(62,"div",24)(63,"h3",25),r(64," \u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0442\u0438\u043B\u044F\u043C\u0438 \u043B\u043E\u0433\u043E\u0442\u0438\u043F\u0430 "),n(),i(65,"div",26)(66,"label",27),r(67,"\u0410\u043A\u0442\u0438\u0432\u0435\u043D"),n(),i(68,"input",28),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.isLogoActive,t)||(s.emailTemplate.isLogoActive=t),_(t)}),n()()(),i(69,"div",16)(70,"div",29)(71,"label",27),r(72,"\u0428\u0438\u0440\u0438\u043D\u0430 \u043E\u0431\u0435\u0440\u0442\u043A\u0438"),n(),i(73,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.logoWrappWidth,t)||(s.emailTemplate.logoWrappWidth=t),_(t)}),n()(),i(74,"div",30)(75,"label",27),r(76,"\u0426\u0432\u0435\u0442 \u0444\u043E\u043D\u0430:"),n(),i(77,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.logoBg,t)||(s.emailTemplate.logoBg=t),_(t)}),n(),i(78,"span",32),r(79),n()(),i(80,"div",33)(81,"label",27),r(82,"\u0420\u0430\u0434\u0438\u0443\u0441 \u043B\u043E\u0433\u043E\u0442\u0438\u043F\u0430:"),n(),i(83,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.logoRadius,t)||(s.emailTemplate.logoRadius=t),_(t)}),n()(),i(84,"div",29)(85,"label",27),r(86,"\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435:"),n(),i(87,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.logoFloat,t)||(s.emailTemplate.logoFloat=t),_(t)}),i(88,"option",35),r(89,"\u041B\u0435\u0432\u043E"),n(),i(90,"option",36),r(91,"\u0426\u0435\u043D\u0442\u0440"),n(),i(92,"option",37),r(93,"\u041F\u0440\u0430\u0432\u043E"),n()()(),i(94,"div",29)(95,"label",27),r(96,"\u041E\u0442\u0441\u0442\u0443\u043F \u0441\u0432\u0435\u0440\u0445\u0443:"),n(),i(97,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.logoMarginT,t)||(s.emailTemplate.logoMarginT=t),_(t)}),n()(),i(98,"div",29)(99,"label",27),r(100,"\u041E\u0442\u0441\u0442\u0443\u043F \u0441\u043D\u0438\u0437\u0443:"),n(),i(101,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.logoMarginB,t)||(s.emailTemplate.logoMarginB=t),_(t)}),n()(),i(102,"div",29)(103,"label",27),r(104,"\u0428\u0438\u0440\u0438\u043D\u0430 \u043B\u043E\u0433\u043E\u0442\u0438\u043F\u0430:"),n(),i(105,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.logoWidth,t)||(s.emailTemplate.logoWidth=t),_(t)}),n()()()(),i(106,"div",38)(107,"div",24)(108,"h3",25),r(109," \u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0442\u0438\u043B\u044F\u043C\u0438 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0430 "),n(),i(110,"div",26)(111,"label",27),r(112,"\u0410\u043A\u0442\u0438\u0432\u0435\u043D"),n(),i(113,"input",28),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.isHeaderActive,t)||(s.emailTemplate.isHeaderActive=t),_(t)}),n()()(),i(114,"div",16)(115,"div",30)(116,"label",27),r(117,"\u0426\u0432\u0435\u0442 \u0444\u043E\u043D\u0430:"),n(),i(118,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.headerTitleBg,t)||(s.emailTemplate.headerTitleBg=t),_(t)}),n(),i(119,"span",32),r(120),n()(),i(121,"div",30)(122,"label",27),r(123,"\u0426\u0432\u0435\u0442 \u0442\u0435\u043A\u0441\u0442\u0430:"),n(),i(124,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.headercolorText,t)||(s.emailTemplate.headercolorText=t),_(t)}),n(),i(125,"span",32),r(126),n()(),i(127,"div",33)(128,"label",27),r(129,"\u0420\u0430\u0437\u043C\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430:"),n(),i(130,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.headerTitleFontSize,t)||(s.emailTemplate.headerTitleFontSize=t),_(t)}),n()(),i(131,"div",33)(132,"label",27),r(133,"\u041D\u0430\u043A\u043B\u043E\u043D \u0448\u0440\u0438\u0444\u0442\u0430:"),n(),i(134,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.headerTitleStyle,t)||(s.emailTemplate.headerTitleStyle=t),_(t)}),i(135,"option",39),r(136,"\u041E\u0431\u044B\u0447\u043D\u044B\u0439"),n(),i(137,"option",40),r(138,"\u041A\u0443\u0440\u0441\u0438\u0432"),n()()(),i(139,"div",33)(140,"label",27),r(141,"\u0416\u0438\u0440\u043D\u043E\u0441\u0442\u044C \u0448\u0440\u0438\u0444\u0442\u0430:"),n(),i(142,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.headerTitleWeight,t)||(s.emailTemplate.headerTitleWeight=t),_(t)}),i(143,"option",39),r(144,"\u041E\u0431\u044B\u0447\u043D\u044B\u0439"),n(),i(145,"option",41),r(146,"\u0416\u0438\u0440\u043D\u044B\u0439"),n()()(),i(147,"div",33)(148,"label",27),r(149,"\u041E\u0442\u0441\u0442\u0443\u043F \u0441\u0432\u0435\u0440\u0445\u0443:"),n(),i(150,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.headerTitleMarginTop,t)||(s.emailTemplate.headerTitleMarginTop=t),_(t)}),n()(),i(151,"div",33)(152,"label",27),r(153,"\u041E\u0442\u0441\u0442\u0443\u043F \u0441\u043D\u0438\u0437\u0443:"),n(),i(154,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.headerTitleMarginBottom,t)||(s.emailTemplate.headerTitleMarginBottom=t),_(t)}),n()(),i(155,"div",33)(156,"label",27),r(157,"\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435:"),n(),i(158,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.headerTitleAlign,t)||(s.emailTemplate.headerTitleAlign=t),_(t)}),i(159,"option",36),r(160,"\u0426\u0435\u043D\u0442\u0440"),n(),i(161,"option",35),r(162,"\u041B\u0435\u0432\u043E"),n(),i(163,"option",37),r(164,"\u041F\u0440\u0430\u0432\u043E"),n()()(),i(165,"div",33)(166,"label",27),r(167,"\u0417\u0430\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435:"),n(),i(168,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.headerRadius,t)||(s.emailTemplate.headerRadius=t),_(t)}),n()(),i(169,"div",33)(170,"label",27),r(171,"\u0428\u0438\u0440\u0438\u043D\u0430 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0430:"),n(),i(172,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.headerWidth,t)||(s.emailTemplate.headerWidth=t),_(t)}),n()(),i(173,"div",33)(174,"label",27),r(175,"\u0414\u0435\u043A\u043E\u0440\u0430\u0446\u0438\u044F \u0442\u0435\u043A\u0441\u0442\u0430 h1:"),n(),i(176,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.headerDecoration,t)||(s.emailTemplate.headerDecoration=t),_(t)}),i(177,"option",42),r(178,"\u041D\u0435\u0442"),n(),i(179,"option",43),r(180,"\u041F\u043E\u0434\u0447\u0435\u0440\u043A\u043D\u0443\u0442\u044B\u0439"),n()()()()(),i(181,"div",44)(182,"div",24)(183,"h3",25),r(184," \u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0442\u0438\u043B\u044F\u043C\u0438 \u0433\u043B\u0430\u0432\u043D\u043E\u0433\u043E \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F "),n(),i(185,"div",26)(186,"label",27),r(187,"\u0410\u043A\u0442\u0438\u0432\u0435\u043D"),n(),i(188,"input",28),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.isMainImageActive,t)||(s.emailTemplate.isMainImageActive=t),_(t)}),n()()(),i(189,"div",16)(190,"div",33)(191,"label",27),r(192,"\u0428\u0438\u0440\u0438\u043D\u0430 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F:"),n(),i(193,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.imgWidth,t)||(s.emailTemplate.imgWidth=t),_(t)}),n()(),i(194,"div",30)(195,"label",27),r(196,"\u0426\u0432\u0435\u0442 \u0444\u043E\u043D\u0430:"),n(),i(197,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.imgBg,t)||(s.emailTemplate.imgBg=t),_(t)}),n(),i(198,"span",32),r(199),n()(),i(200,"div",33)(201,"label",27),r(202,"\u0417\u0430\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u043E\u0431\u0435\u0440\u0442\u043A\u0438:"),n(),i(203,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.imgWrapRadius,t)||(s.emailTemplate.imgWrapRadius=t),_(t)}),n()(),i(204,"div",33)(205,"label",27),r(206,"\u0417\u0430\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F:"),n(),i(207,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.imgRadius,t)||(s.emailTemplate.imgRadius=t),_(t)}),n()(),i(208,"div",33)(209,"label",27),r(210,"\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435:"),n(),i(211,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.imgFloat,t)||(s.emailTemplate.imgFloat=t),_(t)}),i(212,"option",35),r(213,"\u041B\u0435\u0432\u043E"),n(),i(214,"option",36),r(215,"\u0426\u0435\u043D\u0442\u0440"),n(),i(216,"option",37),r(217,"\u041F\u0440\u0430\u0432\u043E"),n()()(),i(218,"div",33)(219,"label",27),r(220,"\u041E\u0442\u0441\u0442\u0443\u043F \u0441\u0432\u0435\u0440\u0445\u0443:"),n(),i(221,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.imgMrTop,t)||(s.emailTemplate.imgMrTop=t),_(t)}),n()(),i(222,"div",33)(223,"label",27),r(224,"\u041E\u0442\u0441\u0442\u0443\u043F \u0441\u043D\u0438\u0437\u0443:"),n(),i(225,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.imgMrBottom,t)||(s.emailTemplate.imgMrBottom=t),_(t)}),n()()()(),i(226,"div",45)(227,"div",24)(228,"h3",25),r(229," \u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0442\u0438\u043B\u044F\u043C\u0438 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0430 h2 "),n(),i(230,"div",26)(231,"label",27),r(232,"\u0410\u043A\u0442\u0438\u0432\u0435\u043D"),n(),i(233,"input",28),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.isSecondHeaderActive,t)||(s.emailTemplate.isSecondHeaderActive=t),_(t)}),n()()(),i(234,"div",16)(235,"div",33)(236,"label",27),r(237,"\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435:"),n(),i(238,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.h2TitleAlign,t)||(s.emailTemplate.h2TitleAlign=t),_(t)}),i(239,"option",35),r(240,"\u041B\u0435\u0432\u043E"),n(),i(241,"option",36),r(242,"\u0426\u0435\u043D\u0442\u0440"),n(),i(243,"option",37),r(244,"\u041F\u0440\u0430\u0432\u043E"),n()()(),i(245,"div",30)(246,"label",27),r(247,"\u0426\u0432\u0435\u0442 h2:"),n(),i(248,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.h2TitleColor,t)||(s.emailTemplate.h2TitleColor=t),_(t)}),n(),i(249,"span",32),r(250),n()(),i(251,"div",30)(252,"label",27),r(253,"\u0426\u0432\u0435\u0442 \u0444\u043E\u043D\u0430:"),n(),i(254,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.h2Bg,t)||(s.emailTemplate.h2Bg=t),_(t)}),n(),i(255,"span",32),r(256),n()(),i(257,"div",33)(258,"label",27),r(259,"\u041D\u0430\u043A\u043B\u043E\u043D \u0448\u0440\u0438\u0444\u0442\u0430:"),n(),i(260,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.h2TitleStyle,t)||(s.emailTemplate.h2TitleStyle=t),_(t)}),i(261,"option",39),r(262,"\u041E\u0431\u044B\u0447\u043D\u044B\u0439"),n(),i(263,"option",40),r(264,"\u041A\u0443\u0440\u0441\u0438\u0432"),n()()(),i(265,"div",33)(266,"label",27),r(267,"\u0420\u0430\u0437\u043C\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430:"),n(),i(268,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.h2TitleSize,t)||(s.emailTemplate.h2TitleSize=t),_(t)}),n()(),i(269,"div",33)(270,"label",27),r(271,"\u0416\u0438\u0440\u043D\u043E\u0441\u0442\u044C \u0448\u0440\u0438\u0444\u0442\u0430:"),n(),i(272,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.h2TitleWeight,t)||(s.emailTemplate.h2TitleWeight=t),_(t)}),i(273,"option",39),r(274,"\u041E\u0431\u044B\u0447\u043D\u044B\u0439"),n(),i(275,"option",41),r(276,"\u0416\u0438\u0440\u043D\u044B\u0439"),n()()(),i(277,"div",33)(278,"label",27),r(279,"\u041E\u0442\u0441\u0442\u0443\u043F \u0441\u0432\u0435\u0440\u0445\u0443:"),n(),i(280,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.h2TitleMarginTop,t)||(s.emailTemplate.h2TitleMarginTop=t),_(t)}),n()(),i(281,"div",33)(282,"label",27),r(283,"\u041E\u0442\u0441\u0442\u0443\u043F \u0441\u043D\u0438\u0437\u0443:"),n(),i(284,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.h2TitleMarginBottom,t)||(s.emailTemplate.h2TitleMarginBottom=t),_(t)}),n()(),i(285,"div",33)(286,"label",27),r(287,"\u041F\u043E\u0434\u0447\u0435\u0440\u043A\u043D\u0443\u0442\u043E\u0441\u0442\u044C:"),n(),i(288,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.h2TextDecoration,t)||(s.emailTemplate.h2TextDecoration=t),_(t)}),i(289,"option",42),r(290,"\u041D\u0435\u0442"),n(),i(291,"option",43),r(292,"\u041F\u043E\u0434\u0447\u0435\u0440\u043A\u043D\u0443\u0442\u044B\u0439"),n()()(),i(293,"div",33)(294,"label",27),r(295,"\u0417\u0430\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435:"),n(),i(296,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.h2Radius,t)||(s.emailTemplate.h2Radius=t),_(t)}),n()()()(),i(297,"div",46)(298,"div",24)(299,"h3",25),r(300," \u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0442\u0438\u043B\u044F\u043C\u0438 \u0442\u0435\u043A\u0441\u0442\u043E\u0432\u043E\u0433\u043E \u0431\u043B\u043E\u043A\u0430 "),n(),i(301,"div",26)(302,"label",27),r(303,"\u0410\u043A\u0442\u0438\u0432\u0435\u043D"),n(),i(304,"input",28),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.isBodyActive,t)||(s.emailTemplate.isBodyActive=t),_(t)}),n()()(),i(305,"div",16)(306,"div",30)(307,"label",27),r(308,"\u0426\u0432\u0435\u0442 \u0442\u0435\u043A\u0441\u0442\u0430:"),n(),i(309,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.mainTextColor,t)||(s.emailTemplate.mainTextColor=t),_(t)}),n(),i(310,"span",32),r(311),n()(),i(312,"div",33)(313,"label",27),r(314,"\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435:"),n(),i(315,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.mainTextAlign,t)||(s.emailTemplate.mainTextAlign=t),_(t)}),i(316,"option",35),r(317,"\u041B\u0435\u0432\u043E"),n(),i(318,"option",36),r(319,"\u0426\u0435\u043D\u0442\u0440"),n(),i(320,"option",37),r(321,"\u041F\u0440\u0430\u0432\u043E"),n()()(),i(322,"div",30)(323,"label",27),r(324,"\u0426\u0432\u0435\u0442 \u0444\u043E\u043D\u0430:"),n(),i(325,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.mainTextBg,t)||(s.emailTemplate.mainTextBg=t),_(t)}),n(),i(326,"span",32),r(327),n()(),i(328,"div",33)(329,"label",27),r(330,"\u041E\u0442\u0441\u0442\u0443\u043F \u0441\u043B\u0435\u0432\u0430:"),n(),i(331,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textPdLeft,t)||(s.emailTemplate.textPdLeft=t),_(t)}),n()(),i(332,"div",33)(333,"label",27),r(334,"\u041E\u0442\u0441\u0442\u0443\u043F \u0441\u043F\u0440\u0430\u0432\u0430:"),n(),i(335,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textPdRight,t)||(s.emailTemplate.textPdRight=t),_(t)}),n()(),i(336,"div",33)(337,"label",27),r(338,"\u0417\u0430\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u044F \u0444\u043E\u043D\u0430:"),n(),i(339,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textRadius,t)||(s.emailTemplate.textRadius=t),_(t)}),n()()()(),i(340,"div",46)(341,"h3",47),r(342," \u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0442\u0438\u043B\u044F\u043C\u0438 \u043E\u0431\u0435\u0440\u0442\u043A\u0438 \u0442\u0435\u043A\u0441\u0442\u0430 "),n(),i(343,"div",16)(344,"div",33)(345,"label",27),r(346,"\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435:"),n(),i(347,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textDescrAlign,t)||(s.emailTemplate.textDescrAlign=t),_(t)}),i(348,"option",35),r(349,"\u041B\u0435\u0432\u043E"),n(),i(350,"option",36),r(351,"\u0426\u0435\u043D\u0442\u0440"),n(),i(352,"option",37),r(353,"\u041F\u0440\u0430\u0432\u043E"),n()()(),i(354,"div",30)(355,"label",27),r(356,"\u0426\u0432\u0435\u0442 \u0442\u0435\u043A\u0441\u0442\u0430:"),n(),i(357,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textDescrColor,t)||(s.emailTemplate.textDescrColor=t),_(t)}),n(),i(358,"span",32),r(359),n()(),i(360,"div",30)(361,"label",27),r(362,"\u0426\u0432\u0435\u0442 \u0444\u043E\u043D\u0430:"),n(),i(363,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textWrapperBg,t)||(s.emailTemplate.textWrapperBg=t),_(t)}),n(),i(364,"span",32),r(365),n()(),i(366,"div",33)(367,"label",27),r(368,"\u0417\u0430\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435:"),n(),i(369,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textWrapperRadius,t)||(s.emailTemplate.textWrapperRadius=t),_(t)}),n()(),i(370,"div",33)(371,"label",27),r(372,"\u041E\u0442\u0441\u0442\u0443\u043F \u0432\u0435\u0440\u0445/\u043D\u0438\u0437:"),n(),i(373,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textPadY,t)||(s.emailTemplate.textPadY=t),_(t)}),n()(),i(374,"div",33)(375,"label",27),r(376,"\u041E\u0442\u0441\u0442\u0443\u043F \u043B\u0435\u0432\u043E/\u043F\u0440\u0430\u0432\u043E:"),n(),i(377,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textPadX,t)||(s.emailTemplate.textPadX=t),_(t)}),n()(),i(378,"div",33)(379,"label",27),r(380,"\u0420\u0430\u0437\u043C\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430:"),n(),i(381,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textDescrFont,t)||(s.emailTemplate.textDescrFont=t),_(t)}),n()(),i(382,"div",33)(383,"label",27),r(384,"\u0416\u0438\u0440\u043D\u043E\u0441\u0442\u044C \u0448\u0440\u0438\u0444\u0442\u0430:"),n(),i(385,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textDescrWeight,t)||(s.emailTemplate.textDescrWeight=t),_(t)}),i(386,"option",39),r(387,"\u041E\u0431\u044B\u0447\u043D\u044B\u0439"),n(),i(388,"option",41),r(389,"\u0416\u0438\u0440\u043D\u044B\u0439"),n()()(),i(390,"div",33)(391,"label",27),r(392,"\u0421\u0442\u0438\u043B\u044C \u0448\u0440\u0438\u0444\u0442\u0430:"),n(),i(393,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textDescrStyle,t)||(s.emailTemplate.textDescrStyle=t),_(t)}),i(394,"option",39),r(395,"\u041E\u0431\u044B\u0447\u043D\u044B\u0439"),n(),i(396,"option",40),r(397,"\u041A\u0443\u0440\u0441\u0438\u0432"),n()()(),i(398,"div",33)(399,"label",27),r(400,"\u041F\u043E\u0434\u0447\u0435\u0440\u043A\u043D\u0443\u0442\u043E\u0441\u0442\u044C:"),n(),i(401,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.textDescr,t)||(s.emailTemplate.textDescr=t),_(t)}),i(402,"option",42),r(403,"\u041D\u0435\u0442"),n(),i(404,"option",43),r(405,"\u041F\u043E\u0434\u0447\u0435\u0440\u043A\u043D\u0443\u0442\u044B\u0439"),n()()()()(),i(406,"div",48)(407,"div",24)(408,"h3",25),r(409," \u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0442\u0438\u043B\u044F\u043C\u0438 \u043A\u043D\u043E\u043F\u043A\u0438 "),n(),i(410,"div",26)(411,"label",27),r(412,"\u0410\u043A\u0442\u0438\u0432\u0435\u043D"),n(),i(413,"input",28),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.isButtonActive,t)||(s.emailTemplate.isButtonActive=t),_(t)}),n()()(),i(414,"div",16)(415,"div",30)(416,"label",27),r(417,"\u0426\u0432\u0435\u0442 \u043A\u043D\u043E\u043F\u043A\u0438:"),n(),i(418,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.buttonColor,t)||(s.emailTemplate.buttonColor=t),_(t)}),n(),i(419,"span",32),r(420),n()(),i(421,"div",30)(422,"label",27),r(423,"\u0426\u0432\u0435\u0442 \u0444\u043E\u043D\u0430:"),n(),i(424,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.buttonWrapperBg,t)||(s.emailTemplate.buttonWrapperBg=t),_(t)}),n(),i(425,"span",32),r(426),n()(),i(427,"div",30)(428,"label",27),r(429,"\u0426\u0432\u0435\u0442 \u0442\u0435\u043A\u0441\u0442\u0430:"),n(),i(430,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.buttonTextColor,t)||(s.emailTemplate.buttonTextColor=t),_(t)}),n(),i(431,"span",32),r(432),n()(),i(433,"div",33)(434,"label",27),r(435,"\u0417\u0430\u043A\u0440\u0443\u0433\u043B\u0435\u043D\u0438\u0435:"),n(),i(436,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.buttonBorderRadius,t)||(s.emailTemplate.buttonBorderRadius=t),_(t)}),n()(),i(437,"div",33)(438,"label",27),r(439,"\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435:"),n(),i(440,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.btnAlign,t)||(s.emailTemplate.btnAlign=t),_(t)}),i(441,"option",35),r(442,"\u041B\u0435\u0432\u043E"),n(),i(443,"option",36),r(444,"\u0426\u0435\u043D\u0442\u0440"),n(),i(445,"option",37),r(446,"\u041F\u0440\u0430\u0432\u043E"),n()()(),i(447,"div",33)(448,"label",27),r(449,"\u041E\u0442\u0441\u0442\u0443\u043F \u043B\u0435\u0432\u043E/\u043F\u0440\u0430\u0432\u043E:"),n(),i(450,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.buttonPaddingX,t)||(s.emailTemplate.buttonPaddingX=t),_(t)}),n()(),i(451,"div",33)(452,"label",27),r(453,"\u041E\u0442\u0441\u0442\u0443\u043F \u0432\u0435\u0440\u0445/\u043D\u0438\u0437:"),n(),i(454,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.buttonPaddingY,t)||(s.emailTemplate.buttonPaddingY=t),_(t)}),n()(),i(455,"div",33)(456,"label",27),r(457,"\u0428\u0438\u0440\u0438\u043D\u0430 \u043A\u043D\u043E\u043F\u043A\u0438:"),n(),i(458,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.buttonWidth,t)||(s.emailTemplate.buttonWidth=t),_(t)}),n()(),i(459,"div",33)(460,"label",27),r(461,"\u0420\u0430\u0437\u043C\u0435\u0440 \u0442\u0435\u043A\u0441\u0442\u0430:"),n(),i(462,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.buttonTextSize,t)||(s.emailTemplate.buttonTextSize=t),_(t)}),n()(),i(463,"div",33)(464,"label",27),r(465,"\u0416\u0438\u0440\u043D\u043E\u0441\u0442\u044C \u0448\u0440\u0438\u0444\u0442\u0430:"),n(),i(466,"select",34),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.buttonfontWeight,t)||(s.emailTemplate.buttonfontWeight=t),_(t)}),i(467,"option",39),r(468,"\u041E\u0431\u044B\u0447\u043D\u044B\u0439"),n(),i(469,"option",41),r(470,"\u0416\u0438\u0440\u043D\u044B\u0439"),n()()()()(),i(471,"div",49)(472,"div",24)(473,"h3",25),r(474," \u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0442\u0438\u043B\u044F\u043C\u0438 \u0444\u0443\u0442\u0435\u0440\u0430 "),n(),i(475,"div",26)(476,"label",27),r(477,"\u0410\u043A\u0442\u0438\u0432\u0435\u043D"),n(),i(478,"input",28),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.isFooterActive,t)||(s.emailTemplate.isFooterActive=t),_(t)}),n()()(),i(479,"div",16)(480,"div",30)(481,"label",27),r(482,"\u0426\u0432\u0435\u0442 \u0444\u043E\u043D\u0430:"),n(),i(483,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.footerBg,t)||(s.emailTemplate.footerBg=t),_(t)}),n(),i(484,"span",32),r(485),n()(),i(486,"div",30)(487,"label",27),r(488,"\u0426\u0432\u0435\u0442 \u0442\u0435\u043A\u0441\u0442\u0430:"),n(),i(489,"input",31),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.footerTextColor,t)||(s.emailTemplate.footerTextColor=t),_(t)}),n(),i(490,"span",32),r(491),n()(),i(492,"div",33)(493,"label",27),r(494,"\u0420\u0430\u0437\u043C\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430:"),n(),i(495,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.footerTextFontSize,t)||(s.emailTemplate.footerTextFontSize=t),_(t)}),n()(),i(496,"div",33)(497,"label",27),r(498,"\u041E\u0442\u0441\u0442\u0443\u043F \u043B\u0435\u0432\u043E/\u043F\u0440\u0430\u0432\u043E:"),n(),i(499,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.footerTextPaddingX,t)||(s.emailTemplate.footerTextPaddingX=t),_(t)}),n()(),i(500,"div",33)(501,"label",27),r(502,"\u041E\u0442\u0441\u0442\u0443\u043F \u0432\u0435\u0440\u0445/\u043D\u0438\u0437:"),n(),i(503,"input",21),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailTemplate.footerTextPaddingY,t)||(s.emailTemplate.footerTextPaddingY=t),_(t)}),n()()()()()}if(a&2){let e=u();l(6),f("ngModel",e.emailTemplate.templateLogo),d("disabled",e.isSending),l(4),f("ngModel",e.emailTemplate.templateHeader),d("disabled",e.isSending),l(4),f("ngModel",e.emailTemplate.templateMainImage),d("disabled",e.isSending),l(4),f("ngModel",e.emailTemplate.templateWaveImage),d("disabled",e.isSending),l(4),f("ngModel",e.emailTemplate.templateSecondHeader),d("disabled",e.isSending),l(3),w("\u0422\u0435\u043A\u0441\u0442: \u0434\u043B\u044F \u043E\u0442\u0441\u0442\u0443\u043F\u0430 \u0441 \u043D\u043E\u0432\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u043E\u0439 \u0441\u043B\u0435\u0434\u0443\u0435\u0442 \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0442\u044D\u0433 ",e.br," "),l(4),f("ngModel",e.emailTemplate.templateBody),d("disabled",e.isSending),l(4),f("ngModel",e.emailTemplate.templateButtonText),d("disabled",e.isSending),l(4),f("ngModel",e.emailTemplate.templateButtonLink),d("disabled",e.isSending),l(4),f("ngModel",e.emailTemplate.templateFooterText),d("disabled",e.isSending),l(8),C(e.emailTemplate.bodyStyle),l(),f("ngModel",e.emailTemplate.bodyStyle),l(4),f("ngModel",e.emailTemplate.textWrapperRadius),l(5),C(e.emailTemplate.wrapperBg),l(),f("ngModel",e.emailTemplate.wrapperBg),l(8),f("ngModel",e.emailTemplate.isLogoActive),l(5),f("ngModel",e.emailTemplate.logoWrappWidth),l(4),f("ngModel",e.emailTemplate.logoBg),l(2),C(e.emailTemplate.logoBg.slice(0,8)),l(4),f("ngModel",e.emailTemplate.logoRadius),l(4),f("ngModel",e.emailTemplate.logoFloat),l(10),f("ngModel",e.emailTemplate.logoMarginT),l(4),f("ngModel",e.emailTemplate.logoMarginB),l(4),f("ngModel",e.emailTemplate.logoWidth),l(8),f("ngModel",e.emailTemplate.isHeaderActive),l(5),f("ngModel",e.emailTemplate.headerTitleBg),l(2),C(e.emailTemplate.headerTitleBg.slice(0,8)),l(4),f("ngModel",e.emailTemplate.headercolorText),l(2),C(e.emailTemplate.headercolorText.slice(0,8)),l(4),f("ngModel",e.emailTemplate.headerTitleFontSize),l(4),f("ngModel",e.emailTemplate.headerTitleStyle),l(8),f("ngModel",e.emailTemplate.headerTitleWeight),l(8),f("ngModel",e.emailTemplate.headerTitleMarginTop),l(4),f("ngModel",e.emailTemplate.headerTitleMarginBottom),l(4),f("ngModel",e.emailTemplate.headerTitleAlign),l(10),f("ngModel",e.emailTemplate.headerRadius),l(4),f("ngModel",e.emailTemplate.headerWidth),l(4),f("ngModel",e.emailTemplate.headerDecoration),l(12),f("ngModel",e.emailTemplate.isMainImageActive),l(5),f("ngModel",e.emailTemplate.imgWidth),l(4),f("ngModel",e.emailTemplate.imgBg),l(2),C(e.emailTemplate.imgBg.slice(0,8)),l(4),f("ngModel",e.emailTemplate.imgWrapRadius),l(4),f("ngModel",e.emailTemplate.imgRadius),l(4),f("ngModel",e.emailTemplate.imgFloat),l(10),f("ngModel",e.emailTemplate.imgMrTop),l(4),f("ngModel",e.emailTemplate.imgMrBottom),l(8),f("ngModel",e.emailTemplate.isSecondHeaderActive),l(5),f("ngModel",e.emailTemplate.h2TitleAlign),l(10),f("ngModel",e.emailTemplate.h2TitleColor),l(2),C(e.emailTemplate.h2TitleColor.slice(0,8)),l(4),f("ngModel",e.emailTemplate.h2Bg),l(2),C(e.emailTemplate.h2Bg.slice(0,8)),l(4),f("ngModel",e.emailTemplate.h2TitleStyle),l(8),f("ngModel",e.emailTemplate.h2TitleSize),l(4),f("ngModel",e.emailTemplate.h2TitleWeight),l(8),f("ngModel",e.emailTemplate.h2TitleMarginTop),l(4),f("ngModel",e.emailTemplate.h2TitleMarginBottom),l(4),f("ngModel",e.emailTemplate.h2TextDecoration),l(8),f("ngModel",e.emailTemplate.h2Radius),l(8),f("ngModel",e.emailTemplate.isBodyActive),l(5),f("ngModel",e.emailTemplate.mainTextColor),l(2),C(e.emailTemplate.mainTextColor.slice(0,8)),l(4),f("ngModel",e.emailTemplate.mainTextAlign),l(10),f("ngModel",e.emailTemplate.mainTextBg),l(2),C(e.emailTemplate.mainTextBg.slice(0,8)),l(4),f("ngModel",e.emailTemplate.textPdLeft),l(4),f("ngModel",e.emailTemplate.textPdRight),l(4),f("ngModel",e.emailTemplate.textRadius),l(8),f("ngModel",e.emailTemplate.textDescrAlign),l(10),f("ngModel",e.emailTemplate.textDescrColor),l(2),C(e.emailTemplate.textDescrColor.slice(0,8)),l(4),f("ngModel",e.emailTemplate.textWrapperBg),l(2),C(e.emailTemplate.textWrapperBg.slice(0,8)),l(4),f("ngModel",e.emailTemplate.textWrapperRadius),l(4),f("ngModel",e.emailTemplate.textPadY),l(4),f("ngModel",e.emailTemplate.textPadX),l(4),f("ngModel",e.emailTemplate.textDescrFont),l(4),f("ngModel",e.emailTemplate.textDescrWeight),l(8),f("ngModel",e.emailTemplate.textDescrStyle),l(8),f("ngModel",e.emailTemplate.textDescr),l(12),f("ngModel",e.emailTemplate.isButtonActive),l(5),f("ngModel",e.emailTemplate.buttonColor),l(2),C(e.emailTemplate.buttonColor.slice(0,8)),l(4),f("ngModel",e.emailTemplate.buttonWrapperBg),l(2),C(e.emailTemplate.buttonColor.slice(0,8)),l(4),f("ngModel",e.emailTemplate.buttonTextColor),l(2),C(e.emailTemplate.buttonTextColor.slice(0,8)),l(4),f("ngModel",e.emailTemplate.buttonBorderRadius),l(4),f("ngModel",e.emailTemplate.btnAlign),l(10),f("ngModel",e.emailTemplate.buttonPaddingX),l(4),f("ngModel",e.emailTemplate.buttonPaddingY),l(4),f("ngModel",e.emailTemplate.buttonWidth),l(4),f("ngModel",e.emailTemplate.buttonTextSize),l(4),f("ngModel",e.emailTemplate.buttonfontWeight),l(12),f("ngModel",e.emailTemplate.isFooterActive),l(5),f("ngModel",e.emailTemplate.footerBg),l(2),C(e.emailTemplate.footerBg.slice(0,8)),l(4),f("ngModel",e.emailTemplate.footerTextColor),l(2),C(e.emailTemplate.footerTextColor.slice(0,8)),l(4),f("ngModel",e.emailTemplate.footerTextFontSize),l(4),f("ngModel",e.emailTemplate.footerTextPaddingX),l(4),f("ngModel",e.emailTemplate.footerTextPaddingY)}}var ri=(()=>{class a{emailTemplate=null;isSending=!1;emailTemplateChange=new ue;br="<br>";ngOnChanges(e){e.emailTemplate&&console.log("emailTemplate \u0438\u0437\u043C\u0435\u043D\u0438\u043B\u0441\u044F:",{templateHeader:this.emailTemplate?.templateHeader,templateBody:this.emailTemplate?.templateBody,templateSecondHeader:this.emailTemplate?.templateSecondHeader})}onModelChange(){this.emailTemplate&&(console.log("Editor emitted changes:",{templateHeader:this.emailTemplate.templateHeader,templateBody:this.emailTemplate.templateBody,templateSecondHeader:this.emailTemplate.templateSecondHeader,bodyStyle:this.emailTemplate.bodyStyle,isLogoActive:this.emailTemplate.isLogoActive}),this.emailTemplateChange.emit(this.emailTemplate))}onLogoActiveChange(e){this.emailTemplate&&(this.emailTemplate.isLogoActive=e.target.checked,console.log("Logo active changed:",this.emailTemplate.isLogoActive),this.onModelChange())}onHeaderActiveChange(e){this.emailTemplate&&(this.emailTemplate.isHeaderActive=e.target.checked,console.log("Header active changed:",this.emailTemplate.isHeaderActive),this.onModelChange())}onMainImageActiveChange(e){this.emailTemplate&&(this.emailTemplate.isMainImageActive=e.target.checked,console.log("Main image active changed:",this.emailTemplate.isMainImageActive),this.onModelChange())}onWaveImageActiveChange(e){this.emailTemplate&&(this.emailTemplate.isWaveImageActive=e.target.checked,console.log("Wave image active changed:",this.emailTemplate.isWaveImageActive),this.onModelChange())}onSecondHeaderActiveChange(e){this.emailTemplate&&(this.emailTemplate.isSecondHeaderActive=e.target.checked,console.log("Second header active changed:",this.emailTemplate.isSecondHeaderActive),this.onModelChange())}onBodyActiveChange(e){this.emailTemplate&&(this.emailTemplate.isBodyActive=e.target.checked,console.log("Body active changed:",this.emailTemplate.isBodyActive),this.onModelChange())}onButtonActiveChange(e){this.emailTemplate&&(this.emailTemplate.isButtonActive=e.target.checked,console.log("Button active changed:",this.emailTemplate.isButtonActive),this.onModelChange())}onFooterActiveChange(e){this.emailTemplate&&(this.emailTemplate.isFooterActive=e.target.checked,console.log("Footer active changed:",this.emailTemplate.isFooterActive),this.onModelChange())}onSocialLinksActiveChange(e){this.emailTemplate&&(this.emailTemplate.isSocialLinksActive=e.target.checked,console.log("Social links active changed:",this.emailTemplate.isSocialLinksActive),this.onModelChange())}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=T({type:a,selectors:[["app-email-template-editor"]],inputs:{emailTemplate:"emailTemplate",isSending:"isSending"},outputs:{emailTemplateChange:"emailTemplateChange"},features:[je],decls:3,vars:1,consts:[[1,"w-[100%]","h-[1150px]"],[1,"overflow-y-auto","h-[100%]","bg-aliceblue","rounded-3xl","pl-4","mr-8"],["class","text-edit w-full pr-5",4,"ngIf"],[1,"text-edit","w-full","pr-5"],[1,"text-xl","font-bold","text-gray-600","mb-2","py-4","text-center"],[1,"form-group","mb-4"],[1,"block","text-sm","text-indigo-400","font-bold","mb-1"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",1,"w-full","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel","disabled"],[1,"w-full","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel","disabled"],[1,"form-group","mb-6"],[1,"text-sm","text-indigo-400","font-bold","mb-1","flex","items-center"],["data-tip","\u041F\u0440\u0438\u043C\u0435\u0440: \u041F\u0440\u0438\u0432\u0435\u0442!<br>\u042D\u0442\u043E \u043D\u043E\u0432\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430. \u041F\u0440\u0438\u043C\u0435\u0440: \u041F\u0440\u0438\u0432\u0435\u0442!<br><br>\u042D\u0442\u043E \u043D\u043E\u0432\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430.",1,"tooltip","tooltip-left","tooltip-info"],["xmlns","http://www.w3.org/2000/svg","width","18","height","32","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"],[1,"w-full","h-[25dvh]","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel","disabled"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, https://www.example.com)",1,"w-full","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel","disabled"],[1,"controlls"],[1,"mb-2","w-fit","relative"],[1,"block","text-xs","pr-2"],[1,"text-xs"],["type","color",1,"w-full","rounded-[20px]",3,"ngModelChange","ngModel"],["type","text",1,"w-full","border","rounded","px-2","py-1",3,"ngModelChange","ngModel"],["type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u0440\u0430\u0434\u0438\u0435\u043D\u0442 \u0438\u043B\u0438 \u0446\u0432\u0435\u0442 (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, #ffffff)",1,"w-full","border","rounded","px-2","py-1",3,"ngModelChange","ngModel"],[1,"logo-controlls"],[1,"style-header-wrapper","flex","items-center","justify-between","mb-4"],[1,"text-lg","font-bold","text-indigo-600"],[1,"w-fit","flex","items-center","gap-2","pr-2"],[1,"block","text-xs"],["type","checkbox",1,"checkbox","checkbox-primary",3,"ngModelChange","ngModel"],[1,"mb-2","w-fit"],[1,"mb-2","relative"],["type","color",1,"w-full",3,"ngModelChange","ngModel"],[1,"text-xs","pos-absolute"],[1,"mb-2"],[1,"w-full","border","rounded","px-2","py-1",3,"ngModelChange","ngModel"],["value","left"],["value","center"],["value","right"],[1,"header-controlls"],["value","normal"],["value","italic"],["value","bold"],["value","none"],["value","underline"],[1,"img-controlls"],[1,"h2-controlls"],[1,"text-controlls"],[1,"text-lg","font-bold","text-indigo-600","mb-2"],[1,"btn-controlls"],[1,"footer-controlls"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1),h(2,Xa,504,112,"div",2),n()()),o&2&&(l(2),d("ngIf",t.emailTemplate))},dependencies:[W,K,Q,R,ye,Z,z,j],styles:[".controlls[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(100px,1fr) minmax(100px,1fr) minmax(100px,1fr) minmax(100px,1fr);gap:0 10px}.controlls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:130px;height:fit-content}.pos-absolute[_ngcontent-%COMP%]{position:absolute;left:80px;bottom:34px;z-index:1}.controlls[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .controlls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .controlls[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{width:130px;border-radius:15px}input[type=color i][_ngcontent-%COMP%]::-webkit-color-swatch-wrapper{padding:0}input[type=color i][_ngcontent-%COMP%]::-webkit-color-swatch{border-radius:20px;color-scheme:light only;border-color:#7773}"]})}return a})();var Za=[[["","extra-header",""]]],Ka=["[extra-header]"];function Qa(a,m){if(a&1&&(i(0,"th",6),r(1),n()),a&2){let e=m.$implicit;l(),w(" ",e.header," ")}}function eo(a,m){if(a&1&&(i(0,"span"),r(1),D(2,"date"),n()),a&2){let e=u().$implicit,o=u().$implicit;l(),w(" ",P(2,1,o[e.key],e.pipeFormat||"dd.MM.yyyy")," ")}}function to(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u().$implicit,o=u().$implicit;l(),w(" ",o[e.key]," ")}}function io(a,m){if(a&1&&(i(0,"td",14),me(1,15),h(2,eo,3,4,"span",16)(3,to,2,1,"span",17),pe(),n()),a&2){let e=m.$implicit;d("ngClass",e.class||""),l(),d("ngSwitch",e.pipe),l(),d("ngSwitchCase","date")}}function no(a,m){if(a&1&&(i(0,"tr",12)(1,"td",6),r(2),n(),h(3,io,4,3,"td",13),n()),a&2){let e=m.index,o=u();l(2),C(e+1),l(),d("ngForOf",o.columns)}}var li=(()=>{class a{users=[];columns=[];title="";totalCount=0;extraContent=!1;static \u0275fac=function(o){return new(o||a)};static \u0275cmp=T({type:a,selectors:[["app-users-table"]],inputs:{users:"users",columns:"columns",title:"title",totalCount:"totalCount",extraContent:"extraContent"},ngContentSelectors:Ka,decls:17,vars:4,consts:[[1,"mb-5","pt-2","pb-8"],[1,"text-xl","font-bold","py-4","text-center","flex","justify-center","items-center"],[1,"h-[250px]","overflow-x-auto","mx-auto","w-[96%]","shadow-2xl","rounded-3xl"],[1,"min-w-full","divide-y-2","divide-gray-200"],[1,"sticky","top-0","bg-white","text-left"],[1,"text-sm","text-gray-400"],[1,"px-3","py-2","whitespace-nowrap"],["class","px-3 py-2 whitespace-nowrap",4,"ngFor","ngForOf"],[1,"divide-y","divide-gray-100"],["class","text-gray-500 text-sm",4,"ngFor","ngForOf"],[1,"mr-[35px]","text-lg","font-bold","text-gray-400","py-2","text-center","flex","justify-end","items-center","gap-2"],[1,"text-2xl","font-bold","text-black"],[1,"text-gray-500","text-sm"],["class","px-3 py-2 whitespace-nowrap",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-3","py-2","whitespace-nowrap",3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(o,t){o&1&&(He(Za),i(0,"div",0)(1,"h3",1),r(2),n(),$e(3),i(4,"div",2)(5,"table",3)(6,"thead",4)(7,"tr",5)(8,"th",6),r(9,"#"),n(),h(10,Qa,2,1,"th",7),n()(),i(11,"tbody",8),h(12,no,4,2,"tr",9),n()()(),i(13,"h3",10),r(14," \u0412\u0441\u0435\u0433\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439: "),i(15,"span",11),r(16),n()()()),o&2&&(l(2),w(" ",t.title," "),l(8),d("ngForOf",t.columns),l(2),d("ngForOf",t.users),l(4),C(t.totalCount))},dependencies:[G,O,ht,ft,xt,J]})}return a})();var rt=a=>({"bg-gradient-to-r from-indigo-500 to-blue-500 text-white":a}),si=(()=>{class a{currentMode=null;telegramCount=0;siteCount=0;modeChange=new ue;setMode(e){this.modeChange.emit(e)}isActive(e){return this.currentMode===e}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=T({type:a,selectors:[["app-send-mode-tabs"]],inputs:{currentMode:"currentMode",telegramCount:"telegramCount",siteCount:"siteCount"},outputs:{modeChange:"modeChange"},decls:16,vars:11,consts:[[1,"chosie-email-sent","flex","gap-2","mb-4"],[1,"manual-enter-email","btn-block","shadow-2xl","px-5","py-8","mx-2","my-4","ml-1","rounded-3xl","cursor-pointer","hover-shadow","transition-all","duration-300",3,"click","ngClass"],[1,"text-xl"],[1,"telegram-users","btn-block","shadow-2xl","px-5","py-8","mx-2","my-4","rounded-3xl","cursor-pointer","hover-shadow","transition-all","duration-300",3,"click","ngClass"],[1,"site-users","btn-block","shadow-2xl","px-5","py-8","mx-2","my-4","rounded-3xl","cursor-pointer","hover-shadow","transition-all","duration-300",3,"click","ngClass"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1),b("click",function(){return t.setMode("manual")}),i(2,"p",2),r(3,"\u0412\u0441\u0442\u0430\u0432\u044C\u0442\u0435 email-\u0430\u0434\u0440\u0435\u0441(\u0430) \u0432\u0440\u0443\u0447\u043D\u0443\u044E"),n()(),i(4,"div",3),b("click",function(){return t.setMode("telegram")}),i(5,"p",2),r(6," Telegram \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 "),i(7,"b"),r(8,"\u0412\u0441\u0435\u0433\u043E:"),n(),r(9),n()(),i(10,"div",4),b("click",function(){return t.setMode("site")}),i(11,"p",2),r(12," Site \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 "),i(13,"b"),r(14,"\u0412\u0441\u0435\u0433\u043E:"),n(),r(15),n()()()),o&2&&(l(),d("ngClass",Y(5,rt,t.isActive("manual"))),l(3),d("ngClass",Y(7,rt,t.isActive("telegram"))),l(5),w(" (",t.telegramCount,") "),l(),d("ngClass",Y(9,rt,t.isActive("site"))),l(5),w(" (",t.siteCount,") "))},dependencies:[G]})}return a})();function ro(a,m){if(a&1&&(i(0,"div",49),p(1,"app-users-table",50),n()),a&2){let e=u(2);l(),d("users",e.users)("title","\u{1F447} \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C Telegram \u{1F60E} \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C \u{1F447}")("totalCount",e.telegramUsersEmails.length)("columns",e.telegramColumns)}}function lo(a,m){if(a&1&&(i(0,"option",56),r(1),n()),a&2){let e=m.$implicit;d("value",e),l(),w(" ",e," ")}}function so(a,m){if(a&1){let e=S();i(0,"div",51)(1,"app-users-table",50)(2,"div",52)(3,"select",53),v("ngModelChange",function(t){g(e);let s=u(2);return x(s.selectedSiteUrl,t)||(s.selectedSiteUrl=t),_(t)}),b("ngModelChange",function(){g(e);let t=u(2);return _(t.onSiteUrlFilterChange())}),i(4,"option",54),r(5,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0430\u0439\u0442"),n(),h(6,lo,2,2,"option",55),n()()()()}if(a&2){let e=u(2);l(),d("users",e.filteredSiteUsers)("title","\u{1F447} \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0430\u0439\u0442 \u{1F310} \u0434\u043B\u044F \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438 email-\u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u{1F447}")("totalCount",e.siteUsersEmails.length)("columns",e.siteColumns),l(2),f("ngModel",e.selectedSiteUrl),l(3),d("ngForOf",e.uniqueSiteUrls)}}function uo(a,m){if(a&1){let e=S();i(0,"div",30)(1,"label",31),r(2," \u0412\u0441\u0442\u0430\u0432\u044C\u0442\u0435 email-\u0430\u0434\u0440\u0435\u0441\u0430 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043F\u044F\u0442\u0443\u044E \u043B\u0438\u0431\u043E \u0432\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u043E\u0434\u0438\u043D \u0430\u0434\u0440\u0435\u0441: "),n(),i(3,"input",57),v("ngModelChange",function(t){g(e);let s=u(2);return x(s.whoSentStr,t)||(s.whoSentStr=t),_(t)}),n()()}if(a&2){let e=u(2);l(3),f("ngModel",e.whoSentStr),d("disabled",e.isSending)}}function mo(a,m){if(a&1){let e=S();i(0,"div",30)(1,"label",31),r(2," \u0421\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u0435 \u043F\u0438\u0441\u044C\u043C\u0430 (\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E): "),n(),i(3,"textarea",58),v("ngModelChange",function(t){g(e);let s=u(2);return x(s.emailContent,t)||(s.emailContent=t),_(t)}),n()()}if(a&2){let e=u(2);l(3),f("ngModel",e.emailContent),d("disabled",e.isSending)}}function po(a,m){if(a&1){let e=S();i(0,"div",71)(1,"label",72)(2,"input",73),b("click",function(){let t=g(e).$implicit,s=u(3);return _(s.selectTemplate(t.instance,t.id))}),n(),i(3,"span",74),r(4),n()(),i(5,"button",75),b("click",function(t){let s=g(e).$implicit,c=u(3);return _(c.deleteTemplate(s.id,s.name,t))}),E(),i(6,"svg",76),p(7,"path",77)(8,"path",78)(9,"path",79)(10,"path",80)(11,"path",81),n()()()}if(a&2){let e=m.$implicit,o=m.index,t=u(3);l(),d("for","template-"+o),l(),d("id","template-"+o)("value",e.id)("checked",t.selectedTemplateId===e.id),l(2),C(e.name)}}function co(a,m){if(a&1&&p(0,"div",82),a&2){let e=u(3);d("innerHTML",e.selectedTemplate.safeHtmlTemplate,Re)}}function go(a,m){if(a&1){let e=S();i(0,"div",59)(1,"label",31),r(2," \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0448\u0430\u0431\u043B\u043E\u043D: "),n(),i(3,"div",60),h(4,po,12,5,"div",61),n(),i(5,"label",31),r(6," \u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u0438 \u043F\u0440\u0435\u0434\u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u0448\u0430\u0431\u043B\u043E\u043D\u0430: "),n(),i(7,"div",62)(8,"div",63)(9,"app-email-template-editor",64),b("emailTemplateChange",function(t){g(e);let s=u(2);return _(s.selectedTemplate=t)}),n(),i(10,"div",65)(11,"button",66),b("click",function(){g(e);let t=u(2);return _(t.updateTemplate())}),r(12," \u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D "),n(),i(13,"button",67),b("click",function(){g(e);let t=u(2);return _(t.saveTemplate())}),r(14," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043A\u0430\u043A \u043D\u043E\u0432\u044B\u0439 "),n()()(),i(15,"div",68)(16,"div",69),h(17,co,1,1,"div",70),n()()()()}if(a&2){let e=u(2);l(4),d("ngForOf",e.templates),l(5),d("emailTemplate",e.selectedTemplate)("isSending",e.isSending),l(2),d("disabled",e.isSending||!e.selectedTemplate||e.selectedTemplateId===0),l(2),d("disabled",e.isSending||!e.selectedTemplate),l(4),d("ngIf",e.selectedTemplate)}}function _o(a,m){if(a&1){let e=S();me(0),h(1,ro,2,4,"div",22)(2,so,7,6,"div",23),i(3,"div",24)(4,"label",25),r(5," \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0440\u0438\u0430\u043D\u0442 \u043A\u043E\u043D\u0442\u0435\u043D\u0442\u0430 \u043F\u0438\u0441\u044C\u043C\u0430: "),n(),i(6,"div",26)(7,"p",27),r(8," \u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C \u0432\u0440\u0443\u0447\u043D\u0443\u044E \u0442\u0435\u043A\u0441\u0442 "),n(),i(9,"input",28),v("ngModelChange",function(t){g(e);let s=u();return x(s.useTemplate,t)||(s.useTemplate=t),_(t)}),b("change",function(t){g(e);let s=u();return _(s.toggleContentChoice(t))}),n(),i(10,"p",27),r(11," \u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0438\u0437 \u0448\u0430\u0431\u043B\u043E\u043D\u043E\u0432 "),n()()(),h(12,uo,4,2,"div",29),i(13,"div",30)(14,"label",31),r(15," \u0422\u0435\u043C\u0430 \u043F\u0438\u0441\u044C\u043C\u0430 (\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E): "),n(),i(16,"input",32),v("ngModelChange",function(t){g(e);let s=u();return x(s.emailSubject,t)||(s.emailSubject=t),_(t)}),n()(),h(17,mo,4,2,"div",29)(18,go,18,6,"div",33),i(19,"div",34)(20,"button",35),b("click",function(){g(e);let t=u();return _(t.sendEmails())}),r(21),i(22,"span"),E(),i(23,"svg",36)(24,"mask",37)(25,"g",38)(26,"path",39),p(27,"animate",8),n(),i(28,"path",9),p(29,"animate",10),n(),i(30,"path",40),p(31,"animate",41),n(),i(32,"path",42),p(33,"set",43),n(),i(34,"path",44),p(35,"animate",45),n(),i(36,"path",46),p(37,"animate",47),n()()(),p(38,"rect",48),n()()()(),pe()}if(a&2){let e=u();l(),d("ngIf",e.sendMode==="telegram"),l(),d("ngIf",e.sendMode==="site"),l(5),d("ngClass",e.useTemplate?"px-[10px] py-[5px]":"nj-toast-gradient"),l(2),f("ngModel",e.useTemplate),d("disabled",e.isSending),l(),d("ngClass",e.useTemplate?"nj-toast-grad-access":"px-[10px] py-[5px]"),l(2),d("ngIf",e.sendMode==="manual"),l(4),f("ngModel",e.emailSubject),d("disabled",e.isSending),l(),d("ngIf",!e.useTemplate),l(),d("ngIf",e.useTemplate),l(2),d("disabled",e.isSending),l(),w(" ",e.isSending?"\u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430...":"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C"," ")}}function ho(a,m){if(a&1){let e=S();i(0,"div",83)(1,"b"),r(2),n(),i(3,"span",84),b("click",function(){g(e);let t=u();return _(t.cancelMessage())}),E(),i(4,"svg",85),p(5,"path",86),n()()()}if(a&2){let e=u();l(2),C(e.resultMessage)}}var ui=(()=>{class a{usersService;siteUsersService;usersEmailsService;emailTemplatesService;sanitizer;sendMode=null;emailSubject="";emailContent="";isSending=!1;resultMessage="";users=[];siteUsers=[];emailMessages=[];useTemplate=!1;whoSent=[];telegramUsersEmails=[];siteUsersEmails=[];selectedSiteUrl=null;templates=[];selectedTemplate=null;selectedTemplateId=null;telegramColumns=ti;siteColumns=ii;constructor(e,o,t,s,c){this.usersService=e,this.siteUsersService=o,this.usersEmailsService=t,this.emailTemplatesService=s,this.sanitizer=c}ngOnInit(){let e=localStorage.getItem("emailSendMode");this.sendMode=e||"manual";let o=localStorage.getItem("emailSiteUrlFilter");o&&o!=="null"&&(this.selectedSiteUrl=o),this.loadUsers(),this.loadTemplates();let t=localStorage.getItem("emailContentChoice");this.useTemplate=t==="template"}setSendMode(e){this.sendMode=e,localStorage.setItem("emailSendMode",e),(e==="telegram"||e==="site")&&(this.whoSent=[])}loadUsers(){this.usersService.getUsers().subscribe({next:e=>{this.users=e,this.telegramUsersEmails=e.filter(o=>!!o.email&&o.email.trim().length>0).map(o=>o.email)},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 Telegram \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439:",e),this.resultMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 Telegram \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439"}}),this.siteUsersService.getSiteUsers().subscribe({next:e=>{this.siteUsers=e,this.updateSiteUsersEmails(),this.selectedSiteUrl&&!this.uniqueSiteUrls.includes(this.selectedSiteUrl)&&(this.selectedSiteUrl=null,localStorage.setItem("emailSiteUrlFilter","null")),!this.selectedSiteUrl&&this.uniqueSiteUrls.length>0&&(this.selectedSiteUrl=this.uniqueSiteUrls[0],localStorage.setItem("emailSiteUrlFilter",this.selectedSiteUrl),this.updateSiteUsersEmails())},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 Site \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439:",e),this.resultMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 Site \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439"}})}updateSiteUsersEmails(){this.siteUsersEmails=this.siteUsers.filter(e=>!!e.email&&e.email.trim().length>0&&(!this.selectedSiteUrl||e.site_url===this.selectedSiteUrl)).map(e=>e.email)}get filteredSiteUsers(){return this.siteUsers.filter(e=>!this.selectedSiteUrl||e.site_url===this.selectedSiteUrl)}get uniqueSiteUrls(){return[...new Set(this.siteUsers.map(e=>e.site_url))].filter(e=>e!=null)}onSiteUrlFilterChange(){localStorage.setItem("emailSiteUrlFilter",this.selectedSiteUrl===null?"null":this.selectedSiteUrl),this.updateSiteUsersEmails()}loadTemplates(){this.emailTemplatesService.getTemplates().subscribe({next:e=>{if(this.templates=e,console.log("\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043D\u044B\u0435 \u0448\u0430\u0431\u043B\u043E\u043D\u044B:",this.templates),e.length>0){let o=this.selectedTemplateId&&e.find(t=>t.id===this.selectedTemplateId)||e[0];this.selectTemplate(o.instance,o.id)}else this.selectedTemplate=null,this.selectedTemplateId=null,this.resultMessage=this.resultMessage||"\u0428\u0430\u0431\u043B\u043E\u043D\u044B \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B"},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0448\u0430\u0431\u043B\u043E\u043D\u043E\u0432:",e),this.resultMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u043E\u0432"}})}sendEmails(){if(!this.emailSubject.trim()){this.resultMessage="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043C\u0443 \u043F\u0438\u0441\u044C\u043C\u0430";return}if(!this.useTemplate&&!this.emailContent.trim()){this.resultMessage="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u0435 \u043F\u0438\u0441\u044C\u043C\u0430";return}let e=[];if(this.sendMode==="telegram")e=[...new Set(this.telegramUsersEmails)];else if(this.sendMode==="site"){if(!this.selectedSiteUrl){this.resultMessage="\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043A\u043E\u043D\u043A\u0440\u0435\u0442\u043D\u044B\u0439 \u0441\u0430\u0439\u0442 \u0434\u043B\u044F \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438";return}e=[...new Set(this.siteUsersEmails)]}else this.sendMode==="manual"&&(e=[...new Set(this.whoSent)]);if(e.length===0){this.resultMessage="\u041D\u0435\u0442 email \u0434\u043B\u044F \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438";return}if(this.isSending=!0,this.resultMessage="",this.useTemplate&&!this.selectedTemplate){this.resultMessage="\u0428\u0430\u0431\u043B\u043E\u043D \u043D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D",this.isSending=!1;return}let o=this.useTemplate?this.selectedTemplate?.htmlTemplate??"":this.emailContent,t=this.useTemplate;((c,y=1,F=3)=>{this.usersEmailsService.sendBulkEmails(c,this.emailSubject,o,t).subscribe({next:N=>{console.log("\u041E\u0442\u0432\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u043F\u0438\u0441\u0435\u043C:",N);let $=N?.message||"\u041F\u0438\u0441\u044C\u043C\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u044B",oe=N?.sentEmails?.length?N.sentEmails:c;this.resultMessage=$;let H=oe.map(q=>({email:q,subject:this.emailSubject,content:o,status:"sent",isSent:!0,sentAt:new Date().toISOString()}));this.emailMessages=[...this.emailMessages,...H],this.isSending=!1,this.emailSubject="",this.emailContent="",this.whoSent=[]},error:N=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u043F\u0438\u0441\u0435\u043C:",N),this.resultMessage=N||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u043F\u0438\u0441\u0435\u043C",this.isSending=!1;let $=c.map(oe=>({email:oe,subject:this.emailSubject,content:o,status:"failed",isSent:!1,sentAt:new Date().toISOString()}));this.emailMessages=[...this.emailMessages,...$],N.includes("CORS")&&console.warn("CORS-\u043E\u0448\u0438\u0431\u043A\u0430, \u043D\u043E \u0437\u0430\u043F\u0440\u043E\u0441 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u0443\u0441\u043F\u0435\u0448\u0435\u043D. \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u043D\u044B\u0435 \u043B\u043E\u0433\u0438.")}})})(e)}createNewTemplate(){let e=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F \u043D\u043E\u0432\u043E\u0433\u043E \u0448\u0430\u0431\u043B\u043E\u043D\u0430:","New Template");if(!e){this.resultMessage="\u0418\u043C\u044F \u0448\u0430\u0431\u043B\u043E\u043D\u0430 \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E";return}let o=new Ae(this.sanitizer);this.templates.push({id:0,name:e,instance:o}),this.selectTemplate(o,0),this.resultMessage="\u041D\u043E\u0432\u044B\u0439 \u0448\u0430\u0431\u043B\u043E\u043D \u0441\u043E\u0437\u0434\u0430\u043D"}saveTemplate(){if(!this.selectedTemplate){this.resultMessage="\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0448\u0430\u0431\u043B\u043E\u043D \u0434\u043B\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F";return}let e=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F \u0448\u0430\u0431\u043B\u043E\u043D\u0430:","New Template");if(!e){this.resultMessage="\u0418\u043C\u044F \u0448\u0430\u0431\u043B\u043E\u043D\u0430 \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E";return}if(confirm(`\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0448\u0430\u0431\u043B\u043E\u043D \u0441 \u0438\u043C\u0435\u043D\u0435\u043C "${e}"?`)){let o=this.selectedTemplate.getTemplateData();this.emailTemplatesService.saveTemplate(e,o).subscribe({next:t=>{this.resultMessage=`\u041D\u043E\u0432\u044B\u0439 \u0448\u0430\u0431\u043B\u043E\u043D "${e}" \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D`,this.selectedTemplateId=t.id,this.loadTemplates()},error:t=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0430:",t),this.resultMessage=t.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0430"}})}}updateTemplate(){if(!this.selectedTemplate||!this.selectedTemplateId||this.selectedTemplateId===0){this.resultMessage="\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u044B\u0439 \u0448\u0430\u0431\u043B\u043E\u043D \u0434\u043B\u044F \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F";return}let e=this.templates.find(t=>t.id===this.selectedTemplateId)?.name||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E";if(!confirm(`\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D "${e}"?`))return;let o=this.selectedTemplate.getTemplateData();this.emailTemplatesService.updateTemplate(this.selectedTemplateId,e,o).subscribe({next:t=>{console.log("\u0428\u0430\u0431\u043B\u043E\u043D \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0451\u043D:",t),this.resultMessage=`\u0428\u0430\u0431\u043B\u043E\u043D "${e}" \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0451\u043D`,this.loadTemplates()},error:t=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0430:",t),this.resultMessage=t.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0430"}})}deleteTemplate(e,o,t){t.stopPropagation(),confirm(`\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D "${o}"? \u042D\u0442\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043D\u0435\u043B\u044C\u0437\u044F \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C.`)&&this.emailTemplatesService.deleteTemplate(e).subscribe({next:()=>{console.log("\u0428\u0430\u0431\u043B\u043E\u043D \u0443\u0434\u0430\u043B\u0451\u043D:",e),this.resultMessage=`\u0428\u0430\u0431\u043B\u043E\u043D "${o}" \u0443\u0434\u0430\u043B\u0451\u043D`,this.templates=this.templates.filter(s=>s.id!==e),this.selectedTemplateId===e&&(this.selectedTemplate=null,this.selectedTemplateId=null,this.templates.length>0&&this.selectTemplate(this.templates[0].instance,this.templates[0].id))},error:s=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0430:",s),this.resultMessage=s.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0430"}})}selectTemplate(e,o){this.selectedTemplate=e.clone(),this.selectedTemplateId=o}get whoSentStr(){return this.whoSent.join(", ")}set whoSentStr(e){let o=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,t=e.split(",").map(s=>s.trim()).filter(s=>s.length>0);this.whoSent=t.filter(s=>o.test(s)),t.length>0&&this.whoSent.length===0?this.resultMessage="\u0412\u0432\u0435\u0434\u0435\u043D\u044B \u043D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0435 email-\u0430\u0434\u0440\u0435\u0441\u0430":this.resultMessage=""}toggleContentChoice(e){this.useTemplate=e.target.checked,localStorage.setItem("emailContentChoice",this.useTemplate?"template":"text"),this.useTemplate&&!this.selectedTemplate&&this.templates.length>0&&this.selectTemplate(this.templates[0].instance,this.templates[0].id)}cancelMessage(){this.resultMessage=""}static \u0275fac=function(o){return new(o||a)(k(tt),k(We),k(nt),k(at),k(Xe))};static \u0275cmp=T({type:a,selectors:[["app-email-sent"]],decls:25,vars:6,consts:[[1,"admin-page","ml-side"],[1,"container","mx-auto","pt-[10px]"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","py-[10px]","mb-[0px]","rounded-[20px]","w-[100%]","pr-4"],[1,"title-tab","text-2xl","font-bold","text-indigo-600"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24"],["fill","none","stroke","#4f45e5","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["fill","#4f45e5","fill-opacity","0","stroke-dasharray","64","stroke-dashoffset","64","d","M4 5h16c0.55 0 1 0.45 1 1v12c0 0.55 -0.45 1 -1 1h-16c-0.55 0 -1 -0.45 -1 -1v-12c0 -0.55 0.45 -1 1 -1Z"],["fill","freeze","attributeName","fill-opacity","begin","0.7s","dur","0.15s","values","0;0.3"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.6s","values","64;0"],["stroke-dasharray","24","stroke-dashoffset","24","d","M3 6.5l9 5.5l9 -5.5"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.6s","dur","0.2s","values","24;0"],[1,"collapse-wrapper","flex","flex-col","gap-2","mt-[30px]"],[1,"collapse","hover-shadow","border"],["type","radio","name","my-accordion-3","checked","checked",1,"peer"],[1,"collapse-title","text-xl","font-medium","peer-checked:bg-gradient"],[1,"collapse-content","peer-checked:bg-white"],[1,"form-group"],[1,"block","text-2xl","text-gray-600","font-bold","mb-1","text-center"],[3,"modeChange","currentMode","telegramCount","siteCount"],[4,"ngIf"],[3,"emailMessages"],["class","alert mb-4 relative flex justify-between bg-info",4,"ngIf"],["class","telegram-users-email pt-2",4,"ngIf"],["class","site-users-email pt-2",4,"ngIf"],[1,"form-group","pb-4","pt-2"],[1,"block","text-lg","text-gray-600","font-bold","mb-1","text-center"],[1,"checked-var","flex","items-center","justify-center","gap-4","py-2"],[3,"ngClass"],["type","checkbox",1,"toggle","border-indigo-600","bg-indigo-500","checked:bg-green-400","checked:text-green-500","checked:border-green-500",3,"ngModelChange","change","ngModel","disabled"],["class","form-group w-[75%] mx-auto",4,"ngIf"],[1,"form-group","w-[75%]","mx-auto"],[1,"block","text-sm","text-indigo-400","font-bold","mb-1"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043C\u0443 \u043F\u0438\u0441\u044C\u043C\u0430",1,"input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel","disabled"],["class","form-group mb-4",4,"ngIf"],[1,"btn-wrapper","w-full","flex","items-center","justify-center","py-[40px]"],[1,"btn","btn-accent","w-[40%]","text-white","text-xl","rounded-[35px]","min-h-[70px]","items-center",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["id","lineMdEmailArrowRightTwotone0"],["fill","none","stroke","#fff","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","64","stroke-dashoffset","64","d","M4 5h16c0.55 0 1 0.45 1 1v12c0 0.55 -0.45 1 -1 1h-16c-0.55 0 -1 -0.45 -1 -1v-12c0 -0.55 0.45 -1 1 -1Z"],["fill","#fff","fill-opacity","0","stroke","none","d","M12 11l-8 -5h16l-8 5Z"],["fill","freeze","attributeName","fill-opacity","begin","1.2s","dur","0.15s","values","0;0.3"],["fill","#000","fill-opacity","0","stroke","none","d","M19 13c3.31 0 6 2.69 6 6c0 3.31 -2.69 6 -6 6c-3.31 0 -6 -2.69 -6 -6c0 -3.31 2.69 -6 6 -6Z"],["fill","freeze","attributeName","fill-opacity","begin","0.8s","to","1"],["stroke-dasharray","6","stroke-dashoffset","6","d","M16 19h5"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.8s","dur","0.2s","values","6;0"],["stroke-dasharray","4","stroke-dashoffset","4","d","M21 19l-2 2M21 19l-2 -2"],["fill","freeze","attributeName","stroke-dashoffset","begin","1s","dur","0.2s","values","4;0"],["width","24","height","24","fill","#fff","mask","url(#lineMdEmailArrowRightTwotone0)"],[1,"telegram-users-email","pt-2"],[3,"users","title","totalCount","columns"],[1,"site-users-email","pt-2"],["extra-header","",1,"title-group","flex","items-center","gap-4","mb-4","justify-center"],["required","",1,"select","select-primary","text-xl","w-[40%]","mx-auto","rounded-[25px]",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["placeholder","example@gmail.com, 2-example@gmail.com, 3-example@gmail.com",1,"input","w-full","mb-4","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel","disabled"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F",1,"w-full","h-[24dvh]","border","rounded-lg","px-4","py-2","focus:ring","focus:ring-blue-300","focus:ring-opacity-40",3,"ngModelChange","ngModel","disabled"],[1,"form-group","mb-4"],[1,"template-list","flex","mb-4","flex-wrap"],["class","flex items-center rounded-btn py-2 mx-2",4,"ngFor","ngForOf"],[1,"w-full","border","rounded-lg","p-4","overflow-auto","grid","grid-cols-2","gap-4"],[1,"editor-wrapper","flex","flex-col","gap-4"],[3,"emailTemplateChange","emailTemplate","isSending"],[1,"btn-wrapper","gap-4","flex","justify-center","items-center","w-[96%]"],["title","\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u0448\u0430\u0431\u043B\u043E\u043D (\u0442\u043E\u043B\u044C\u043A\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u044B\u0435)",1,"btn","btn-outline","btn-info","w-[44%]","mx-auto","text-lg","rounded-[35px]","mt-4","min-h-[60px]","items-center",3,"click","disabled"],[1,"btn","btn-primary","w-[44%]","mx-auto","text-white","text-lg","rounded-[35px]","mt-4","min-h-[60px]","items-center",3,"click","disabled"],[1,"emeil-template-wrapper","h-[1200px]","overflow-auto"],[1,"h-[1800px]","p-4","pt-[100px]","bg-base-200","relative","flex","flex-col","justify-start","shadow-2xl","rounded-3xl"],["class","w-[100%] h-fit",3,"innerHTML",4,"ngIf"],[1,"flex","items-center","rounded-btn","py-2","mx-2"],[1,"label","btn","btn-ghost","px-2","cursor-pointer",3,"for"],["type","radio","name","template-options",1,"checkbox","checkbox-success",3,"click","id","value","checked"],[1,"ml-2"],["title","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D",1,"btn","btn-circle","btn-sm","text-error","hover:scale-110","transition-transform",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M3 6h18"],["d","M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],["d","M5 6v14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6"],["d","M10 11v6"],["d","M14 11v6"],[1,"w-[100%]","h-fit",3,"innerHTML"],[1,"alert","mb-4","relative","flex","justify-between","bg-info"],[1,"close","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"]],template:function(o,t){o&1&&(p(0,"app-sidebar"),i(1,"section",0)(2,"div",1)(3,"div",2)(4,"h2",3),r(5," \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C email-\u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 "),n(),E(),i(6,"svg",4)(7,"g",5)(8,"path",6),p(9,"animate",7)(10,"animate",8),n(),i(11,"path",9),p(12,"animate",10),n()()()(),M(),i(13,"div",11)(14,"div",12),p(15,"input",13)(16,"div",14),i(17,"div",15)(18,"div",16)(19,"label",17),r(20," \u{1F447} \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043A\u043E\u043C\u0443 \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u{1F447} "),n(),i(21,"app-send-mode-tabs",18),b("modeChange",function(c){return t.setSendMode(c)}),n(),h(22,_o,39,13,"ng-container",19),n()()()(),p(23,"app-emails-table",20),h(24,ho,6,1,"div",21),n()()),o&2&&(l(21),d("currentMode",t.sendMode)("telegramCount",t.telegramUsersEmails.length)("siteCount",t.siteUsersEmails.length),l(),d("ngIf",t.sendMode),l(),d("emailMessages",t.emailMessages),l(),d("ngIf",t.resultMessage))},dependencies:[G,O,W,te,K,Q,R,ye,Z,z,Et,j,oi,ri,li,si],styles:[".all-users-email[_ngcontent-%COMP%]{height:fit-content;max-height:250px;overflow-y:auto;border-radius:22px}.all-users-email[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:20px;display:grid;grid-template-columns:repeat(3,minmax(100px,1fr));gap:0 10px}"]})}return a})();var fo=a=>({hover:a});function xo(a,m){if(a&1&&(i(0,"option",10),r(1),n()),a&2){let e=m.$implicit;d("ngValue",e),l(),w(" ",e," ")}}function vo(a,m){a&1&&(i(0,"div",18),p(1,"app-loading"),n())}function bo(a,m){if(a&1&&(i(0,"div",19),r(1),n()),a&2){let e=u();l(),w(" ",e.error," ")}}function wo(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function Co(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function Eo(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function yo(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function So(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function Mo(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function To(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function ko(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function Bo(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2);l(),w(" ",e.ascending?"\u2191":"\u2193"," ")}}function Io(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u().$implicit,o=u(2).$implicit,t=u(2);l(),w(" ",t.getEventTitle(o.user_submit_data[e])," ")}}function Do(a,m){if(a&1&&(i(0,"span")(1,"a",35),r(2),n()()),a&2){let e=u(2).$implicit,o=u(2).$implicit;l(),d("href",o.user_submit_data[e],L),l(),w(" ",o.user_submit_data[e]," ")}}function Fo(a,m){if(a&1&&(i(0,"span"),r(1),n()),a&2){let e=u(2).$implicit,o=u(2).$implicit,t=u(2);l(),w(" ",t.displayValue(o.user_submit_data[e])," ")}}function Vo(a,m){if(a&1&&h(0,Do,3,2,"span",25)(1,Fo,2,1,"span",25),a&2){let e=u().$implicit,o=u(2).$implicit,t=u(2);d("ngIf",t.isUrl(o.user_submit_data[e])),l(),d("ngIf",!t.isUrl(o.user_submit_data[e]))}}function Po(a,m){if(a&1&&(i(0,"div")(1,"span",34),r(2),n(),h(3,Io,2,1,"span",29)(4,Vo,2,2,"ng-template",null,1,ae),n()),a&2){let e=m.$implicit,o=ne(5),t=u(4);l(2),w("",t.formatKey(e),":"),l(),d("ngIf",e==="event")("ngIfElse",o)}}function Ao(a,m){if(a&1&&(me(0),h(1,Po,6,3,"div",33),pe()),a&2){let e=u().$implicit,o=u(2);l(),d("ngForOf",o.getUserSubmitDataKeys(e.user_submit_data))}}function Wo(a,m){a&1&&r(0,"-")}function Lo(a,m){if(a&1){let e=S();i(0,"tr",27)(1,"th"),r(2),n(),i(3,"td"),r(4),n(),i(5,"td"),r(6),n(),i(7,"td")(8,"a",28),r(9),n()(),i(10,"td"),h(11,Ao,2,1,"ng-container",29)(12,Wo,1,0,"ng-template",null,0,ae),n(),i(14,"td"),r(15),n(),i(16,"td"),r(17),n(),i(18,"td"),r(19),n(),i(20,"td"),r(21),n(),i(22,"td"),r(23),n(),i(24,"td"),r(25),n(),i(26,"td"),r(27),n(),i(28,"td"),r(29),n(),i(30,"td")(31,"button",30),b("click",function(){let t=g(e).$implicit,s=u(2);return _(s.deleteUser(t.id,t.email))}),E(),i(32,"svg",31),p(33,"path",32),n()()()()}if(a&2){let e=m.$implicit,o=m.index,t=ne(13);d("ngClass",Y(16,fo,o%2===1)),l(2),C(o+1),l(2),C(e.user_name||"-"),l(2),C(e.email||"-"),l(2),d("href",e.site_url,L),l(),C(e.site_url||"-"),l(2),d("ngIf",e.user_submit_data)("ngIfElse",t),l(4),C(e.state||"-"),l(2),C(e.browser||"-"),l(2),C(e.os||"-"),l(2),C(e.screen||"-"),l(2),C(e.language_code||"-"),l(2),C(e.javascriptEnabled||"-"),l(2),C((e.last_active==null?null:e.last_active.slice(0,16))||"-"),l(2),C(e.updated_at.slice(0,16))}}function Uo(a,m){if(a&1){let e=S();i(0,"div",20)(1,"div",21)(2,"table",22)(3,"thead")(4,"tr")(5,"th"),r(6,"#"),n(),i(7,"th",23),r(8,"name"),n(),i(9,"th",24),b("click",function(){g(e);let t=u();return _(t.toggleSort("email"))}),r(10," Email "),h(11,wo,2,1,"span",25),n(),i(12,"th",24),b("click",function(){g(e);let t=u();return _(t.toggleSort("site_url"))}),r(13," Site URL "),h(14,Co,2,1,"span",25),n(),i(15,"th"),r(16,"User Submit Data"),n(),i(17,"th",24),b("click",function(){g(e);let t=u();return _(t.toggleSort("state"))}),r(18," State "),h(19,Eo,2,1,"span",25),n(),i(20,"th",24),b("click",function(){g(e);let t=u();return _(t.toggleSort("browser"))}),r(21," Browser "),h(22,yo,2,1,"span",25),n(),i(23,"th",24),b("click",function(){g(e);let t=u();return _(t.toggleSort("os"))}),r(24," OS "),h(25,So,2,1,"span",25),n(),i(26,"th",24),b("click",function(){g(e);let t=u();return _(t.toggleSort("screen"))}),r(27," Screen "),h(28,Mo,2,1,"span",25),n(),i(29,"th",24),b("click",function(){g(e);let t=u();return _(t.toggleSort("language_code"))}),r(30," Language "),h(31,To,2,1,"span",25),n(),i(32,"th"),r(33,"JavaScript"),n(),i(34,"th",24),b("click",function(){g(e);let t=u();return _(t.toggleSort("last_active"))}),r(35," Last Active "),h(36,ko,2,1,"span",25),n(),i(37,"th",24),b("click",function(){g(e);let t=u();return _(t.toggleSort("updated_at"))}),r(38," Updated At "),h(39,Bo,2,1,"span",25),n(),i(40,"th"),r(41,"Action"),n()()(),i(42,"tbody"),h(43,Lo,34,18,"tr",26),D(44,"filterBySiteName"),n()()()()}if(a&2){let e=u();l(11),d("ngIf",e.sortBy==="email"),l(3),d("ngIf",e.sortBy==="site_url"),l(5),d("ngIf",e.sortBy==="state"),l(3),d("ngIf",e.sortBy==="browser"),l(3),d("ngIf",e.sortBy==="os"),l(3),d("ngIf",e.sortBy==="screen"),l(3),d("ngIf",e.sortBy==="language_code"),l(5),d("ngIf",e.sortBy==="last_active"),l(3),d("ngIf",e.sortBy==="updated_at"),l(4),d("ngForOf",P(44,10,e.sortedUsers,e.selectedSiteName))}}function No(a,m){a&1&&(i(0,"div",36),r(1," \u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B. "),n())}var di=(()=>{class a{siteUserService;users=[];isLoading=!1;error="";sortBy="updated_at";ascending=!1;selectedSiteName=null;baseUrl=B.auth.domenUrl;constructor(e){this.siteUserService=e}ngOnInit(){let e=localStorage.getItem("userSortBy"),o=localStorage.getItem("userSortAscending"),t=localStorage.getItem("userSiteNameFilter");e&&(this.sortBy=e),o!==null&&(this.ascending=o==="true"),t!==null&&(this.selectedSiteName=t==="null"?null:t),this.loadSiteUsers()}loadSiteUsers(){this.isLoading=!0,this.error="",this.siteUserService.getSiteUsers().subscribe({next:e=>{this.users=e.map(o=>le(re({},o),{site_name:this.extractSiteName(o.site_url)||o.site_name||""})),console.log("Normalized site users:",this.users.map(o=>({id:o.id,email:o.email,site_url:o.site_url,site_name:o.site_name}))),this.selectedSiteName&&!this.uniqueSiteNames.includes(this.selectedSiteName)&&(this.selectedSiteName=null,localStorage.setItem("userSiteNameFilter","null")),!this.selectedSiteName&&this.uniqueSiteNames.length>0&&(this.selectedSiteName=this.uniqueSiteNames[0],localStorage.setItem("userSiteNameFilter",this.selectedSiteName)),this.isLoading=!1,this.sortUsers()},error:e=>{this.error=e.message,this.isLoading=!1}})}extractSiteName(e){return!e||!e.startsWith(this.baseUrl)?void 0:e.replace(this.baseUrl,"").replace(/\/$/,"")||void 0}deleteUser(e,o){confirm(`\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0441 email ${o}?`)&&(this.isLoading=!0,this.error="",this.siteUserService.deleteSiteUser(e).subscribe({next:()=>{this.users=this.users.filter(t=>t.id!==e),this.selectedSiteName&&!this.uniqueSiteNames.includes(this.selectedSiteName)&&(this.selectedSiteName=null,localStorage.setItem("userSiteNameFilter","null")),this.isLoading=!1,this.sortUsers()},error:t=>{this.error=t.message,this.isLoading=!1}}))}toggleSort(e){this.sortBy===e?this.ascending=!this.ascending:(this.sortBy=e,this.ascending=e!=="updated_at"),this.sortUsers(),localStorage.setItem("userSortBy",this.sortBy),localStorage.setItem("userSortAscending",this.ascending.toString())}get sortedUsers(){return this.users.length?[...this.users].sort((e,o)=>{let t=e[this.sortBy]??"",s=o[this.sortBy]??"";if(["updated_at","last_active"].includes(this.sortBy)){let c=new Date(t).getTime(),y=new Date(s).getTime();return this.ascending?c-y:y-c}return typeof t=="string"&&typeof s=="string"?this.ascending?t.localeCompare(s):s.localeCompare(t):typeof t=="number"&&typeof s=="number"?this.ascending?t-s:s-t:0}):[...this.users]}sortUsers(){this.users=this.sortedUsers}getUserSubmitDataKeys(e){return console.log("User submit data:",e),e?Object.keys(e):[]}displayValue(e){return e==null||typeof e=="object"?"-":String(e)}getEventTitle(e){return e?e.typeEventId?e.typeEventId:e.name?e.name:"Unknown Event":"-"}formatKey(e){return e.replace(/([A-Z])/g," $1").replace(/^./,o=>o.toUpperCase()).replace("Id ","ID ").replace("Fb","Facebook").replace("Ig","Instagram").replace("Tt","TikTok").replace("Tw","Twitter").replace("Yt","YouTube")}isUrl(e){return typeof e!="string"?!1:e.startsWith("http://")||e.startsWith("https://")}get uniqueSiteNames(){let e=[...new Set(this.users.map(o=>o.site_name))].filter(o=>o!=null&&o!=="");return console.log("Unique site names:",e),e.sort()}onSiteNameFilterChange(){console.log("Selected site name changed to:",this.selectedSiteName),localStorage.setItem("userSiteNameFilter",this.selectedSiteName===null?"null":this.selectedSiteName)}static \u0275fac=function(o){return new(o||a)(k(We))};static \u0275cmp=T({type:a,selectors:[["app-site-users"]],decls:21,vars:11,consts:[["noData",""],["regularValue",""],[1,"admin-page","ml-side","section"],[1,"container","mx-auto","pt-[10px]"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","py-[10px]","mb-0","rounded-[20px]","w-full","pr-4"],[1,"title-group","flex","items-center","gap-4"],[1,"title-tab","text-2xl","font-bold","text-indigo-600"],[1,"text-black"],[1,"title-tab","text-main-trans","font-bold"],[1,"select","select-primary","text-xl","w-fit","rounded-[25px]",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24"],["fill","#4f45e5","d","M4 13.525L6.525 11L4 8.475L1.475 11zM17.5 13L20 9l2.5 4zM12 12q-1.25 0-2.125-.875T9 9q0-1.275.875-2.137T12 6q1.275 0 2.138.863T15 9q0 1.25-.862 2.125T12 12M0 18v-1.575q0-1.1 1.113-1.763T4 14q.325 0 .625.013t.575.062q-.35.5-.525 1.075T4.5 16.375V18zm6 0v-1.625q0-1.625 1.663-2.625t4.337-1q2.7 0 4.35 1T18 16.375V18zm14-4q1.8 0 2.9.663t1.1 1.762V18h-4.5v-1.625q0-.65-.162-1.225t-.488-1.075q.275-.05.563-.062T20 14"],["class","text-center py-4",4,"ngIf"],["class","text-red-500 text-center",4,"ngIf"],["class","overflow-x-auto mt-4",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"text-center","py-4"],[1,"text-red-500","text-center"],[1,"overflow-x-auto","mt-4"],[1,"overflow-x-auto"],[1,"table"],[1,"cursor-pointer"],[1,"cursor-pointer",3,"click"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["target","_blank",3,"href"],[4,"ngIf","ngIfElse"],["title","Delete User",1,"btn","hover:btn-error","btn-circle","hover:text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24"],["fill","currentColor","d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12l1.41 1.41L13.41 14l2.12 2.12l-1.41 1.41L12 15.41l-2.12 2.12l-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"],[4,"ngFor","ngForOf"],[1,"font-semibold"],["target","_blank",1,"text-blue-600","hover:underline",3,"href"],[1,"text-center"]],template:function(o,t){o&1&&(p(0,"app-sidebar"),i(1,"section",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2",6)(6,"span",7),r(7," \u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 \u0441\u0430\u0439\u0442\u0430 "),n(),r(8),n(),i(9,"div",8)(10,"select",9),v("ngModelChange",function(c){return x(t.selectedSiteName,c)||(t.selectedSiteName=c),c}),b("ngModelChange",function(){return t.onSiteNameFilterChange()}),i(11,"option",10),r(12,"\u0412\u0441\u0435 \u0441\u0430\u0439\u0442\u044B"),n(),h(13,xo,2,2,"option",11),n()()(),E(),i(14,"svg",12),p(15,"path",13),n()(),h(16,vo,2,0,"div",14)(17,bo,2,1,"div",15)(18,Uo,45,13,"div",16)(19,No,2,0,"div",17),D(20,"filterBySiteName"),n()()),o&2&&(l(8),w(" ",t.baseUrl," "),l(2),f("ngModel",t.selectedSiteName),l(),d("ngValue",null),l(2),d("ngForOf",t.uniqueSiteNames),l(3),d("ngIf",t.isLoading),l(),d("ngIf",t.error),l(),d("ngIf",!t.isLoading&&t.users.length),l(),d("ngIf",!t.isLoading&&P(20,8,t.sortedUsers,t.selectedSiteName).length===0))},dependencies:[G,O,W,te,Me,K,Q,Z,z,j,kt]})}return a})();var mi=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275cmp=T({type:a,selectors:[["app-tutorials"]],decls:139,vars:0,consts:[[1,"admin-page","ml-side","section"],[1,"container","mx-auto","pt-[10px]"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","py-[10px]","mb-0","rounded-[20px]","w-full","pr-4","pl-4"],[1,"title-tab","text-2xl","font-bold","text-indigo-600"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24"],["fill","none","stroke","#4f45e5","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","64","stroke-dashoffset","64","d","M12 3c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9c-4.97 0 -9 -4.03 -9 -9c0 -4.97 4.03 -9 9 -9Z"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.6s","values","64;0"],["stroke-dasharray","16","stroke-dashoffset","16","d","M9 10c0 -1.66 1.34 -3 3 -3c1.66 0 3 1.34 3 3c0 0.98 -0.47 1.85 -1.2 2.4c-0.73 0.55 -1.3 0.6 -1.8 1.6"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.6s","dur","0.2s","values","16;0"],["stroke-dasharray","2","stroke-dashoffset","2","d","M12 17v0.01"],["fill","freeze","attributeName","stroke-dashoffset","begin","0.8s","dur","0.2s","values","2;0"],[1,"list-items","grid","grid-cols-1","gap-4","sm:grid-cols-2","lg:grid-cols-3","py-8","px-4"],["href","https://drive.google.com/file/d/1kw0H49K6No9gIqc2G1BeKFfvMVSuowFr/view?usp=sharing","target","_blank"],[1,"overflow-hidden","rounded-lg","transition","shadow-xl","hover-shadow","cursor-pointer"],["alt","","src","https://i.ibb.co/8g3V1bxq/2.png",1,"h-56","w-full","object-cover"],[1,"bg-white","p-4","sm:p-6","relative"],[1,"new"],["datetime","2022-10-10",1,"block","text-xs","text-indigo-500"],[1,"mt-0.5","text-lg","text-gray-900"],[1,"mt-2","line-clamp-3","text-sm/relaxed","text-indigo-500"],["href","https://drive.google.com/file/d/1tnGQMhr1ReOj-uAjYa7GOGCgvtWEHnvJ/view?usp=sharing","target","_blank"],["alt","","src","https://i.ibb.co/mr5g5zJg/2025-06-12-12-21-21.png",1,"h-56","w-full","object-cover"],[1,"items"],["href","https://drive.google.com/file/d/1vD-Le6VMdGPDUY2y1WHrPiMW9XJqMuIR/view?usp=sharing","target","_blank"],[1,"overflow-hidden","rounded-lg","transition","shadow-xl","hover-shadow"],["alt","","src","https://i.ibb.co/B2SRJVsV/1.png",1,"h-56","w-full","object-cover"],[1,"bg-white","p-4","sm:p-6"],[1,"opacity-50","cursor-not-allowed"],["alt","","src","https://i.ibb.co/YT3vbtg5/1.png",1,"h-56","w-full","object-cover"],["href","https://drive.google.com/file/d/1r1TO4ok5JKWU9SPx0xG9Y4SWDtsu3aHr/view?usp=sharing","target","_blank"],["href","https://drive.google.com/file/d/1J1-PRBqPhlFC_WTgl3IfVFuzonfOm1_e/view?usp=sharing","target","_blank"],["alt","","src","https://i.ibb.co/9mx6hcBH/4.png",1,"h-56","w-full","object-cover"],[1,"mt-0.5","text-lg"],["href","https://drive.google.com/file/d/1aeV3nUQULJ2mHDRmTg_Vxrq5qS5lolKq/view?usp=sharing","target","_blank","rel","noopener noreferrer"],["alt","","src","https://i.ibb.co/dwf13rhJ/5.png",1,"h-56","w-full","object-cover"]],template:function(o,t){o&1&&(p(0,"app-sidebar"),i(1,"section",0)(2,"div",1)(3,"div",2)(4,"h2",3),r(5," Video tutorials "),n(),E(),i(6,"svg",4)(7,"g",5)(8,"path",6),p(9,"animate",7),n(),i(10,"path",8),p(11,"animate",9),n(),i(12,"path",10),p(13,"animate",11),n()()()(),M(),i(14,"ul",12)(15,"li")(16,"a",13)(17,"article",14),p(18,"img",15),i(19,"div",16)(20,"span",17),r(21,"new"),n(),i(22,"time",18),r(23," 12th August 2025 "),n(),i(24,"h3",19),r(25," \u0412\u043A\u043B\u0430\u0434\u043A\u0430 #7 \u041E\u043F\u0440\u043E\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439 "),n(),i(26,"p",20),r(27," - 3 \u0412\u0430\u0440\u0438\u0430\u043D\u0442\u0430 \u043E\u043F\u0440\u043E\u0441\u0430 "),p(28,"br"),r(29," 1 \u041A\u0432\u0438\u0437 \u0441 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u043C \u043E\u0442\u0432\u0435\u0442\u043E\u043C "),p(30,"br"),r(31," 2 \u0410\u043D\u043E\u043D\u0438\u043C\u043D\u044B\u0439 \u043E\u043F\u0440\u043E\u0441 "),p(32,"br"),r(33," 3 \u041E\u043F\u0440\u043E\u0441 \u043E\u0431\u044B\u0447\u043D\u044B\u0439 "),n()()()()(),i(34,"li")(35,"a",21)(36,"article",14),p(37,"img",22),i(38,"div",16)(39,"span",17),r(40,"new"),n(),i(41,"time",18),r(42," 12th June 2025 "),n(),i(43,"h3",19),r(44," \u0412\u043A\u043B\u0430\u0434\u043A\u0430 #6 Sites Event "),n(),i(45,"p",20),r(46," - \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0441\u0430\u0439\u0442\u043E\u0432 \u0441\u043E\u0431\u044B\u0442\u0438\u0439 "),p(47,"br"),r(48," - \u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0438 \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0441\u0430\u0439\u0442\u0430 "),p(49,"br"),r(50," - \u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u044F, \u0442\u0438\u043F \u0441\u043E\u0431\u044B\u0442\u0438\u044F, \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442, \u0434\u0430\u0442\u0430, \u043F\u0440\u0438\u0437\u044B"),p(51,"br"),n()()()()(),i(52,"li",23)(53,"a",24)(54,"article",25),p(55,"img",26),i(56,"div",27)(57,"span",17),r(58,"new"),n(),i(59,"time",18),r(60," 16th June 2025 "),n(),i(61,"h3",19),r(62," \u0412\u043A\u043B\u0430\u0434\u043A\u0430 #3 Send e-mail "),n(),i(63,"p",20),r(64," - \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C e-mail \u043D\u0430 \u043F\u0440\u043E\u0438\u0437\u0432\u043E\u043B\u044C\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441\u0441"),p(65,"br"),r(66," - \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C e-mail \u0422\u0413 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C"),p(67,"br"),r(68," - \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C e-mail \u0433\u0440\u0443\u043F\u043F\u0435 \u0438\u0437 \u0441\u0430\u0439\u0442\u0430"),p(69,"br"),r(70," - \u0412\u044B\u0431\u043E\u0440 \u0448\u0430\u0431\u043B\u043E\u043D\u043E\u0432 \u043F\u0438\u0441\u0435\u043C"),p(71,"br"),r(72," - \u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u0449\u0430\u0431\u043B\u043E\u043D\u043E\u0432 \u043F\u0438\u0441\u0435\u043C"),p(73,"br"),n()()()()(),i(74,"li",28)(75,"article",25),p(76,"img",29),i(77,"div",27)(78,"time",18),r(79," 22th May 2025 "),n(),i(80,"h3",19),r(81,"\u0412\u043A\u043B\u0430\u0434\u043A\u0430 #1 Edit"),n(),i(82,"p",20),r(83," - \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0422\u0413 \u043F\u043E\u0441\u0442\u043E\u0432 \u0438 \u043A\u043D\u043E\u043F\u043E\u043A "),p(84,"br"),r(85," - \u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0438 \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0441\u0442\u0435\u0439 "),p(86,"br"),r(87," - \u0414\u043E\u0441\u0442\u043F\u0443\u043D\u043E \u0444\u043E\u0440\u043C\u0430\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0442\u0435\u043A\u0441\u0442\u0430"),p(88,"br"),n()()()(),i(89,"li")(90,"a",30)(91,"article",14),p(92,"img",15),i(93,"div",27)(94,"time",18),r(95," 22th May 2025 "),n(),i(96,"h3",19),r(97," \u0412\u043A\u043B\u0430\u0434\u043A\u0430 #2 TG send notification "),n(),i(98,"p",20),r(99," - \u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0442\u0435\u043B\u0435\u0433\u0440\u0430\u043C \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0435 \u044E\u0437\u0430\u0440\u0430\u043C "),p(100,"br"),r(101," - \u0412\u044B\u0431\u043E\u0440\u0430 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438"),p(102,"br"),r(103," - \u0414\u043E\u0441\u0442\u043F\u0443\u043D\u043E \u0444\u043E\u0440\u043C\u0430\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0442\u0435\u043A\u0441\u0442\u0430"),p(104,"br"),n()()()()(),i(105,"li")(106,"a",31)(107,"article",14),p(108,"img",32),i(109,"div",27)(110,"time",18),r(111," 22th May 2025 "),n(),i(112,"h3",33),r(113,"\u0412\u043A\u043B\u0430\u0434\u043A\u0430 #4 TG Users | Site users"),n(),i(114,"p",20),r(115," - \u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 \u0422\u0413 \u0431\u043E\u0442\u0430"),p(116,"br"),r(117," - \u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 \u0441\u0430\u0442\u043E\u0432 \u0434\u043E\u043C\u0435\u043D\u0430"),p(118,"br"),r(119," - \u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435 \u0441\u043E\u043C\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0445 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439"),p(120,"br"),n()()()()(),i(121,"li")(122,"a",34)(123,"article",14),p(124,"img",35),i(125,"div",27)(126,"time",18),r(127," 22th May 2025 "),n(),i(128,"h3",33),r(129,"\u0412\u043A\u043B\u0430\u0434\u043A\u0430 #5 Images"),n(),i(130,"p",20),r(131," - \u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F "),p(132,"br"),r(133," - \u0413\u0430\u043B\u0435\u0440\u0435\u044F \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u044B\u0445 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0439 "),p(134,"br"),r(135," - \u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0441\u0441\u044B\u043B\u043A\u0438 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F "),p(136,"br"),r(137," - \u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435 \u043B\u0438\u0448\u043D\u0438\u0439 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0439 "),p(138,"br"),n()()()()()()()())},dependencies:[te]})}return a})();var pi=["Football","Basketball","Boxing","Horse Racing","Tennis","Ice Hockey","Volleyball","Virtual Sport","Baseball"];var ci={Basketball:{imageBgDesk:`${B.auth.imageUrl}/images/image-1752486968349-962169144.jpg`,imageBgMob:`${B.auth.imageUrl}/images/image-1752486986877-986415740.jpg`},Volleyball:{imageBgDesk:`${B.auth.imageUrl}/images/image-1752486909941-339741107.jpg`,imageBgMob:`${B.auth.imageUrl}/images/image-1752486923642-810076218.jpg`},"Virtual Sport":{imageBgDesk:`${B.auth.imageUrl}/images/image-1752487042224-108265948.jpg`,imageBgMob:`${B.auth.imageUrl}/images/image-1752486977894-55142984.jpg'`},"Ice Hockey":{imageBgDesk:`${B.auth.imageUrl}/images/image-1752487029450-604109994.jpg`,imageBgMob:`${B.auth.imageUrl}/images/image-1752487035350-689487540.jpg`},Boxing:{imageBgDesk:`${B.auth.imageUrl}/images/image-1752486997859-743414256.jpg`,imageBgMob:`${B.auth.imageUrl}/images/image-1752486991296-459445824.jpg`},Tennis:{imageBgDesk:`${B.auth.imageUrl}/images/image-1752486899463-78497651.jpg`,imageBgMob:`${B.auth.imageUrl}/images/image-1752486904894-686278754.jpg`},"Horse Racing":{imageBgDesk:`${B.auth.imageUrl}/images/image-1752487019447-279554761.jpg`,imageBgMob:`${B.auth.imageUrl}/images/image-1752486935871-735081635.jpg`},Football:{imageBgDesk:`${B.auth.imageUrl}/images/image-1750717647828-246428478.jpg`,imageBgMob:`${B.auth.imageUrl}/images/image-1750717627254-753162484.jpg`},Baseball:{imageBgDesk:`${B.auth.imageUrl}/images/image-1752487005556-400888572.jpg`,imageBgMob:`${B.auth.imageUrl}/images/image-1752487012576-520834519.jpg`}};var gi=(a="")=>({name:"",type:"",endAt:"",memberA:"",memberB:"",imageMemberA:null,imageMemberB:null,imageBgDesk:null,imageBgMob:null,grandPrize:null,everyoneForPrize:null,landing_url:a,status:"active",result:null});var _i=(()=>{class a{http;apiUrl=B.auth.apiUrlEvents;secret=B.auth.secret;constructor(e){this.http=e}getHeaders(){return new Ye({"X-Admin-Secret":this.secret,"Content-Type":"application/json"})}getAdminEvents(){return this.http.get(this.apiUrl,{headers:this.getHeaders()}).pipe(ie(this.handleError))}getAdminEventById(e){return this.http.get(`${this.apiUrl}/by-id/${e}`,{headers:this.getHeaders()}).pipe(ie(this.handleError))}updateEvents(e,o){return console.log("Sending update request to:",`${this.apiUrl}/${e}`,"Data:",o),this.http.patch(`${this.apiUrl}/${e}`,o,{headers:this.getHeaders()}).pipe(Ne(t=>console.log("Update response:",t)),ke(t=>t.event),ie(t=>(console.error("Update request failed:",t),this.handleError(t))))}createEvent(e){return console.log("Sending create request to:",this.apiUrl,"Data:",e),this.http.post(this.apiUrl,e,{headers:this.getHeaders()}).pipe(Ne(o=>console.log("Create response:",o)),ke(o=>o.event),ie(this.handleError))}updateEventById(e,o){return this.http.patch(`${this.apiUrl}/by-id/${e}`,o,{headers:this.getHeaders()}).pipe(ke(t=>t.event),ie(this.handleError))}handleError(e){let o="\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430";return e.status===401?o="\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430: \u043D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 \u043A\u043B\u044E\u0447 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u0430":e.status===400?o=`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0437\u0430\u043F\u0440\u043E\u0441: ${e.error?.error?.message||e.message}`:e.status===404?o="\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E":e.error instanceof ErrorEvent?o=`\u041E\u0448\u0438\u0431\u043A\u0430: ${e.error.message}`:o=`\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0435\u0440\u043D\u0443\u043B \u043A\u043E\u0434 ${e.status}: ${e.message}`,console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432 EventsSitesService:",o,"Full error:",e),be(()=>new Error(o))}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var hi=(()=>{class a{http;apiUrl=B.auth.apiUrlEventLandings;secret=B.auth.secret;constructor(e){this.http=e}getHeaders(){return new Ye({"X-Admin-Secret":this.secret,"Content-Type":"application/json"})}getLandings(){return this.http.get(this.apiUrl,{headers:this.getHeaders()}).pipe(ie(this.handleError))}getLandingById(e){return this.http.get(`${this.apiUrl}/${e}`,{headers:this.getHeaders()}).pipe(ie(this.handleError))}createLanding(e){return this.http.post(this.apiUrl,e,{headers:this.getHeaders()}).pipe(ie(this.handleError))}updateLanding(e,o){return this.http.patch(`${this.apiUrl}/${e}`,o,{headers:this.getHeaders()}).pipe(ie(this.handleError))}deleteLanding(e){return this.http.delete(`${this.apiUrl}/${e}`,{headers:this.getHeaders()}).pipe(ie(this.handleError))}handleError(e){let o="\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430";return e.status===401?o="\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430: \u043D\u0435\u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 \u043A\u043B\u044E\u0447 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u0430":e.status===400?o=`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0437\u0430\u043F\u0440\u043E\u0441: ${e.error?.message||e.message}`:e.status===404?o="\u041B\u0435\u043D\u0434\u0438\u043D\u0433 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D":e.error instanceof ErrorEvent?o=`\u041E\u0448\u0438\u0431\u043A\u0430: ${e.error.message}`:o=`\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0435\u0440\u043D\u0443\u043B \u043A\u043E\u0434 ${e.status}: ${e.message}`,console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432 LandingsService:",o),be(()=>new Error(o))}static \u0275fac=function(o){return new(o||a)(A(U))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Le=(()=>{class a{cachedUsers={};cachedFiltered={};normalizeUrl(e){return e?e.trim().replace(/\/+$/,"").toLowerCase():""}getUsersForEvent(e,o,t){let s=this.normalizeUrl(o),c=t!=null?`${s}_${t}`:s;return this.cachedUsers[c]||(this.cachedUsers[c]=e.filter(y=>{let F=!1;try{let oe=new URL(o||"").pathname.replace(/\/$/,""),H=new URL(y.site_url||"").pathname.replace(/\/$/,"");F=oe===H}catch{F=!1}let N=!!y.user_submit_data?.selected_option,$=!0;if(t!=null&&N){let oe=y.user_submit_data,H=oe?.event,q;H&&typeof H=="object"&&(q=H.id??H.eventId),q===void 0&&(q=oe?.eventId),$=q!==void 0?q===t:!1}return F&&N&&$})),this.cachedUsers[c]}getFilteredUsersForEvent(e,o,t,s,c="all"){let F=`${this.normalizeUrl(o)}_${t}_${s}_${c}`;if(!this.cachedFiltered[F]){let N=this.getUsersForEvent(e,o,t);c==="all"||s===null?this.cachedFiltered[F]=N:this.cachedFiltered[F]=N.filter($=>{let H=Number($.user_submit_data.selected_option)===s;return c==="win"?H:!H})}return this.cachedFiltered[F]}getUsersForLandingOnly(e,o){let s=`landing_${this.normalizeUrl(o)}`;return this.cachedUsers[s]||(this.cachedUsers[s]=e.filter(c=>{let y=!1;try{let N=new URL(o||"").pathname.replace(/\/$/,""),$=new URL(c.site_url||"").pathname.replace(/\/$/,"");y=N===$}catch{y=!1}let F=!!c.user_submit_data?.selected_option;return y&&F})),this.cachedUsers[s]}clearCache(){this.cachedUsers={},this.cachedFiltered={}}static \u0275fac=function(o){return new(o||a)};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var fi=(()=>{class a{usersEmailsService;eventUsersFilter;isSending=!1;emailMessages=[];constructor(e,o){this.usersEmailsService=e,this.eventUsersFilter=o}sendPush(e,o,t,s,c,y,F=""){return Te(this,null,function*(){if(this.isSending)return;this.isSending=!0,this.emailMessages=[];let N=F.trim()||`\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442 \u0441\u043E\u0431\u044B\u0442\u0438\u044F "${e.name}"`,$=this.eventUsersFilter.getFilteredUsersForEvent(o,e.landing_url||"",e.id,e.result??null,"win").map(q=>q.email).filter((q,he,Ue)=>Ue.indexOf(q)===he),oe=this.eventUsersFilter.getFilteredUsersForEvent(o,e.landing_url||"",e.id,e.result??null,"lose").map(q=>q.email).filter((q,he,Ue)=>Ue.indexOf(q)===he),H=(q,he)=>Te(this,null,function*(){return q.length===0?{message:"\u041D\u0435\u0442 \u043F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B\u0435\u0439",sentEmails:[]}:yield this.usersEmailsService.sendBulkEmails(q,N,he,!0).toPromise()});try{let[q,he]=yield Promise.all([H($,c),H(oe,y)]);this.emailMessages=[...this.processResponse(q,$,c),...this.processResponse(he,oe,y)]}catch{let he=(Ue,Mi)=>Ue.map(Ti=>({email:Ti,subject:N,content:Mi,status:"failed",isSent:!1,sentAt:new Date().toISOString()}));this.emailMessages=[...he($,c),...he(oe,y)]}finally{this.isSending=!1}})}processResponse(e,o,t){return e?.sentEmails?.length?e.sentEmails.map(s=>({email:s,subject:"",content:t,status:"sent",isSent:!0,sentAt:new Date().toISOString()})):o.map(s=>({email:s,subject:"",content:t,status:"failed",isSent:!1,sentAt:new Date().toISOString()}))}clearMessages(){this.emailMessages=[]}static \u0275fac=function(o){return new(o||a)(A(nt),A(Le))};static \u0275prov=V({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Ro=["*"];function Ho(a,m){if(a&1&&(i(0,"div",5)(1,"label",6)(2,"span",7),E(),i(3,"svg",8),p(4,"path",9),n(),r(5),n(),r(6," \u2757\uFE0F\u041D\u0435\u0442 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439 \u0434\u043B\u044F \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438 email\u2757\uFE0F "),n()()),a&2){let e=u(3);l(5),w(" (",e.usersCount,")")}}function $o(a,m){a&1&&$e(0,0,["*ngIf","usersCount == 0"],Ho,7,1)}function Go(a,m){if(a&1&&(i(0,"option",32),r(1),n()),a&2){let e=m.$implicit;d("value",e.id),l(),w(" ",e.name," ")}}function qo(a,m){if(a&1&&(i(0,"option",32),r(1),n()),a&2){let e=m.$implicit;d("value",e.id),l(),w(" ",e.name," ")}}function Yo(a,m){if(a&1&&(i(0,"tr",33)(1,"td",27),r(2),n(),i(3,"td",34),r(4),n(),i(5,"td",35),r(6),n(),i(7,"td",27),r(8),n(),i(9,"td",27),r(10),n(),i(11,"td",27),r(12),D(13,"date"),n()()),a&2){let e=m.$implicit,o=m.index;l(2),C(o+1),l(2),w(" ",e.user_name||"N/A"," "),l(2),w(" ",e.email," "),l(2),w(" ",(e==null||e.user_submit_data==null?null:e.user_submit_data.selected_option)||"N/A"," "),l(2),w(" ",e.site_url," "),l(2),w(" ",P(13,6,e.updated_at,"dd.MM.yyyy")," ")}}function Xo(a,m){if(a&1){let e=S();me(0),i(1,"div",5)(2,"label",6)(3,"span",7),E(),i(4,"svg",8),p(5,"path",9),n(),r(6),n(),r(7," \u2757\uFE0F\u0414\u043B\u044F \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438 email \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0448\u0430\u0431\u043B\u043E\u043D\u044B\u2757\uFE0F "),n()(),M(),i(8,"div",10)(9,"div",11)(10,"div",12)(11,"label",13),r(12," \u0428\u0430\u0431\u043B\u043E\u043D \u0434\u043B\u044F \u043F\u043E\u0431\u0435\u0434\u0438\u0442\u0435\u043B\u0435\u0439 "),i(13,"span",14),r(14,"Win"),n()(),i(15,"select",15),b("ngModelChange",function(t){g(e);let s=u(2);return _(s.onTemplateChange("win",t))}),i(16,"option",16),r(17,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0448\u0430\u0431\u043B\u043E\u043D"),n(),h(18,Go,2,2,"option",17),n()(),i(19,"div",12)(20,"label",13),r(21," \u0428\u0430\u0431\u043B\u043E\u043D \u0434\u043B\u044F \u043F\u0440\u043E\u0438\u0433\u0440\u0430\u0432\u0448\u0438\u0445 "),i(22,"span",18),r(23,"Lose"),n()(),i(24,"select",15),b("ngModelChange",function(t){g(e);let s=u(2);return _(s.onTemplateChange("lose",t))}),i(25,"option",16),r(26,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0448\u0430\u0431\u043B\u043E\u043D"),n(),h(27,qo,2,2,"option",17),n()(),i(28,"div",12)(29,"label",13),r(30," \u0422\u0435\u043C\u0430 \u043F\u0438\u0441\u044C\u043C\u0430 "),i(31,"span",19),r(32,"\u2709\uFE0F"),n()(),i(33,"input",20),v("ngModelChange",function(t){g(e);let s=u(2);return x(s.selectedSubject,t)||(s.selectedSubject=t),_(t)}),n()(),i(34,"div",21)(35,"h3",22),r(36),n(),i(37,"div",23)(38,"table",24)(39,"thead",25)(40,"tr",26)(41,"th",27),r(42,"#"),n(),i(43,"th",27),r(44,"Name"),n(),i(45,"th",27),r(46,"Email"),n(),i(47,"th",27),r(48,"Result"),n(),i(49,"th",27),r(50,"Site"),n(),i(51,"th",27),r(52,"Date"),n()()(),i(53,"tbody",28),h(54,Yo,14,9,"tr",29),n()()()(),i(55,"div",30)(56,"button",31),b("click",function(){g(e);let t=u(2);return _(t.sendPush())}),r(57),p(58,"span"),n()()()(),pe()}if(a&2){let e=u(2);l(6),w(" (",e.usersCount,")"),l(9),d("ngModel",e.selectedWinTemplateId)("disabled",e.isSending),l(3),d("ngForOf",e.templates),l(6),d("ngModel",e.selectedLoseTemplateId)("disabled",e.isSending),l(3),d("ngForOf",e.templates),l(6),f("ngModel",e.selectedSubject),d("disabled",e.isSending),l(3),w(" \u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438 (",e.usersCount,"): "),l(18),d("ngForOf",e.getFilteredUsersForEvent()),l(2),d("disabled",e.isSending||e.event.result===null||!e.selectedWinTemplateId||!e.selectedLoseTemplateId),l(),w(" ",e.isSending?"\u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430...":"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C"," ")}}function Jo(a,m){if(a&1&&(i(0,"div",2),p(1,"input",3),h(2,$o,2,0,"ng-content",4)(3,Xo,59,13,"ng-container",4),n()),a&2){let e=u();l(),Ge("name","my-accordion-",e.event.id,""),l(),d("ngIf",e.usersCount==0),l(),d("ngIf",e.usersCount)}}function Zo(a,m){if(a&1){let e=S();i(0,"div",39)(1,"div",40),E(),i(2,"svg",41),p(3,"path",42),n(),M(),i(4,"span"),r(5),n()(),E(),i(6,"svg",43),b("click",function(){g(e);let t=u(2);return _(t.sendSuccess=!1)}),p(7,"path",44),n()()}if(a&2){let e=u(2);l(5),C(e.sendReport)}}function Ko(a,m){if(a&1){let e=S();i(0,"div",45)(1,"div",40),E(),i(2,"svg",41),p(3,"path",46),n(),M(),i(4,"span"),r(5),n()(),E(),i(6,"svg",43),b("click",function(){g(e);let t=u(2);return _(t.sendError=!1)}),p(7,"path",44),n()()}if(a&2){let e=u(2);l(5),C(e.sendReport)}}function Qo(a,m){if(a&1&&(i(0,"div",36),h(1,Zo,8,1,"div",37)(2,Ko,8,1,"div",38),n()),a&2){let e=u();l(),d("ngIf",e.sendSuccess),l(),d("ngIf",e.sendError)}}var xi=(()=>{class a{emailPushService;eventUsersFilter;cdr;event;templates=[];siteUsers=[];sendSuccess=!1;sendError=!1;sendReport="";selectedWinTemplateId=null;selectedLoseTemplateId=null;selectedSubject="";isSending=!1;constructor(e,o,t){this.emailPushService=e,this.eventUsersFilter=o,this.cdr=t}ngOnInit(){this.initDefaultTemplates()}ngOnChanges(e){this.initDefaultTemplates(),(e.siteUsers||e.event||e.templates)&&this.cdr.markForCheck()}get usersCount(){return this.eventUsersFilter.getUsersForEvent(this.siteUsers,this.event.landing_url||"",this.event.id).length}initDefaultTemplates(){this.templates.length>0&&(this.selectedWinTemplateId===null&&(this.selectedWinTemplateId=this.templates[0].id),this.selectedLoseTemplateId===null&&(this.selectedLoseTemplateId=this.templates[0].id))}getFilteredUsersForEvent(e="all"){let o=this.eventUsersFilter.getUsersForEvent(this.siteUsers,this.event.landing_url||"",this.event.id);return e==="all"||this.event.result===null?o:o.filter(t=>{let c=Number(t.user_submit_data.selected_option)===this.event.result;return e==="win"?c:!c})}onTemplateChange(e,o){let t=Number(o);e==="win"?this.selectedWinTemplateId=isNaN(t)?null:t:this.selectedLoseTemplateId=isNaN(t)?null:t,console.log(`Template changed for ${e}:`,this.selectedWinTemplateId||this.selectedLoseTemplateId),this.cdr.markForCheck()}sendPush(){return Te(this,null,function*(){if(this.isSending||!this.event.result||!this.selectedWinTemplateId||!this.selectedLoseTemplateId)return;let e=this.templates.find(t=>t.id===this.selectedWinTemplateId),o=this.templates.find(t=>t.id===this.selectedLoseTemplateId);if(!e||!o){this.showError("\u0428\u0430\u0431\u043B\u043E\u043D \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D");return}if(!e.instance?.htmlTemplate||!o.instance?.htmlTemplate){this.showError("\u0423 \u0448\u0430\u0431\u043B\u043E\u043D\u0430 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 HTML");return}this.isSending=!0,this.sendSuccess=!1,this.sendError=!1,this.cdr.markForCheck();try{yield this.emailPushService.sendPush(this.event,this.siteUsers,this.selectedWinTemplateId,this.selectedLoseTemplateId,e.instance.htmlTemplate,o.instance.htmlTemplate,this.selectedSubject);let t=this.usersCount;this.showSuccess(`\u0423\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E ${t} \u043F\u0438\u0441\u0435\u043C!`)}catch(t){this.showError(t?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 email")}finally{this.isSending=!1,this.cdr.markForCheck(),setTimeout(()=>{this.sendSuccess=!1,this.sendError=!1,this.cdr.markForCheck()},1e4)}})}showSuccess(e){this.sendSuccess=!0,this.sendError=!1,this.sendReport=e}showError(e){this.sendSuccess=!1,this.sendError=!0,this.sendReport=e}static \u0275fac=function(o){return new(o||a)(k(fi),k(Le),k(Ee))};static \u0275cmp=T({type:a,selectors:[["app-event-email-push"]],inputs:{event:"event",templates:"templates",siteUsers:"siteUsers"},features:[je],ngContentSelectors:Ro,decls:2,vars:2,consts:[["class","collapse hover-shadow-white card bg-base-100 mx-auto cursor-pointer w-[90%] mt-8",4,"ngIf"],["class","toast toast-top toast-center z-50 w-full fixed translate-center-x-1/2 translate-center-y-1/2 h-full",4,"ngIf"],[1,"collapse","hover-shadow-white","card","bg-base-100","mx-auto","cursor-pointer","w-[90%]","mt-8"],["type","radio",1,"peer",3,"name"],[4,"ngIf"],[1,"collapse-title","text-xl","font-medium","peer-checked:bg-gradient"],[1,"text-xl","font-bold","text-center","flex","items-center","justify-center","gap-4"],[1,"flex","items-center","text-indigo-600"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24"],["fill","currentColor","d","M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4"],[1,"collapse-content","peer-checked:bg-white"],[1,"users-groups","flex","flex-col","pt-[10px]"],[1,"form-group","mb-4","flex","items-center","justify-center","gap-8"],[1,"block","text-lg","font-bold","mb-1","w-[33%]","text-right"],[1,"text-success","text-3xl"],[1,"select","select-primary","text-xl","w-fit","mx-auto","rounded-[25px]","flex-1",3,"ngModelChange","ngModel","disabled"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"text-error","text-3xl"],[1,"text-warning","text-3xl"],["type","text","placeholder","\u041D\u0430\u043F\u0440\u0438\u043C\u0435\u0440: \u041F\u043E\u0437\u0434\u0440\u0430\u0432\u043B\u044F\u0435\u043C! \u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u0433\u043E\u043B\u043E\u0441\u043E\u0432\u0430\u043D\u0438\u044F \u{1F389}",1,"input","input-primary","text-xl","w-fit","mx-auto","rounded-[25px]","flex-1","px-6",3,"ngModelChange","ngModel","disabled"],[1,"users-all-wrapper","pb-3"],[1,"text-lg","font-bold","text-center","mb-2"],[1,"h-[200px]","overflow-x-auto","mx-auto","w-[96%]","shadow-2xl","rounded-3xl"],[1,"min-w-full","divide-y-2","divide-gray-200"],[1,"sticky","top-0","bg-white","text-left"],[1,"text-sm","text-gray-400"],[1,"px-3","py-2","whitespace-nowrap"],[1,"divide-y","divide-gray-200"],["class","text-gray-500 text-sm",4,"ngFor","ngForOf"],[1,"btn-wrapper","w-full","flex","items-center","justify-center","py-[20px]","gap-4"],[1,"btn","btn-accent","w-[30%]","text-white","text-xl","rounded-[35px]","min-h-[70px]",3,"click","disabled"],[3,"value"],[1,"text-gray-500","text-sm"],[1,"px-3","py-2","whitespace-nowrap","text-gray-800","font-bold"],[1,"px-3","py-2","whitespace-nowrap","text-indigo-400"],[1,"toast","toast-top","toast-center","z-50","w-full","fixed","translate-center-x-1/2","translate-center-y-1/2","h-full"],["class","alert alert-success shadow-lg",4,"ngIf"],["class","alert alert-error shadow-lg",4,"ngIf"],[1,"alert","alert-success","shadow-lg"],[1,"flex","gap-2","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"stroke-current","flex-shrink-0","h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24",3,"click"],["fill","currentColor","d","M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"],[1,"alert","alert-error","shadow-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(o,t){o&1&&(He(),h(0,Jo,4,4,"div",0)(1,Qo,3,2,"div",1)),o&2&&(d("ngIf",t.event.status==="inactive"||t.event.status==="ended"),l(),d("ngIf",t.sendSuccess||t.sendError))},dependencies:[O,W,K,Q,R,Z,z,j,J],changeDetection:0})}return a})();function tr(a,m){if(a&1&&(i(0,"picture",34),p(1,"img",35),n()),a&2){let e=u();De("data-tip",e.event.imageMemberA),l(),Se("alt",e.event.memberA),d("src",e.event.imageMemberA,L)}}function ir(a,m){if(a&1&&(i(0,"span",36),r(1),n()),a&2){let e=u();l(),w(" \u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 URL, \u043F\u0440\u0438\u043C\u0435\u0440: ",e.imageUrl,"/images/example.png ")}}function nr(a,m){a&1&&(i(0,"picture"),p(1,"img",37),n())}function ar(a,m){if(a&1&&(i(0,"div",38),r(1),n()),a&2){let e=u();l(),w(" ",e.event.result===1?e.event.memberA+" \u043F\u043E\u0431\u0435\u0434\u0438\u043B":e.event.result===2?e.event.memberB+" \u043F\u043E\u0431\u0435\u0434\u0438\u043B":"\u041D\u0438\u0447\u044C\u044F"," ")}}function or(a,m){if(a&1&&(i(0,"picture",34),p(1,"img",35),n()),a&2){let e=u();De("data-tip",e.event.imageMemberB),l(),Se("alt",e.event.memberB),d("src",e.event.imageMemberB,L)}}function rr(a,m){if(a&1&&(i(0,"span",36),r(1),n()),a&2){let e=u();l(),w(" \u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 URL, \u043F\u0440\u0438\u043C\u0435\u0440: ",e.imageUrl,"/images/example.png ")}}function lr(a,m){if(a&1){let e=S();i(0,"div",39)(1,"label",40),r(2," \u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442: "),i(3,"div",41)(4,"select",42),v("ngModelChange",function(t){g(e);let s=u();return x(s.event.result,t)||(s.event.result=t),_(t)}),b("ngModelChange",function(t){g(e);let s=u();return _(s.onResultChange(t))}),i(5,"option",43),r(6,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442"),n(),i(7,"option",43),r(8),n(),i(9,"option",43),r(10),n(),i(11,"option",43),r(12,"Draw (\u041D\u0438\u0447\u044C\u044F)"),n()()()()()}if(a&2){let e=u();l(4),f("ngModel",e.event.result),l(),d("value",null),l(2),d("value",1),l(),C(e.event.memberA),l(),d("value",2),l(),C(e.event.memberB),l(),d("value",3)}}var vi=(()=>{class a{urlValidationService;event;imageUrl=B.auth.imageUrl;save=new ue;cancel=new ue;constructor(e){this.urlValidationService=e}refreshImage(){}onResultChange(e){this.event.result=e,this.save.emit(this.event)}saveChanges(){this.save.emit(this.event)}cancelEdit(){this.cancel.emit()}static \u0275fac=function(o){return new(o||a)(k(ce))};static \u0275cmp=T({type:a,selectors:[["app-event-edit"]],inputs:{event:"event"},outputs:{save:"save",cancel:"cancel"},decls:65,vars:22,consts:[[1,"card","bg-base-100","mx-auto","hover-shadow-white","cursor-pointer","w-[90%]","flex","flex-col","gap-8"],[1,"card-primary-inner","flex","flex-col","gap-4","items-center","p-6"],[1,"text-lg","text-gray-600","text-center"],[1,"card-primary-text","flex","flex-col","gap-4","items-center","w-full","pb-4"],[1,"text-lg","font-bold","w-full","text-center","grid","justify-center","items-center","label-grid"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u044F",1,"input","w-fit","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0438\u043F \u0441\u043E\u0431\u044B\u0442\u0438\u044F (\u043D\u0430\u043F\u0440., Ultra Liga)",1,"input","w-fit","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],[1,"flex","flex-col"],[1,"text-gray-400","text-xs"],["type","datetime-local",1,"input","w-fit","border","border-gray-400","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],[1,"select","select-primary","text-xl","w-fit","rounded-[25px]",3,"ngModelChange","ngModel"],["value","active"],["value","inactive"],[1,"card-primary-image","flex","items-center","w-full","pb-8"],[1,"mebmer","flex","flex-col","items-center","w-[40%]"],["class","tooltip tooltip-bottom tooltip-primary",4,"ngIf"],[1,"text-sm","font-bold","w-full","text-center","flex","flex-col","justify-center","items-center","gap-2","mb-2"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",1,"input","w-fit","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","blur","ngModel"],["class","text-red-500 text-sm mt-2 block",4,"ngIf"],[1,"text-sm","font-bold","w-full","text-center","flex","flex-col","justify-center","items-center"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043E\u043C\u0430\u043D\u0434\u044B/\u0438\u0433\u0440\u043E\u043A\u0430",1,"input","w-fit","border","border-gray-300","rounded-lg","px-4","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],[1,"result","flex","flex-col","items-center","w-[20%]"],[4,"ngIf"],["class","text-5xl font-bold w-full text-center flex flex-col justify-center items-center",4,"ngIf"],[1,"card-primary-image","flex","flex-col","gap-4","items-center","w-full"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u043F\u0440\u0438\u0437 (\u043D\u0430\u043F\u0440., 100 FREESPINS)",1,"input","w-fit","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0440\u0438\u0437 \u0434\u043B\u044F \u043A\u0430\u0436\u0434\u043E\u0433\u043E (\u043D\u0430\u043F\u0440., +10 FS)",1,"input","w-fit","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],["class","w-full flex flex-col justify-center items-center gap-4",4,"ngIf"],[1,"card-actions","justify-center","pt-4","gap-4"],[1,"btn","btn-ghost","pr-0","text-success",3,"click"],[1,"btn","btn-accent"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"],[1,"btn","btn-ghost","text-error","hover:bg-error","hover:text-white",3,"click"],[1,"tooltip","tooltip-bottom","tooltip-primary"],[1,"team-image","mt-2",3,"src","alt"],[1,"text-red-500","text-sm","mt-2","block"],["src","https://vietget.online/lp200/img/card-primary/VS.svg","alt","VS",1,"vs-img","bg-base-300","rounded-xl","p-[10px]"],[1,"text-5xl","font-bold","w-full","text-center","flex","flex-col","justify-center","items-center"],[1,"w-full","flex","flex-col","justify-center","items-center","gap-4"],[1,"text-3xl","font-bold","w-full","text-center","flex","justify-center","items-center","gap-4"],[1,"dropdown","dropdown-bottom","dropdown-center"],[1,"select","select-bordered","w-[200px]","text-xl",3,"ngModelChange","ngModel"],[3,"value"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"span",2)(3,"b"),r(4,"Event id: "),n(),r(5),n(),i(6,"div",3)(7,"label",4),r(8," \u0412\u0438\u0434 \u0441\u043F\u043E\u0440\u0442\u0430: "),i(9,"input",5),v("ngModelChange",function(c){return x(t.event.name,c)||(t.event.name=c),c}),n()(),i(10,"label",4),r(11," \u0422\u0438\u043F \u0441\u043E\u0431\u044B\u0442\u0438\u044F: "),i(12,"input",6),v("ngModelChange",function(c){return x(t.event.type,c)||(t.event.type=c),c}),n()(),i(13,"label",4)(14,"span",7),r(15," \u0414\u0430\u0442\u0430: "),i(16,"span",8),r(17),D(18,"date"),n()(),i(19,"input",9),v("ngModelChange",function(c){return x(t.event.endAt,c)||(t.event.endAt=c),c}),n()(),i(20,"label",4),r(21," \u0421\u0442\u0430\u0442\u0443\u0441: "),i(22,"select",10),v("ngModelChange",function(c){return x(t.event.status,c)||(t.event.status=c),c}),i(23,"option",11),r(24,"\u0410\u043A\u0442\u0438\u0432\u043D\u043E"),n(),i(25,"option",12),r(26,"\u041D\u0435\u0430\u043A\u0442\u0438\u0432\u043D\u043E"),n()()()(),i(27,"div",13)(28,"div",14),h(29,tr,2,3,"picture",15),i(30,"label",16),r(31," URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043A\u043E\u043C\u0430\u043D\u0434\u044B A: "),i(32,"input",17),v("ngModelChange",function(c){return x(t.event.imageMemberA,c)||(t.event.imageMemberA=c),c}),b("blur",function(){return t.refreshImage()}),n(),h(33,ir,2,1,"span",18),n(),i(34,"label",19),r(35," \u041A\u043E\u043C\u0430\u043D\u0434\u0430/\u0418\u0433\u0440\u043E\u043A 1: "),i(36,"input",20),v("ngModelChange",function(c){return x(t.event.memberA,c)||(t.event.memberA=c),c}),n()()(),i(37,"div",21),h(38,nr,2,0,"picture",22)(39,ar,2,1,"div",23),n(),i(40,"div",14),h(41,or,2,3,"picture",15),i(42,"label",16),r(43," URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043A\u043E\u043C\u0430\u043D\u0434\u044B B: "),i(44,"input",17),v("ngModelChange",function(c){return x(t.event.imageMemberB,c)||(t.event.imageMemberB=c),c}),b("blur",function(){return t.refreshImage()}),n(),h(45,rr,2,1,"span",18),n(),i(46,"label",19),r(47," \u041A\u043E\u043C\u0430\u043D\u0434\u0430/\u0418\u0433\u0440\u043E\u043A 2: "),i(48,"input",20),v("ngModelChange",function(c){return x(t.event.memberB,c)||(t.event.memberB=c),c}),n()()()(),i(49,"div",24)(50,"label",4),r(51," \u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u043F\u0440\u0438\u0437: "),i(52,"input",25),v("ngModelChange",function(c){return x(t.event.grandPrize,c)||(t.event.grandPrize=c),c}),n()(),i(53,"label",4),r(54," \u041F\u0440\u0438\u0437 \u0434\u043B\u044F \u043A\u0430\u0436\u0434\u043E\u0433\u043E: "),i(55,"input",26),v("ngModelChange",function(c){return x(t.event.everyoneForPrize,c)||(t.event.everyoneForPrize=c),c}),n()()(),h(56,lr,13,7,"div",27),i(57,"div",28)(58,"button",29),b("click",function(){return t.saveChanges()}),r(59," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),i(60,"span",30),E(),i(61,"svg",31),p(62,"path",32),n()()(),M(),i(63,"button",33),b("click",function(){return t.cancelEdit()}),r(64," \u041E\u0442\u043C\u0435\u043D\u0430 "),n()()()()),o&2&&(l(5),w("",t.event.typeEventId," "),l(4),f("ngModel",t.event.name),l(3),f("ngModel",t.event.type),l(5),C(P(18,19,t.event.endAt,"medium")),l(2),f("ngModel",t.event.endAt),l(3),f("ngModel",t.event.status),l(7),d("ngIf",t.event.imageMemberA),l(3),f("ngModel",t.event.imageMemberA),l(),d("ngIf",t.event.imageMemberA&&!t.urlValidationService.isValidImageUrl(t.event.imageMemberA)),l(3),f("ngModel",t.event.memberA),l(2),d("ngIf",t.event.result===null),l(),d("ngIf",t.event.result!==null),l(2),d("ngIf",t.event.imageMemberB),l(3),f("ngModel",t.event.imageMemberB),l(),d("ngIf",t.event.imageMemberB&&!t.urlValidationService.isValidImageUrl(t.event.imageMemberB)),l(3),f("ngModel",t.event.memberB),l(4),f("ngModel",t.event.grandPrize),l(3),f("ngModel",t.event.everyoneForPrize),l(),d("ngIf",t.event.status==="ended"||t.event.status==="inactive"))},dependencies:[W,K,Q,R,Z,z,j,J],changeDetection:0})}return a})();var bi=(a,m)=>{if(!a||m==="inactive"||m==="ended")return{days:0,hours:0,minutes:0,seconds:0};let e=new Date(a).getTime(),o=Date.now(),t=e-o;return t<=0?{days:0,hours:0,minutes:0,seconds:0}:{days:Math.floor(t/864e5),hours:Math.floor(t%864e5/36e5),minutes:Math.floor(t%36e5/6e4),seconds:Math.floor(t%6e4/1e3)}};var wi=(()=>{class a{cdr;endAt;status;countdown={days:0,hours:0,minutes:0,seconds:0};intervalId;constructor(e){this.cdr=e}ngOnInit(){this.updateCountdown(),this.intervalId=setInterval(()=>{this.updateCountdown()},1e3)}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId)}updateCountdown(){!this.endAt||!this.status?this.countdown={days:0,hours:0,minutes:0,seconds:0}:this.countdown=bi(this.endAt,this.status),this.cdr.markForCheck()}static \u0275fac=function(o){return new(o||a)(k(Ee))};static \u0275cmp=T({type:a,selectors:[["app-countdown-timer"]],inputs:{endAt:"endAt",status:"status"},decls:16,vars:25,consts:[[1,"countdown","font-mono","text-lg","text-gray-400","items-end"],["aria-live","polite",1,"countdown","font-mono","text-2xl","text-black"],[1,"countdown","font-mono","text-2xl","pl-2"],["aria-live","polite"]],template:function(o,t){o&1&&(i(0,"span",0)(1,"span",1),r(2),n(),r(3," days "),n(),i(4,"span",2)(5,"span",3),r(6),D(7,"number"),n(),r(8,": "),i(9,"span",3),r(10),D(11,"number"),n(),r(12,": "),i(13,"span",3),r(14),D(15,"number"),n()()),o&2&&(l(),Oe("--value: ",t.countdown.days,""),l(),w(" ",t.countdown.days," "),l(3),Oe("--value: ",t.countdown.hours,""),l(),w(" ",P(7,16,t.countdown.hours,"2.0")," "),l(3),Oe("--value: ",t.countdown.minutes,""),l(),w(" ",P(11,19,t.countdown.minutes,"2.0")," "),l(3),Oe("--value: ",t.countdown.seconds,""),l(),w(" ",P(15,22,t.countdown.seconds,"2.0")," "))},dependencies:[vt],encapsulation:2,changeDetection:0})}return a})();function dr(a,m){if(a&1&&p(0,"img",21),a&2){let e=u();d("src",e.event.imageMemberA,L)("alt",e.event.memberA)}}function mr(a,m){if(a&1&&(i(0,"p",22),r(1),n()),a&2){let e=u();l(),w(" ",e.event.result===1?e.event.memberA+" \u043F\u043E\u0431\u0435\u0434\u0438\u043B":e.event.result===2?e.event.memberB+" \u043F\u043E\u0431\u0435\u0434\u0438\u043B":"\u041D\u0438\u0447\u044C\u044F"," ")}}function pr(a,m){a&1&&(i(0,"picture"),p(1,"img",23),n())}function cr(a,m){if(a&1&&p(0,"img",21),a&2){let e=u();d("src",e.event.imageMemberB,L)("alt",e.event.memberB)}}function gr(a,m){if(a&1&&(i(0,"div",24),p(1,"app-countdown-timer",25),n()),a&2){let e=u();l(),d("endAt",e.event.endAt)("status",e.event.status)}}function _r(a,m){a&1&&(i(0,"div",24)(1,"span",26),r(2,"\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043E"),n()())}var Ci=(()=>{class a{event;edit=new ue;constructor(){}onEdit(){this.edit.emit()}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=T({type:a,selectors:[["app-event-view"]],inputs:{event:"event"},outputs:{edit:"edit"},decls:40,vars:19,consts:[[1,"card","bg-base-100","mx-auto","hover-shadow-white","cursor-pointer","w-[90%]"],[1,"card-primary-inner","flex","flex-col","gap-6","items-center","p-6"],[1,"text-lg","text-gray-600","text-center"],[1,"card-primary-text","flex","flex-col","gap-2","items-center"],[1,"card-primary-title","text-3xl","font-bold"],[1,"card-primary-text","text-center"],[1,"card-primary-subtext","block","text-center"],[1,"card-primary-image","flex","gap-8","items-center"],[1,"mebmer","flex","flex-col","items-center"],["class","team-image",3,"src","alt",4,"ngIf"],[1,"text-sm"],[1,"result"],["class","text-5xl text-nowrap",4,"ngIf"],[4,"ngIf"],["class","timer",4,"ngIf"],[1,"card-primary-image","flex","flex-col","gap-4","items-center","pb-6"],[1,"flex","flex-col","items-start","btn","btn-ghost","btn-access","w-fit","my-4"],[1,"text-3xl","font-bold"],[1,"text-xl"],[1,"btn","btn-ghost","pr-0",3,"click","disabled"],[1,"btn","btn-primary"],[1,"team-image",3,"src","alt"],[1,"text-5xl","text-nowrap"],["src","https://vietget.online/lp200/img/card-primary/VS.svg","alt","VS",1,"vs-img","bg-base-300","rounded-xl","p-[10px]"],[1,"timer"],[3,"endAt","status"],[1,"text-lg","text-gray-400"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"span",2)(3,"b"),r(4,"Event ID: "),n(),r(5),n(),i(6,"div",3)(7,"h5",4),r(8),n(),i(9,"p",5),r(10),i(11,"span",6),r(12),D(13,"date"),n()()(),i(14,"div",7)(15,"div",8)(16,"picture"),h(17,dr,1,2,"img",9),n(),i(18,"p",10),r(19),n()(),i(20,"div",11),h(21,mr,2,1,"p",12)(22,pr,2,0,"picture",13),n(),i(23,"div",8)(24,"picture"),h(25,cr,1,2,"img",9),n(),i(26,"p",10),r(27),n()()(),h(28,gr,2,2,"div",14)(29,_r,3,0,"div",14),i(30,"div",15)(31,"div",16)(32,"h2",17),r(33),n()(),i(34,"p",18),r(35),n()(),i(36,"button",19),b("click",function(){return t.onEdit()}),r(37," \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),i(38,"span",20),p(39,"app-edit-icon"),n()()()()),o&2&&(l(5),Fe("",t.event.id," (",t.event.typeEventId,") "),l(3),w(" ",t.event.name," "),l(2),w(" ",t.event.type," "),l(2),w(" ",P(13,16,t.event.endAt,"dd/MM/yyyy HH:mm")," "),l(5),d("ngIf",t.event.imageMemberA),l(2),C(t.event.memberA),l(2),d("ngIf",t.event.result!==null),l(),d("ngIf",t.event.result===null),l(3),d("ngIf",t.event.imageMemberB),l(2),C(t.event.memberB),l(),d("ngIf",t.event.status==="active"),l(),d("ngIf",t.event.status!=="active"),l(4),C(t.event.grandPrize),l(2),C(t.event.everyoneForPrize),l(),d("disabled",t.event.status!=="active"))},dependencies:[W,_e,wi,J],changeDetection:0})}return a})();function fr(a,m){if(a&1&&(i(0,"div",29),p(1,"img",30),n()),a&2){let e=u();l(),d("src",e.newEvent.imageBgDesk,L)}}function xr(a,m){if(a&1&&(i(0,"option",6),r(1),n()),a&2){let e=m.$implicit;d("ngValue",e),l(),w(" ",e," ")}}function vr(a,m){if(a&1&&(i(0,"picture",31),p(1,"img",32),n()),a&2){let e=u();De("data-tip",e.newEvent.imageMemberA),l(),d("src",e.newEvent.imageMemberA,L)("alt",e.newEvent.memberA||"\u041A\u043E\u043C\u0430\u043D\u0434\u0430 A")}}function br(a,m){if(a&1&&(i(0,"span",33),r(1),n()),a&2){let e=u();l(),w(" \u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 URL, \u043F\u0440\u0438\u043C\u0435\u0440: ",e.imageUrl,"/images/example.png ")}}function wr(a,m){if(a&1&&(i(0,"picture",31),p(1,"img",32),n()),a&2){let e=u();De("data-tip",e.newEvent.imageMemberB),l(),d("src",e.newEvent.imageMemberB,L)("alt",e.newEvent.memberB||"\u041A\u043E\u043C\u0430\u043D\u0434\u0430 B")}}function Cr(a,m){if(a&1&&(i(0,"span",33),r(1),n()),a&2){let e=u();l(),w(" \u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 URL, \u043F\u0440\u0438\u043C\u0435\u0440: ",e.imageUrl,"/images/example.png ")}}var Ei=(()=>{class a{urlValidationService;newEvent;sports=[];sportBackgrounds={};landingUrl;hasActiveEvent=!1;imageUrl=B.auth.imageUrl;sportChange=new ue;create=new ue;cancel=new ue;constructor(e){this.urlValidationService=e}onSportChange(){this.sportChange.emit()}refreshImage(){}get isCreateDisabled(){return!this.newEvent.name||!this.sports.includes(this.newEvent.name)||!this.newEvent.type||!this.newEvent.endAt||!this.newEvent.memberA||!this.newEvent.memberB||!this.landingUrl||this.newEvent.imageMemberA&&!this.urlValidationService.isValidImageUrl(this.newEvent.imageMemberA)||this.newEvent.imageMemberB&&!this.urlValidationService.isValidImageUrl(this.newEvent.imageMemberB)||this.hasActiveEvent}onCreate(){this.create.emit()}onCancel(){this.cancel.emit()}static \u0275fac=function(o){return new(o||a)(k(ce))};static \u0275cmp=T({type:a,selectors:[["app-event-create"]],inputs:{newEvent:"newEvent",sports:"sports",sportBackgrounds:"sportBackgrounds",landingUrl:"landingUrl",hasActiveEvent:"hasActiveEvent"},outputs:{sportChange:"sportChange",create:"create",cancel:"cancel"},decls:54,vars:17,consts:[[1,"card","bg-base-100","mx-auto","hover-shadow-white","cursor-pointer","w-[98%]","flex","flex-col","gap-8","py-4","relative","overflow-hidden"],["class","img-bg absolute w-full h-full top-0 left-0 z-[-1] border-radius-[20px] overflow-hidden",4,"ngIf"],[1,"text-2xl","font-bold","text-indigo-600","text-center"],[1,"card-primary-text","flex","flex-col","gap-4","items-center","w-full","pb-4"],[1,"text-lg","font-bold","w-full","text-center","grid","justify-center","items-center","label-grid"],[1,"select","select-primary","text-xl","w-fit","rounded-[25px]",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0438\u043F \u0441\u043E\u0431\u044B\u0442\u0438\u044F (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, Ultra Liga)",1,"input","w-fit","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],["type","datetime-local",1,"input","w-fit","border","border-gray-400","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],[1,"card-primary-image","flex","items-center","w-full","pb-8"],[1,"mebmer","flex","flex-col","items-center","w-[40%]"],["class","tooltip tooltip-bottom tooltip-primary",4,"ngIf"],[1,"text-sm","font-bold","w-full","text-center","flex","flex-col","justify-center","items-center","gap-2","mb-2"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",1,"input","w-fit","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],["class","text-red-500 text-sm mt-2 block",4,"ngIf"],[1,"text-sm","font-bold","w-full","text-center","flex","flex-col","justify-center","items-center"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u043E\u043C\u0430\u043D\u0434\u044B/\u0438\u0433\u0440\u043E\u043A\u0430",1,"input","w-fit","border","border-gray-300","rounded-lg","px-4","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],[1,"result","flex","flex-col","items-center","w-[20%]"],["src","https://vietget.online/lp200/img/card-primary/VS.svg","alt","VS",1,"vs-img","bg-base-300","rounded-xl","p-[10px]"],[1,"card-primary-image","flex","flex-col","gap-4","items-center","w-full"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u043F\u0440\u0438\u0437 (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, 100 FREESPINS)",1,"input","w-fit","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0440\u0438\u0437 \u0434\u043B\u044F \u043A\u0430\u0436\u0434\u043E\u0433\u043E (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, +10 FS)",1,"input","w-fit","border","border-gray-300","rounded-lg","px-4","py-2.5","focus:ring","focus:ring-indigo-300","focus:ring-opacity-40","text-indigo-600",3,"ngModelChange","ngModel"],[1,"card-actions","justify-center","pt-4","gap-4"],[1,"btn","btn-ghost","pr-0","text-success",3,"click","disabled"],[1,"btn","btn-accent"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24"],["fill","currentColor","d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"],[1,"btn","btn-ghost","text-error","hover:bg-error","hover:text-white",3,"click"],[1,"img-bg","absolute","w-full","h-full","top-0","left-0","z-[-1]","border-radius-[20px]","overflow-hidden"],["alt","\u0424\u043E\u043D \u0434\u0435\u0441\u043A\u0442\u043E\u043F",1,"mt-2","object-cover","w-full","h-full","opacity-50",3,"src"],[1,"tooltip","tooltip-bottom","tooltip-primary"],[1,"team-image","mt-2",3,"src","alt"],[1,"text-red-500","text-sm","mt-2","block"]],template:function(o,t){o&1&&(i(0,"div",0),h(1,fr,2,1,"div",1),i(2,"h3",2),r(3," \u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u043E\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u0435 "),n(),i(4,"div",3)(5,"label",4),r(6," \u0412\u0438\u0434 \u0441\u043F\u043E\u0440\u0442\u0430: "),i(7,"select",5),v("ngModelChange",function(c){return x(t.newEvent.name,c)||(t.newEvent.name=c),c}),b("ngModelChange",function(){return t.onSportChange()}),i(8,"option",6),r(9,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0441\u043F\u043E\u0440\u0442\u0430"),n(),h(10,xr,2,2,"option",7),n()(),i(11,"label",4),r(12," \u0422\u0438\u043F \u0441\u043E\u0431\u044B\u0442\u0438\u044F: "),i(13,"input",8),v("ngModelChange",function(c){return x(t.newEvent.type,c)||(t.newEvent.type=c),c}),n()(),i(14,"label",4),r(15," \u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F: "),i(16,"input",9),v("ngModelChange",function(c){return x(t.newEvent.endAt,c)||(t.newEvent.endAt=c),c}),n()()(),i(17,"div",10)(18,"div",11),h(19,vr,2,3,"picture",12),i(20,"label",13),r(21," URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043A\u043E\u043C\u0430\u043D\u0434\u044B A: "),i(22,"input",14),v("ngModelChange",function(c){return x(t.newEvent.imageMemberA,c)||(t.newEvent.imageMemberA=c),c}),b("ngModelChange",function(){return t.refreshImage()}),n(),h(23,br,2,1,"span",15),n(),i(24,"label",16),r(25," \u041A\u043E\u043C\u0430\u043D\u0434\u0430/\u0418\u0433\u0440\u043E\u043A 1: "),i(26,"input",17),v("ngModelChange",function(c){return x(t.newEvent.memberA,c)||(t.newEvent.memberA=c),c}),n()()(),i(27,"div",18)(28,"picture"),p(29,"img",19),n()(),i(30,"div",11),h(31,wr,2,3,"picture",12),i(32,"label",13),r(33," URL \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043A\u043E\u043C\u0430\u043D\u0434\u044B B: "),i(34,"input",14),v("ngModelChange",function(c){return x(t.newEvent.imageMemberB,c)||(t.newEvent.imageMemberB=c),c}),b("ngModelChange",function(){return t.refreshImage()}),n(),h(35,Cr,2,1,"span",15),n(),i(36,"label",16),r(37," \u041A\u043E\u043C\u0430\u043D\u0434\u0430/\u0418\u0433\u0440\u043E\u043A 2: "),i(38,"input",17),v("ngModelChange",function(c){return x(t.newEvent.memberB,c)||(t.newEvent.memberB=c),c}),n()()()(),i(39,"div",20)(40,"label",4),r(41," \u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u043F\u0440\u0438\u0437: "),i(42,"input",21),v("ngModelChange",function(c){return x(t.newEvent.grandPrize,c)||(t.newEvent.grandPrize=c),c}),n()(),i(43,"label",4),r(44," \u041F\u0440\u0438\u0437 \u0434\u043B\u044F \u043A\u0430\u0436\u0434\u043E\u0433\u043E: "),i(45,"input",22),v("ngModelChange",function(c){return x(t.newEvent.everyoneForPrize,c)||(t.newEvent.everyoneForPrize=c),c}),n()()(),i(46,"div",23)(47,"button",24),b("click",function(){return t.onCreate()}),r(48," \u0421\u043E\u0437\u0434\u0430\u0442\u044C "),i(49,"span",25),E(),i(50,"svg",26),p(51,"path",27),n()()(),M(),i(52,"button",28),b("click",function(){return t.onCancel()}),r(53," \u041E\u0442\u043C\u0435\u043D\u0430 "),n()()()),o&2&&(l(),d("ngIf",t.newEvent.imageBgDesk),l(6),f("ngModel",t.newEvent.name),l(),d("ngValue",""),l(2),d("ngForOf",t.sports),l(3),f("ngModel",t.newEvent.type),l(3),f("ngModel",t.newEvent.endAt),l(3),d("ngIf",t.newEvent.imageMemberA&&t.urlValidationService.isValidImageUrl(t.newEvent.imageMemberA)),l(3),f("ngModel",t.newEvent.imageMemberA),l(),d("ngIf",t.newEvent.imageMemberA&&!t.urlValidationService.isValidImageUrl(t.newEvent.imageMemberA)),l(3),f("ngModel",t.newEvent.memberA),l(5),d("ngIf",t.newEvent.imageMemberB&&t.urlValidationService.isValidImageUrl(t.newEvent.imageMemberB)),l(3),f("ngModel",t.newEvent.imageMemberB),l(),d("ngIf",t.newEvent.imageMemberB&&!t.urlValidationService.isValidImageUrl(t.newEvent.imageMemberB)),l(3),f("ngModel",t.newEvent.memberB),l(4),f("ngModel",t.newEvent.grandPrize),l(3),f("ngModel",t.newEvent.everyoneForPrize),l(2),d("disabled",t.isCreateDisabled))},dependencies:[O,W,K,Q,R,Z,z,j],changeDetection:0})}return a})();var yr=a=>({inactive:a}),Sr=(a,m)=>({"text-green-500":a,"text-red-500":m});function Mr(a,m){if(a&1&&(i(0,"option",7),r(1),n()),a&2){let e=m.$implicit,o=u();d("ngValue",e.url),l(),ct(" ",e.url," (",e.status==="0"?"\u041D\u0435\u0430\u043A\u0442\u0438\u0432\u0435\u043D":"\u0410\u043A\u0442\u0438\u0432\u0435\u043D",") ",o.getActiveEventTypeEventId(e.url)?" - "+o.getActiveEventTypeEventId(e.url):""," ")}}function Tr(a,m){if(a&1){let e=S();i(0,"div",12)(1,"app-event-create",13),b("sportChange",function(){g(e);let t=u();return _(t.onSportChange())})("create",function(){g(e);let t=u();return _(t.createEvent())})("cancel",function(){g(e);let t=u();return _(t.cancelCreateEvent())}),n()()}if(a&2){let e=u();l(),d("newEvent",e.newEvent)("sports",e.sports)("sportBackgrounds",e.sportBackgrounds)("landingUrl",e.selectedLandingUrl)("hasActiveEvent",e.hasActiveEvent(e.selectedLandingUrl))}}function kr(a,m){if(a&1){let e=S();i(0,"app-event-view",26),b("edit",function(){g(e);let t=u().$implicit,s=u(2);return _(s.toggleEdit(t))}),n()}if(a&2){let e=u().$implicit;d("event",e)}}function Br(a,m){if(a&1){let e=S();i(0,"app-event-edit",27),b("save",function(t){g(e);let s=u(3);return _(s.saveChanges(t))})("cancel",function(){g(e);let t=u().$implicit,s=u(2);return _(s.toggleEdit(t))}),n()}if(a&2){let e=u().$implicit;d("event",e)}}function Ir(a,m){if(a&1&&(i(0,"div",16)(1,"div",17)(2,"p",18),r(3," \u{1F310} \u0421\u0430\u0439\u0442 "),i(4,"a",19),r(5),n(),i(6,"span",20),r(7),n()(),i(8,"div",21)(9,"p",22),r(10),D(11,"date"),n()()(),h(12,kr,1,1,"app-event-view",23)(13,Br,1,1,"app-event-edit",24),p(14,"app-event-email-push",25),n()),a&2){let e=m.$implicit,o=u(2);d("ngClass",Y(14,yr,e.status==="inactive")),l(4),Se("href",e.landing_url,L),l(),C(e.landing_url),l(),d("ngClass",Ce(16,Sr,e.status==="active",e.status!=="active")),l(),w(" (",e.status==="active"?"\u0410\u043A\u0442\u0438\u0432\u043D\u043E":e.status==="inactive"?"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043E":"\u041D\u0435\u0430\u043A\u0442\u0438\u0432\u043D\u043E",") "),l(3),w(" \u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F: ",P(11,11,e.createdAt,"medium")," "),l(2),d("ngIf",!e.isEditing),l(),d("ngIf",e.isEditing),l(),d("event",e)("templates",o.templates)("siteUsers",o.siteUsers)}}function Dr(a,m){if(a&1&&(i(0,"div",14),h(1,Ir,15,19,"div",15),n()),a&2){let e=u();l(),d("ngForOf",e.filteredEvents)}}var yi=(()=>{class a{eventsSitesService;landingsService;siteUsersService;emailTemplatesService;urlValidationService;cdr;eventUsersFilter;loading=!0;successMessage=null;errorMessage=null;events=[];landings=[];siteUsers=[];emailMessages=[];templates=[];selectedWinTemplateId=null;selectedLoseTemplateId=null;selectedLandingUrl=null;uniqueLandingUrls=[];isCreatingEvent=!1;isSending=!1;selectedGroup={};uniqueLatestLandings=[];selectedSubject="";imageUrl=B.auth.imageUrl;sports=pi;sportBackgrounds=ci;newEvent=gi();timerInterval;subscriptions=new st;constructor(e,o,t,s,c,y,F){this.eventsSitesService=e,this.landingsService=o,this.siteUsersService=t,this.emailTemplatesService=s,this.urlValidationService=c,this.cdr=y,this.eventUsersFilter=F}ngOnInit(){this.loadSelectedLandingUrl(),this.newEvent.landing_url=this.selectedLandingUrl||"",this.loadData(),this.subscriptions.add(mt(15*60*1e3).subscribe(()=>this.loadData()))}resetNewEvent(){this.newEvent={name:"",type:"",endAt:"",memberA:"",memberB:"",imageMemberA:null,imageMemberB:null,imageBgDesk:null,imageBgMob:null,grandPrize:null,everyoneForPrize:null,landing_url:this.selectedLandingUrl||"",status:"active",result:null}}ngOnDestroy(){this.timerInterval&&clearInterval(this.timerInterval),this.subscriptions.unsubscribe()}onSportChange(){if(this.newEvent.name&&this.sports.includes(this.newEvent.name)){let e=this.sportBackgrounds[this.newEvent.name];this.newEvent.imageBgDesk=e.imageBgDesk,this.newEvent.imageBgMob=e.imageBgMob}else this.newEvent.imageBgDesk=null,this.newEvent.imageBgMob=null;this.cdr.markForCheck()}get filteredEvents(){return(this.selectedLandingUrl?this.events.filter(o=>o.landing_url===this.selectedLandingUrl):this.events).sort((o,t)=>{if(o.status==="active"&&t.status!=="active")return-1;if(t.status==="active"&&o.status!=="active")return 1;if(o.status!=="active"&&t.status!=="active"){let s=o.createdAt?new Date(o.createdAt).getTime():0;return(t.createdAt?new Date(t.createdAt).getTime():0)-s}return 0})}get selectedLanding(){return this.landings.find(e=>e.url===this.selectedLandingUrl)}loadSelectedLandingUrl(){let e=localStorage.getItem("eventLandingUrlFilter");this.selectedLandingUrl=e==="null"?null:e}loadData(){this.loading=!0;let e=dt({landings:this.landingsService.getLandings(),events:this.eventsSitesService.getAdminEvents(),templates:this.emailTemplatesService.getTemplates(),users:this.siteUsersService.getSiteUsers()}).subscribe({next:({landings:o,events:t,templates:s,users:c})=>{this.landings=o,this.updateUniqueLandingUrls(),this.events=t.map(y=>le(re({},y),{isEditing:!1,landing_url:y.landing_url,result:y.result??null,status:y.status||"active"})),this.templates=s,console.log("tempates",this.templates),this.siteUsers=[...c.filter(y=>y.email&&y.email.trim().length>0)],this.eventUsersFilter.clearCache(),this.loading=!1,this.isCreatingEvent=this.canCreateEvent(),this.successMessage="\u0414\u0430\u043D\u043D\u044B\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B",this.cdr.markForCheck()},error:o=>{this.errorMessage=`\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445: ${o.message}`,this.cdr.markForCheck(),this.loading=!1,this.landings.length>0&&(this.updateUniqueLandingUrls(),this.cdr.markForCheck())}});this.subscriptions.add(e)}updateUniqueLandingUrls(){let e=new Map;this.landings.forEach(c=>{if(!c.url)return;let y=e.get(c.url);(!y||new Date(c.createdAt).getTime()>new Date(y.createdAt).getTime())&&e.set(c.url,c)});let o=c=>{let y=c.match(/\/vote\/(\d+)/);return y?Number(y[1]):1/0},t=Array.from(e.values()).sort((c,y)=>o(c.url)-o(y.url));(this.uniqueLatestLandings.length!==t.length||this.uniqueLatestLandings.some((c,y)=>c.url!==t[y].url))&&(this.uniqueLatestLandings=t,this.selectedLandingUrl&&!this.uniqueLatestLandings.some(c=>c.url===this.selectedLandingUrl)&&(this.selectedLandingUrl=null,localStorage.setItem("eventLandingUrlFilter","null")),!this.selectedLandingUrl&&this.uniqueLatestLandings.length>0&&(this.selectedLandingUrl=this.uniqueLatestLandings[0].url,localStorage.setItem("eventLandingUrlFilter",this.selectedLandingUrl)),this.isCreatingEvent=this.canCreateEvent(),this.cdr.markForCheck())}onLandingUrlFilterChange(){localStorage.setItem("eventLandingUrlFilter",this.selectedLandingUrl===null?"null":this.selectedLandingUrl),this.isCreatingEvent=this.canCreateEvent(),this.newEvent.landing_url=this.selectedLandingUrl||"",this.cdr.markForCheck()}toggleCreateEvent(){if(!this.canCreateEvent()){this.errorMessage='\u041D\u0435\u043B\u044C\u0437\u044F \u0441\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u043E\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u0435, \u043F\u043E\u043A\u0430 \u043B\u0435\u043D\u0434\u0438\u043D\u0433 \u043D\u0435 \u0438\u043C\u0435\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441 "inactive"',this.cdr.markForCheck();return}this.isCreatingEvent=!this.isCreatingEvent,this.isCreatingEvent?this.newEvent.landing_url=this.selectedLandingUrl||"":this.resetNewEvent(),this.clearMessages(),this.cdr.markForCheck()}cancelCreateEvent(){this.isCreatingEvent=!1,this.resetNewEvent(),this.clearMessages(),this.cdr.markForCheck()}canCreateEvent(){return this.landings.find(o=>o.url===this.selectedLandingUrl)?.status==="0"||!this.selectedLandingUrl}hasAnyEvent(e){return this.events.some(o=>o.landing_url===e)}hasActiveEvent(e=this.selectedLandingUrl||""){return this.events.some(o=>o.landing_url===e&&o.status==="active"&&o.endAt&&new Date(o.endAt).getTime()>Date.now())}getActiveEventTypeEventId(e){let o=this.events.find(t=>t.landing_url===e&&t.status==="active"&&t.endAt&&new Date(t.endAt).getTime()>Date.now());return o?o.typeEventId:null}createEvent(){if(this.hasActiveEvent(this.newEvent.landing_url)){this.errorMessage="\u041D\u0430 \u044D\u0442\u043E\u043C \u043B\u0435\u043D\u0434\u0438\u043D\u0433\u0435 \u0443\u0436\u0435 \u0435\u0441\u0442\u044C \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u0435",this.cdr.markForCheck();return}if(!this.newEvent.name||!this.sports.includes(this.newEvent.name)||!this.newEvent.type||!this.newEvent.endAt||!this.newEvent.memberA||!this.newEvent.memberB||!this.newEvent.landing_url||this.newEvent.imageMemberA&&!this.urlValidationService.isValidImageUrl(this.newEvent.imageMemberA)||this.newEvent.imageMemberB&&!this.urlValidationService.isValidImageUrl(this.newEvent.imageMemberB)){this.errorMessage="\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0432\u0441\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043F\u043E\u043B\u044F \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E \u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0438\u0434 \u0441\u043F\u043E\u0440\u0442\u0430 \u0438\u0437 \u0441\u043F\u0438\u0441\u043A\u0430",this.cdr.markForCheck();return}let e=new Date(this.newEvent.endAt).toISOString().slice(0,10).replace(/-/g,""),o=`${this.newEvent.type.toLowerCase().replace(/\s+/g,"-")}-${this.newEvent.name.toLowerCase().replace(/\s+/g,"-")}-${e}-${this.newEvent.memberA.toLowerCase().replace(/\s+/g,"-")}-${this.newEvent.memberB.toLowerCase().replace(/\s+/g,"-")}`,t=this.eventsSitesService.getAdminEvents().subscribe({next:s=>{if(s.some(F=>F.typeEventId===o)){this.errorMessage=`\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0441 typeEventId "${o}" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442`,this.cdr.markForCheck();return}let c={typeEventId:o,name:this.newEvent.name,type:this.newEvent.type,endAt:new Date(this.newEvent.endAt).toISOString(),memberA:this.newEvent.memberA,memberB:this.newEvent.memberB,imageMemberA:this.newEvent.imageMemberA||null,imageMemberB:this.newEvent.imageMemberB||null,imageBgDesk:this.newEvent.imageBgDesk||null,imageBgMob:this.newEvent.imageBgMob||null,grandPrize:this.newEvent.grandPrize||null,everyoneForPrize:this.newEvent.everyoneForPrize||null,landing_url:this.newEvent.landing_url,status:"active",result:null},y=this.eventsSitesService.createEvent(c).subscribe({next:F=>{let N=this.landings.find($=>$.url===F.landing_url);N?this.landingsService.updateLanding(N.id,{status:"active"}).subscribe({next:()=>{this.successMessage="\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0441\u043E\u0437\u0434\u0430\u043D\u043E, \u0438 \u0441\u0442\u0430\u0442\u0443\u0441 \u043B\u0435\u043D\u0434\u0438\u043D\u0433\u0430 \u043E\u0431\u043D\u043E\u0432\u043B\u0451\u043D \u043D\u0430 active!",N.status="active",this.isCreatingEvent=!1,this.resetNewEvent(),this.loadData(),setTimeout(()=>{this.closeMessages()},3e3)},error:$=>{this.errorMessage=`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043B\u0435\u043D\u0434\u0438\u043D\u0433\u0430: ${$.message}`,this.cdr.markForCheck()}}):(this.successMessage="\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0437\u0434\u0430\u043D\u043E!",this.isCreatingEvent=!1,this.resetNewEvent(),this.loadData(),setTimeout(()=>{this.closeMessages()},3e3))},error:F=>{this.errorMessage=`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u0441\u043E\u0431\u044B\u0442\u0438\u044F: ${F.message}`,this.cdr.markForCheck()}});this.subscriptions.add(y)},error:s=>{this.errorMessage=`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u0440\u043E\u0432\u0435\u0440\u043A\u0435 typeEventId: ${s.message}`,this.cdr.markForCheck()}});this.subscriptions.add(t)}toggleEdit(e){if(e.status==="inactive"){this.errorMessage="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043D\u043D\u044B\u0445 \u0438\u043B\u0438 \u043D\u0435\u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0445 \u0441\u043E\u0431\u044B\u0442\u0438\u0439 \u0437\u0430\u043F\u0440\u0435\u0449\u0435\u043D\u043E",this.cdr.markForCheck();return}e.isEditing=!e.isEditing,e.isEditing||this.loadData(),this.clearMessages(),this.cdr.markForCheck()}saveChanges(e){if(console.log("Starting saveChanges for event:",JSON.stringify(e,null,2)),e.result!==null&&![1,2,3].includes(Number(e.result))){this.errorMessage="\u041D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442 \u0441\u043E\u0431\u044B\u0442\u0438\u044F. \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 1, 2 \u0438\u043B\u0438 3",console.log("Invalid result value:",e.result),this.cdr.markForCheck();return}let o={name:e.name,type:e.type,endAt:e.endAt?new Date(e.endAt).toISOString():void 0,memberA:e.memberA,memberB:e.memberB,imageMemberA:e.imageMemberA,imageMemberB:e.imageMemberB,imageBgDesk:e.imageBgDesk,imageBgMob:e.imageBgMob,grandPrize:e.grandPrize,everyoneForPrize:e.everyoneForPrize,status:e.status,result:e.result!==null?Number(e.result):null};console.log("Update data being sent:",JSON.stringify(o,null,2)),console.log("Attempting to send PATCH request for event:",e.typeEventId);let t=this.eventsSitesService.updateEventById(e.id,o).subscribe({next:s=>{Object.assign(e,s,{isEditing:!1}),this.successMessage="\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u043E!",this.loadData(),this.cdr.markForCheck()},error:s=>{this.errorMessage=`\u041E\u0448\u0438\u0431\u043A\u0430: ${s.message}`,this.cdr.markForCheck()}});this.subscriptions.add(t)}onResultChange(e,o){console.log("Result changed for event:",o.typeEventId,"New result:",e),o.result=e!==null?Number(e):null,this.saveChanges(o)}refreshImage(e){this.clearMessages(),this.cdr.markForCheck()}loadTemplates(){let e=this.emailTemplatesService.getTemplates().subscribe({next:o=>{this.templates=o,o.length>0&&(this.selectedWinTemplateId=o[0].id,this.selectedLoseTemplateId=o[0].id),this.cdr.markForCheck()},error:o=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0448\u0430\u0431\u043B\u043E\u043D\u043E\u0432",this.cdr.markForCheck()}});this.subscriptions.add(e)}loadSiteUsers(){let e=this.siteUsersService.getSiteUsers().subscribe({next:o=>{this.siteUsers=o.filter(t=>t.email&&t.email.trim().length>0),console.log("Loaded site users in loadSiteUsers:",JSON.stringify(this.siteUsers,null,2)),this.cdr.markForCheck()},error:o=>{this.errorMessage="\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439 \u0441\u0430\u0439\u0442\u0430",this.cdr.markForCheck()}});this.subscriptions.add(e)}getUsersForEvent(e,o){return this.eventUsersFilter.getUsersForEvent(this.siteUsers,e,o)}getFilteredUsersForEvent(e,o,t,s="all"){return e?this.eventUsersFilter.getFilteredUsersForEvent(this.siteUsers,e,o,t??null,s):[]}closeMessages(){this.successMessage=null,this.errorMessage=null,this.cdr.markForCheck()}clearMessages(){this.successMessage=null,this.errorMessage=null,this.cdr.markForCheck()}static \u0275fac=function(o){return new(o||a)(k(_i),k(hi),k(We),k(at),k(ce),k(Ee),k(Le))};static \u0275cmp=T({type:a,selectors:[["app-events-sites"]],decls:15,vars:5,consts:[[1,"events-page","ml-side","section-full"],[1,"mx-auto","pt-[10px]"],[1,"bg-main-trans2-gradient-90","header-tab","flex","items-center","justify-between","py-[10px]","mb-0","rounded-[20px]","w-full","pr-4","max-w-[1200px]","mx-auto"],[1,"title-group","flex","items-center","gap-4"],[1,"title-tab","text-xl","font-bold","text-indigo-600","w-[30%]"],[1,"title-tab","text-main-trans","font-bold","w-fit"],[1,"select","select-primary","text-xl","rounded-[25px]","w-full",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","viewBox","0 0 24 24"],["class","card-wrapper bg-main-trans-gradient-0 rounded-[20px] px-[20px] pt-[15px] pb-[80px]",4,"ngIf"],["class","card-wrapper bg-main-trans-gradient-0 rounded-[20px] px-[20px] pt-[15px] pb-[80px] min-h-[91dvh] h-auto",4,"ngIf"],[1,"card-wrapper","bg-main-trans-gradient-0","rounded-[20px]","px-[20px]","pt-[15px]","pb-[80px]"],[3,"sportChange","create","cancel","newEvent","sports","sportBackgrounds","landingUrl","hasActiveEvent"],[1,"card-wrapper","bg-main-trans-gradient-0","rounded-[20px]","px-[20px]","pt-[15px]","pb-[80px]","min-h-[91dvh]","h-auto"],["class","event-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"event-card",3,"ngClass"],[1,"flex","items-center","justify-between","w-[90%]","mx-auto","pt-[20px]","pb-[20px]"],[1,"text-lg","font-bold","text-indigo-600","nj-toast-gradient"],["target","_blank",3,"href"],[1,"text-sm",3,"ngClass"],[1,"card-date","flex","items-center","gap-2"],[1,"text-xs","text-gray-500"],[3,"event","edit",4,"ngIf"],[3,"event","save","cancel",4,"ngIf"],[3,"event","templates","siteUsers"],[3,"edit","event"],[3,"save","cancel","event"]],template:function(o,t){o&1&&(p(0,"app-sidebar"),i(1,"section",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h2",4),r(6," \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0430\u0439\u0442 \u0441\u043E\u0431\u044B\u0442\u0438\u044F: \u{1F449} "),n(),i(7,"div",5)(8,"select",6),v("ngModelChange",function(c){return x(t.selectedLandingUrl,c)||(t.selectedLandingUrl=c),c}),b("ngModelChange",function(){return t.onLandingUrlFilterChange()}),i(9,"option",7),r(10,"\u0412\u0441\u0435 \u043B\u0435\u043D\u0434\u0438\u043D\u0433\u0438"),n(),h(11,Mr,2,4,"option",8),n()()(),E(),p(12,"svg",9),n(),h(13,Tr,2,5,"div",10)(14,Dr,2,1,"div",11),n()()),o&2&&(l(8),f("ngModel",t.selectedLandingUrl),l(),d("ngValue",null),l(2),d("ngForOf",t.uniqueLatestLandings),l(2),d("ngIf",t.selectedLandingUrl&&t.canCreateEvent()),l(),d("ngIf",!t.loading&&t.filteredEvents.length>0))},dependencies:[G,O,W,te,K,Q,Z,z,j,xi,vi,Ci,Ei,J],changeDetection:0})}return a})();var Fr=[{path:"",component:Ht},{path:"add-button",component:$t},{path:"push",component:qt},{path:"images",component:ei},{path:"users",component:Xt},{path:"site-users",component:di},{path:"email-sent",component:ui},{path:"events",component:yi},{path:"tutorials",component:mi},{path:"**",redirectTo:"",pathMatch:"full"}],Si=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=Ie({type:a});static \u0275inj=Be({imports:[ze.forChild(Fr),ze]})}return a})();var k4=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=Ie({type:a});static \u0275inj=Be({imports:[qe,It,Si,yt]})}return a})();export{k4 as AdminModule};
